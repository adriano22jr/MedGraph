"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.reassignTo = void 0;
const id_1 = require("../utils/id");
/**
 * <zh/> 重新分配绘制任务
 *
 * <en/> Reassign drawing tasks
 * @param input - <zh>绘制数据 | <en>DrawData
 * @param type - <zh>类型 | <en>type
 * @param elementType - <zh>元素类型 | <en>element type
 * @param datum - <zh>数据 | <en>data
 * @param overwrite - <zh>是否覆盖现有数据 | <en>whether to overwrite existing data
 */
function reassignTo(input, type, elementType, datum, overwrite) {
    const id = (0, id_1.idOf)(datum);
    const typeName = `${elementType}s`;
    const exitsDatum = overwrite
        ? datum
        : input.add[typeName].get(id) || input.update[typeName].get(id) || input.remove[typeName].get(id) || datum;
    Object.entries(input).forEach(([_type, value]) => {
        if (type === _type)
            value[typeName].set(id, exitsDatum);
        else
            value[typeName].delete(id);
    });
}
exports.reassignTo = reassignTo;
//# sourceMappingURL=utils.js.map