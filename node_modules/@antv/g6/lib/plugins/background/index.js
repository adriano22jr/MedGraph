"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Background = void 0;
const util_1 = require("@antv/util");
const dom_1 = require("../../utils/dom");
const base_plugin_1 = require("../base-plugin");
/**
 * <zh/> 背景图
 *
 * <en/> Background image
 * @remarks
 * <zh/> 支持为图画布设置一个背景图片，让画布更有层次感、叙事性。
 *
 * <en/> Support setting a background image for the canvas to make the canvas more hierarchical and narrative.
 */
class Background extends base_plugin_1.BasePlugin {
    static defaultOptions = {
        transition: 'background 0.5s',
        backgroundSize: 'cover',
    };
    $element = (0, dom_1.createPluginContainer)('background');
    constructor(context, options) {
        super(context, Object.assign({}, Background.defaultOptions, options));
        const $container = this.context.canvas.getContainer();
        $container.prepend(this.$element);
        this.update(options);
    }
    /**
     * <zh/> 更新背景图配置
     *
     * <en/> Update the background image configuration
     * @param options - <zh/> 配置项 | <en/> Options
     * @internal
     */
    async update(options) {
        super.update(options);
        // Set the background style.
        Object.assign(this.$element.style, (0, util_1.omit)(this.options, ['key', 'type']));
    }
    /**
     * <zh/> 销毁背景图
     *
     * <en/> Destroy the background image
     */
    destroy() {
        super.destroy();
        // Remove the background dom.
        this.$element.remove();
    }
}
exports.Background = Background;
//# sourceMappingURL=index.js.map