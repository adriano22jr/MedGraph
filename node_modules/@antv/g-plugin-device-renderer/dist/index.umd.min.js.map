{"version":3,"file":"index.umd.min.js","sources":["../../../node_modules/.pnpm/node_modules/tslib/tslib.es6.js","../src/packages/g-plugin-device-renderer/src/components/Renderable3D.ts","../src/packages/g-plugin-device-renderer/src/LightPool.ts","../src/packages/g-plugin-device-renderer/src/Mesh.ts","../src/packages/g-plugin-device-renderer/src/MeshUpdater.ts","../src/packages/g-plugin-device-renderer/src/PickingIdGenerator.ts","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-nil.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-type.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-string.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/clamp.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/lodash/is-number.js","../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/common.js","../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/mat4.js","../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec3.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/path/util/rotate-vector.js","../../../node_modules/.pnpm/@antv+util@3.3.5/node_modules/@antv/util/esm/path/process/arc-2-cubic.js","../../../node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js","../../../node_modules/.pnpm/@antv+g-device-api@1.6.10/node_modules/@antv/g-device-api/es/index.js","../src/packages/g-plugin-device-renderer/src/render/DeviceProgram.ts","../src/packages/g-plugin-device-renderer/src/render/DynamicUniformBuffer.ts","../src/packages/g-plugin-device-renderer/src/render/HashMap.ts","../src/packages/g-plugin-device-renderer/src/render/RenderCache.ts","../src/packages/g-plugin-device-renderer/src/interfaces.ts","../src/packages/g-plugin-device-renderer/src/render/interfaces.ts","../src/packages/g-plugin-device-renderer/src/render/RenderGraphPass.ts","../src/packages/g-plugin-device-renderer/src/render/utils/layer.ts","../src/packages/g-plugin-device-renderer/src/render/RenderTarget.ts","../src/packages/g-plugin-device-renderer/src/render/SingleSampledTexture.ts","../src/packages/g-plugin-device-renderer/src/render/RenderGraph.ts","../src/packages/g-plugin-device-renderer/src/render/utils/projection.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInst.ts","../src/packages/g-plugin-device-renderer/src/render/utils/matrix.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInstList.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInstPool.ts","../src/packages/g-plugin-device-renderer/src/render/RenderInstManager.ts","../src/packages/g-plugin-device-renderer/src/render/RenderHelper.ts","../src/packages/g-plugin-device-renderer/src/render/RenderTargetDescription.ts","../src/packages/g-plugin-device-renderer/src/render/RenderGraphHelpers.ts","../src/packages/g-plugin-device-renderer/src/render/TextureHolder.ts","../src/packages/g-plugin-device-renderer/src/lights/Fog.ts","../src/packages/g-plugin-device-renderer/src/render/TemporalTexture.ts","../src/packages/g-plugin-device-renderer/src/lights/Light.ts","../src/packages/g-plugin-device-renderer/src/geometries/BufferGeometry.ts","../src/packages/g-plugin-device-renderer/src/passes/FXAA.ts","../src/packages/g-plugin-device-renderer/src/RenderGraphPlugin.ts","../src/packages/g-plugin-device-renderer/src/PickingPlugin.ts","../src/packages/g-plugin-device-renderer/src/renderer/Batch.ts","../src/packages/g-plugin-device-renderer/src/materials/Material.ts","../src/packages/g-plugin-device-renderer/src/materials/ShaderMaterial.ts","../src/packages/g-plugin-device-renderer/src/utils/enum.ts","../src/packages/g-plugin-device-renderer/src/utils/compression.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Instanced.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/SDF.ts","../../../node_modules/.pnpm/earcut@2.2.3/node_modules/earcut/src/earcut.js","../../g-math/dist/index.esm.js","../src/packages/g-plugin-device-renderer/src/utils/sample.ts","../src/packages/g-plugin-device-renderer/src/utils/tiny-sdf.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/InstancedPath.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/InstancedFill.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/InstancedLine.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Image.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/AlphaImage.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/GlyphAtlas.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/GlyphManager.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Text.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/symbol/SymbolQuad.ts","../src/packages/g-plugin-device-renderer/src/drawcalls/Mesh.ts","../src/packages/g-plugin-device-renderer/src/renderer/Circle.ts","../src/packages/g-plugin-device-renderer/src/renderer/Path.ts","../src/packages/g-plugin-device-renderer/src/renderer/Group.ts","../src/packages/g-plugin-device-renderer/src/renderer/Image.ts","../src/packages/g-plugin-device-renderer/src/renderer/Text.ts","../src/packages/g-plugin-device-renderer/src/renderer/Line.ts","../src/packages/g-plugin-device-renderer/src/renderer/Mesh.ts","../src/packages/g-plugin-device-renderer/src/renderer/Rect.ts","../src/packages/g-plugin-device-renderer/src/renderer/BatchManager.ts","../src/packages/g-plugin-device-renderer/src/TexturePool.ts","../src/packages/g-plugin-device-renderer/src/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n",null,null,null,null,null,"// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","var toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexport default isType;\n//# sourceMappingURL=is-type.js.map","import isType from './is-type';\nexport default (function (str) {\n    return isType(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","export function rotateVector(x, y, rad) {\n    var X = x * Math.cos(rad) - y * Math.sin(rad);\n    var Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return { x: X, y: Y };\n}\n//# sourceMappingURL=rotate-vector.js.map","import { rotateVector } from '../util/rotate-vector';\n/**\n * Converts A (arc-to) segments to C (cubic-bezier-to).\n *\n * For more information of where this math came from visit:\n * http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n */\nexport function arcToCubic(X1, Y1, RX, RY, angle, LAF, SF, X2, Y2, recursive) {\n    var x1 = X1;\n    var y1 = Y1;\n    var rx = RX;\n    var ry = RY;\n    var x2 = X2;\n    var y2 = Y2;\n    // for more information of where this Math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    var d120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    /** @type {number[]} */\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    if (!recursive) {\n        xy = rotateVector(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotateVector(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx *= h;\n            ry *= h;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (LAF === SF ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        // eslint-disable-next-line no-bitwise -- Impossible to satisfy no-bitwise\n        f1 = Math.asin(((((y1 - cy) / ry) * Math.pow(10, 9)) >> 0) / Math.pow(10, 9));\n        // eslint-disable-next-line no-bitwise -- Impossible to satisfy no-bitwise\n        f2 = Math.asin(((((y2 - cy) / ry) * Math.pow(10, 9)) >> 0) / Math.pow(10, 9));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        if (f1 < 0)\n            f1 = Math.PI * 2 + f1;\n        if (f2 < 0)\n            f2 = Math.PI * 2 + f2;\n        if (SF && f1 > f2) {\n            f1 -= Math.PI * 2;\n        }\n        if (!SF && f2 > f1) {\n            f2 -= Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0], f2 = recursive[1], cx = recursive[2], cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > d120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + d120 * (SF && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = arcToCubic(x2, y2, rx, ry, angle, 0, SF, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return m2.concat(m3, m4, res);\n        // return [...m2, ...m3, ...m4, ...res];\n    }\n    res = m2.concat(m3, m4, res);\n    // res = [...m2, ...m3, ...m4, ...res];\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i += 1) {\n        newres[i] = i % 2 ? rotateVector(res[i - 1], res[i], rad).y : rotateVector(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n}\n// const TAU = Math.PI * 2;\n// const mapToEllipse = (\n//   { x, y }: { x: number; y: number },\n//   rx: number,\n//   ry: number,\n//   cosphi: number,\n//   sinphi: number,\n//   centerx: number,\n//   centery: number,\n// ) => {\n//   x *= rx;\n//   y *= ry;\n//   const xp = cosphi * x - sinphi * y;\n//   const yp = sinphi * x + cosphi * y;\n//   return {\n//     x: xp + centerx,\n//     y: yp + centery,\n//   };\n// };\n// const approxUnitArc = (ang1: number, ang2: number) => {\n//   // If 90 degree circular arc, use a constant\n//   // as derived from http://spencermortensen.com/articles/bezier-circle\n//   const a =\n//     ang2 === 1.5707963267948966\n//       ? 0.551915024494\n//       : ang2 === -1.5707963267948966\n//       ? -0.551915024494\n//       : (4 / 3) * Math.tan(ang2 / 4);\n//   const x1 = Math.cos(ang1);\n//   const y1 = Math.sin(ang1);\n//   const x2 = Math.cos(ang1 + ang2);\n//   const y2 = Math.sin(ang1 + ang2);\n//   return [\n//     {\n//       x: x1 - y1 * a,\n//       y: y1 + x1 * a,\n//     },\n//     {\n//       x: x2 + y2 * a,\n//       y: y2 - x2 * a,\n//     },\n//     {\n//       x: x2,\n//       y: y2,\n//     },\n//   ];\n// };\n// const vectorAngle = (ux: number, uy: number, vx: number, vy: number) => {\n//   const sign = ux * vy - uy * vx < 0 ? -1 : 1;\n//   let dot = ux * vx + uy * vy;\n//   if (dot > 1) {\n//     dot = 1;\n//   }\n//   if (dot < -1) {\n//     dot = -1;\n//   }\n//   return sign * Math.acos(dot);\n// };\n// const getArcCenter = (\n//   px: any,\n//   py: any,\n//   cx: any,\n//   cy: any,\n//   rx: number,\n//   ry: number,\n//   largeArcFlag: number,\n//   sweepFlag: number,\n//   sinphi: number,\n//   cosphi: number,\n//   pxp: number,\n//   pyp: number,\n// ) => {\n//   const rxsq = Math.pow(rx, 2);\n//   const rysq = Math.pow(ry, 2);\n//   const pxpsq = Math.pow(pxp, 2);\n//   const pypsq = Math.pow(pyp, 2);\n//   let radicant = rxsq * rysq - rxsq * pypsq - rysq * pxpsq;\n//   if (radicant < 0) {\n//     radicant = 0;\n//   }\n//   radicant /= rxsq * pypsq + rysq * pxpsq;\n//   radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n//   const centerxp = ((radicant * rx) / ry) * pyp;\n//   const centeryp = ((radicant * -ry) / rx) * pxp;\n//   const centerx = cosphi * centerxp - sinphi * centeryp + (px + cx) / 2;\n//   const centery = sinphi * centerxp + cosphi * centeryp + (py + cy) / 2;\n//   const vx1 = (pxp - centerxp) / rx;\n//   const vy1 = (pyp - centeryp) / ry;\n//   const vx2 = (-pxp - centerxp) / rx;\n//   const vy2 = (-pyp - centeryp) / ry;\n//   const ang1 = vectorAngle(1, 0, vx1, vy1);\n//   let ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n//   if (sweepFlag === 0 && ang2 > 0) {\n//     ang2 -= TAU;\n//   }\n//   if (sweepFlag === 1 && ang2 < 0) {\n//     ang2 += TAU;\n//   }\n//   return [centerx, centery, ang1, ang2];\n// };\n// const arcToBezier = ({ px, py, cx, cy, rx, ry, xAxisRotation = 0, largeArcFlag = 0, sweepFlag = 0 }) => {\n//   const curves = [];\n//   if (rx === 0 || ry === 0) {\n//     return [{ x1: 0, y1: 0, x2: 0, y2: 0, x: cx, y: cy }];\n//   }\n//   const sinphi = Math.sin((xAxisRotation * TAU) / 360);\n//   const cosphi = Math.cos((xAxisRotation * TAU) / 360);\n//   const pxp = (cosphi * (px - cx)) / 2 + (sinphi * (py - cy)) / 2;\n//   const pyp = (-sinphi * (px - cx)) / 2 + (cosphi * (py - cy)) / 2;\n//   if (pxp === 0 && pyp === 0) {\n//     return [{ x1: 0, y1: 0, x2: 0, y2: 0, x: cx, y: cy }];\n//   }\n//   rx = Math.abs(rx);\n//   ry = Math.abs(ry);\n//   const lambda = Math.pow(pxp, 2) / Math.pow(rx, 2) + Math.pow(pyp, 2) / Math.pow(ry, 2);\n//   if (lambda > 1) {\n//     rx *= Math.sqrt(lambda);\n//     ry *= Math.sqrt(lambda);\n//   }\n//   let [centerx, centery, ang1, ang2] = getArcCenter(\n//     px,\n//     py,\n//     cx,\n//     cy,\n//     rx,\n//     ry,\n//     largeArcFlag,\n//     sweepFlag,\n//     sinphi,\n//     cosphi,\n//     pxp,\n//     pyp,\n//   );\n//   // If 'ang2' == 90.0000000001, then `ratio` will evaluate to\n//   // 1.0000000001. This causes `segments` to be greater than one, which is an\n//   // unecessary split, and adds extra points to the bezier curve. To alleviate\n//   // this issue, we round to 1.0 when the ratio is close to 1.0.\n//   let ratio = Math.abs(ang2) / (TAU / 4);\n//   if (Math.abs(1.0 - ratio) < 0.0000001) {\n//     ratio = 1.0;\n//   }\n//   const segments = Math.max(Math.ceil(ratio), 1);\n//   ang2 /= segments;\n//   for (let i = 0; i < segments; i++) {\n//     curves.push(approxUnitArc(ang1, ang2));\n//     ang1 += ang2;\n//   }\n//   return curves.map((curve) => {\n//     const { x: x1, y: y1 } = mapToEllipse(curve[0], rx, ry, cosphi, sinphi, centerx, centery);\n//     const { x: x2, y: y2 } = mapToEllipse(curve[1], rx, ry, cosphi, sinphi, centerx, centery);\n//     const { x, y } = mapToEllipse(curve[2], rx, ry, cosphi, sinphi, centerx, centery);\n//     return { x1, y1, x2, y2, x, y };\n//   });\n// };\n// export function arcToCubic(\n//   x1: number,\n//   y1: number,\n//   rx: number,\n//   ry: number,\n//   angle: number,\n//   LAF: number,\n//   SF: number,\n//   x2: number,\n//   y2: number,\n// ) {\n//   const curves = arcToBezier({\n//     px: x1,\n//     py: y1,\n//     cx: x2,\n//     cy: y2,\n//     rx,\n//     ry,\n//     xAxisRotation: angle,\n//     largeArcFlag: LAF,\n//     sweepFlag: SF,\n//   });\n//   return curves.reduce((prev, cur) => {\n//     const { x1, y1, x2, y2, x, y } = cur;\n//     prev.push(x1, y1, x2, y2, x, y);\n//     return prev;\n//   }, [] as number[]);\n// }\n//# sourceMappingURL=arc-2-cubic.js.map","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { isNil, isNumber, clamp } from '@antv/util';\nimport { __read, __extends, __values, __assign, __awaiter, __generator, __spreadArray, __rest } from 'tslib';\nimport EventEmitter from 'eventemitter3';\n\n/**\n * ported from @luma.gl/constants\n *\n * Standard WebGL and WebGL2 constants\n * These constants are also defined on the WebGLRenderingContext interface.\n */\nvar GL;\n(function (GL) {\n    // Clearing buffers\n    // Constants passed to clear() to clear buffer masks.\n    GL[GL[\"DEPTH_BUFFER_BIT\"] = 256] = \"DEPTH_BUFFER_BIT\";\n    GL[GL[\"STENCIL_BUFFER_BIT\"] = 1024] = \"STENCIL_BUFFER_BIT\";\n    GL[GL[\"COLOR_BUFFER_BIT\"] = 16384] = \"COLOR_BUFFER_BIT\";\n    // Rendering primitives\n    // Constants passed to drawElements() or drawArrays() to specify what kind of primitive to render.\n    GL[GL[\"POINTS\"] = 0] = \"POINTS\";\n    GL[GL[\"LINES\"] = 1] = \"LINES\";\n    GL[GL[\"LINE_LOOP\"] = 2] = \"LINE_LOOP\";\n    GL[GL[\"LINE_STRIP\"] = 3] = \"LINE_STRIP\";\n    GL[GL[\"TRIANGLES\"] = 4] = \"TRIANGLES\";\n    GL[GL[\"TRIANGLE_STRIP\"] = 5] = \"TRIANGLE_STRIP\";\n    GL[GL[\"TRIANGLE_FAN\"] = 6] = \"TRIANGLE_FAN\";\n    // Blending modes\n    // Constants passed to blendFunc() or blendFuncSeparate() to specify the blending mode (for both, RBG and alpha, or separately).\n    GL[GL[\"ZERO\"] = 0] = \"ZERO\";\n    GL[GL[\"ONE\"] = 1] = \"ONE\";\n    GL[GL[\"SRC_COLOR\"] = 768] = \"SRC_COLOR\";\n    GL[GL[\"ONE_MINUS_SRC_COLOR\"] = 769] = \"ONE_MINUS_SRC_COLOR\";\n    GL[GL[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    GL[GL[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    GL[GL[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    GL[GL[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n    GL[GL[\"DST_COLOR\"] = 774] = \"DST_COLOR\";\n    GL[GL[\"ONE_MINUS_DST_COLOR\"] = 775] = \"ONE_MINUS_DST_COLOR\";\n    GL[GL[\"SRC_ALPHA_SATURATE\"] = 776] = \"SRC_ALPHA_SATURATE\";\n    GL[GL[\"CONSTANT_COLOR\"] = 32769] = \"CONSTANT_COLOR\";\n    GL[GL[\"ONE_MINUS_CONSTANT_COLOR\"] = 32770] = \"ONE_MINUS_CONSTANT_COLOR\";\n    GL[GL[\"CONSTANT_ALPHA\"] = 32771] = \"CONSTANT_ALPHA\";\n    GL[GL[\"ONE_MINUS_CONSTANT_ALPHA\"] = 32772] = \"ONE_MINUS_CONSTANT_ALPHA\";\n    // Blending equations\n    // Constants passed to blendEquation() or blendEquationSeparate() to control\n    // how the blending is calculated (for both, RBG and alpha, or separately).\n    GL[GL[\"FUNC_ADD\"] = 32774] = \"FUNC_ADD\";\n    GL[GL[\"FUNC_SUBTRACT\"] = 32778] = \"FUNC_SUBTRACT\";\n    GL[GL[\"FUNC_REVERSE_SUBTRACT\"] = 32779] = \"FUNC_REVERSE_SUBTRACT\";\n    // Getting GL parameter information\n    // Constants passed to getParameter() to specify what information to return.\n    GL[GL[\"BLEND_EQUATION\"] = 32777] = \"BLEND_EQUATION\";\n    GL[GL[\"BLEND_EQUATION_RGB\"] = 32777] = \"BLEND_EQUATION_RGB\";\n    GL[GL[\"BLEND_EQUATION_ALPHA\"] = 34877] = \"BLEND_EQUATION_ALPHA\";\n    GL[GL[\"BLEND_DST_RGB\"] = 32968] = \"BLEND_DST_RGB\";\n    GL[GL[\"BLEND_SRC_RGB\"] = 32969] = \"BLEND_SRC_RGB\";\n    GL[GL[\"BLEND_DST_ALPHA\"] = 32970] = \"BLEND_DST_ALPHA\";\n    GL[GL[\"BLEND_SRC_ALPHA\"] = 32971] = \"BLEND_SRC_ALPHA\";\n    GL[GL[\"BLEND_COLOR\"] = 32773] = \"BLEND_COLOR\";\n    GL[GL[\"ARRAY_BUFFER_BINDING\"] = 34964] = \"ARRAY_BUFFER_BINDING\";\n    GL[GL[\"ELEMENT_ARRAY_BUFFER_BINDING\"] = 34965] = \"ELEMENT_ARRAY_BUFFER_BINDING\";\n    GL[GL[\"LINE_WIDTH\"] = 2849] = \"LINE_WIDTH\";\n    GL[GL[\"ALIASED_POINT_SIZE_RANGE\"] = 33901] = \"ALIASED_POINT_SIZE_RANGE\";\n    GL[GL[\"ALIASED_LINE_WIDTH_RANGE\"] = 33902] = \"ALIASED_LINE_WIDTH_RANGE\";\n    GL[GL[\"CULL_FACE_MODE\"] = 2885] = \"CULL_FACE_MODE\";\n    GL[GL[\"FRONT_FACE\"] = 2886] = \"FRONT_FACE\";\n    GL[GL[\"DEPTH_RANGE\"] = 2928] = \"DEPTH_RANGE\";\n    GL[GL[\"DEPTH_WRITEMASK\"] = 2930] = \"DEPTH_WRITEMASK\";\n    GL[GL[\"DEPTH_CLEAR_VALUE\"] = 2931] = \"DEPTH_CLEAR_VALUE\";\n    GL[GL[\"DEPTH_FUNC\"] = 2932] = \"DEPTH_FUNC\";\n    GL[GL[\"STENCIL_CLEAR_VALUE\"] = 2961] = \"STENCIL_CLEAR_VALUE\";\n    GL[GL[\"STENCIL_FUNC\"] = 2962] = \"STENCIL_FUNC\";\n    GL[GL[\"STENCIL_FAIL\"] = 2964] = \"STENCIL_FAIL\";\n    GL[GL[\"STENCIL_PASS_DEPTH_FAIL\"] = 2965] = \"STENCIL_PASS_DEPTH_FAIL\";\n    GL[GL[\"STENCIL_PASS_DEPTH_PASS\"] = 2966] = \"STENCIL_PASS_DEPTH_PASS\";\n    GL[GL[\"STENCIL_REF\"] = 2967] = \"STENCIL_REF\";\n    GL[GL[\"STENCIL_VALUE_MASK\"] = 2963] = \"STENCIL_VALUE_MASK\";\n    GL[GL[\"STENCIL_WRITEMASK\"] = 2968] = \"STENCIL_WRITEMASK\";\n    GL[GL[\"STENCIL_BACK_FUNC\"] = 34816] = \"STENCIL_BACK_FUNC\";\n    GL[GL[\"STENCIL_BACK_FAIL\"] = 34817] = \"STENCIL_BACK_FAIL\";\n    GL[GL[\"STENCIL_BACK_PASS_DEPTH_FAIL\"] = 34818] = \"STENCIL_BACK_PASS_DEPTH_FAIL\";\n    GL[GL[\"STENCIL_BACK_PASS_DEPTH_PASS\"] = 34819] = \"STENCIL_BACK_PASS_DEPTH_PASS\";\n    GL[GL[\"STENCIL_BACK_REF\"] = 36003] = \"STENCIL_BACK_REF\";\n    GL[GL[\"STENCIL_BACK_VALUE_MASK\"] = 36004] = \"STENCIL_BACK_VALUE_MASK\";\n    GL[GL[\"STENCIL_BACK_WRITEMASK\"] = 36005] = \"STENCIL_BACK_WRITEMASK\";\n    GL[GL[\"VIEWPORT\"] = 2978] = \"VIEWPORT\";\n    GL[GL[\"SCISSOR_BOX\"] = 3088] = \"SCISSOR_BOX\";\n    GL[GL[\"COLOR_CLEAR_VALUE\"] = 3106] = \"COLOR_CLEAR_VALUE\";\n    GL[GL[\"COLOR_WRITEMASK\"] = 3107] = \"COLOR_WRITEMASK\";\n    GL[GL[\"UNPACK_ALIGNMENT\"] = 3317] = \"UNPACK_ALIGNMENT\";\n    GL[GL[\"PACK_ALIGNMENT\"] = 3333] = \"PACK_ALIGNMENT\";\n    GL[GL[\"MAX_TEXTURE_SIZE\"] = 3379] = \"MAX_TEXTURE_SIZE\";\n    GL[GL[\"MAX_VIEWPORT_DIMS\"] = 3386] = \"MAX_VIEWPORT_DIMS\";\n    GL[GL[\"SUBPIXEL_BITS\"] = 3408] = \"SUBPIXEL_BITS\";\n    GL[GL[\"RED_BITS\"] = 3410] = \"RED_BITS\";\n    GL[GL[\"GREEN_BITS\"] = 3411] = \"GREEN_BITS\";\n    GL[GL[\"BLUE_BITS\"] = 3412] = \"BLUE_BITS\";\n    GL[GL[\"ALPHA_BITS\"] = 3413] = \"ALPHA_BITS\";\n    GL[GL[\"DEPTH_BITS\"] = 3414] = \"DEPTH_BITS\";\n    GL[GL[\"STENCIL_BITS\"] = 3415] = \"STENCIL_BITS\";\n    GL[GL[\"POLYGON_OFFSET_UNITS\"] = 10752] = \"POLYGON_OFFSET_UNITS\";\n    GL[GL[\"POLYGON_OFFSET_FACTOR\"] = 32824] = \"POLYGON_OFFSET_FACTOR\";\n    GL[GL[\"TEXTURE_BINDING_2D\"] = 32873] = \"TEXTURE_BINDING_2D\";\n    GL[GL[\"SAMPLE_BUFFERS\"] = 32936] = \"SAMPLE_BUFFERS\";\n    GL[GL[\"SAMPLES\"] = 32937] = \"SAMPLES\";\n    GL[GL[\"SAMPLE_COVERAGE_VALUE\"] = 32938] = \"SAMPLE_COVERAGE_VALUE\";\n    GL[GL[\"SAMPLE_COVERAGE_INVERT\"] = 32939] = \"SAMPLE_COVERAGE_INVERT\";\n    GL[GL[\"COMPRESSED_TEXTURE_FORMATS\"] = 34467] = \"COMPRESSED_TEXTURE_FORMATS\";\n    GL[GL[\"VENDOR\"] = 7936] = \"VENDOR\";\n    GL[GL[\"RENDERER\"] = 7937] = \"RENDERER\";\n    GL[GL[\"VERSION\"] = 7938] = \"VERSION\";\n    GL[GL[\"IMPLEMENTATION_COLOR_READ_TYPE\"] = 35738] = \"IMPLEMENTATION_COLOR_READ_TYPE\";\n    GL[GL[\"IMPLEMENTATION_COLOR_READ_FORMAT\"] = 35739] = \"IMPLEMENTATION_COLOR_READ_FORMAT\";\n    GL[GL[\"BROWSER_DEFAULT_WEBGL\"] = 37444] = \"BROWSER_DEFAULT_WEBGL\";\n    // Buffers\n    // Constants passed to bufferData(), bufferSubData(), bindBuffer(), or\n    // getBufferParameter().\n    GL[GL[\"STATIC_DRAW\"] = 35044] = \"STATIC_DRAW\";\n    GL[GL[\"STREAM_DRAW\"] = 35040] = \"STREAM_DRAW\";\n    GL[GL[\"DYNAMIC_DRAW\"] = 35048] = \"DYNAMIC_DRAW\";\n    GL[GL[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n    GL[GL[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n    GL[GL[\"BUFFER_SIZE\"] = 34660] = \"BUFFER_SIZE\";\n    GL[GL[\"BUFFER_USAGE\"] = 34661] = \"BUFFER_USAGE\";\n    // Vertex attributes\n    // Constants passed to getVertexAttrib().\n    GL[GL[\"CURRENT_VERTEX_ATTRIB\"] = 34342] = \"CURRENT_VERTEX_ATTRIB\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_ENABLED\"] = 34338] = \"VERTEX_ATTRIB_ARRAY_ENABLED\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_SIZE\"] = 34339] = \"VERTEX_ATTRIB_ARRAY_SIZE\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_STRIDE\"] = 34340] = \"VERTEX_ATTRIB_ARRAY_STRIDE\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_TYPE\"] = 34341] = \"VERTEX_ATTRIB_ARRAY_TYPE\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_NORMALIZED\"] = 34922] = \"VERTEX_ATTRIB_ARRAY_NORMALIZED\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_POINTER\"] = 34373] = \"VERTEX_ATTRIB_ARRAY_POINTER\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\"] = 34975] = \"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\";\n    // Culling\n    // Constants passed to cullFace().\n    GL[GL[\"CULL_FACE\"] = 2884] = \"CULL_FACE\";\n    GL[GL[\"FRONT\"] = 1028] = \"FRONT\";\n    GL[GL[\"BACK\"] = 1029] = \"BACK\";\n    GL[GL[\"FRONT_AND_BACK\"] = 1032] = \"FRONT_AND_BACK\";\n    // Enabling and disabling\n    // Constants passed to enable() or disable().\n    GL[GL[\"BLEND\"] = 3042] = \"BLEND\";\n    GL[GL[\"DEPTH_TEST\"] = 2929] = \"DEPTH_TEST\";\n    GL[GL[\"DITHER\"] = 3024] = \"DITHER\";\n    GL[GL[\"POLYGON_OFFSET_FILL\"] = 32823] = \"POLYGON_OFFSET_FILL\";\n    GL[GL[\"SAMPLE_ALPHA_TO_COVERAGE\"] = 32926] = \"SAMPLE_ALPHA_TO_COVERAGE\";\n    GL[GL[\"SAMPLE_COVERAGE\"] = 32928] = \"SAMPLE_COVERAGE\";\n    GL[GL[\"SCISSOR_TEST\"] = 3089] = \"SCISSOR_TEST\";\n    GL[GL[\"STENCIL_TEST\"] = 2960] = \"STENCIL_TEST\";\n    // Errors\n    // Constants returned from getError().\n    GL[GL[\"NO_ERROR\"] = 0] = \"NO_ERROR\";\n    GL[GL[\"INVALID_ENUM\"] = 1280] = \"INVALID_ENUM\";\n    GL[GL[\"INVALID_VALUE\"] = 1281] = \"INVALID_VALUE\";\n    GL[GL[\"INVALID_OPERATION\"] = 1282] = \"INVALID_OPERATION\";\n    GL[GL[\"OUT_OF_MEMORY\"] = 1285] = \"OUT_OF_MEMORY\";\n    GL[GL[\"CONTEXT_LOST_WEBGL\"] = 37442] = \"CONTEXT_LOST_WEBGL\";\n    // Front face directions\n    // Constants passed to frontFace().\n    GL[GL[\"CW\"] = 2304] = \"CW\";\n    GL[GL[\"CCW\"] = 2305] = \"CCW\";\n    // Hints\n    // Constants passed to hint()\n    GL[GL[\"DONT_CARE\"] = 4352] = \"DONT_CARE\";\n    GL[GL[\"FASTEST\"] = 4353] = \"FASTEST\";\n    GL[GL[\"NICEST\"] = 4354] = \"NICEST\";\n    GL[GL[\"GENERATE_MIPMAP_HINT\"] = 33170] = \"GENERATE_MIPMAP_HINT\";\n    // Data types\n    GL[GL[\"BYTE\"] = 5120] = \"BYTE\";\n    GL[GL[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n    GL[GL[\"SHORT\"] = 5122] = \"SHORT\";\n    GL[GL[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n    GL[GL[\"INT\"] = 5124] = \"INT\";\n    GL[GL[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n    GL[GL[\"FLOAT\"] = 5126] = \"FLOAT\";\n    GL[GL[\"DOUBLE\"] = 5130] = \"DOUBLE\";\n    // Pixel formats\n    GL[GL[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n    GL[GL[\"ALPHA\"] = 6406] = \"ALPHA\";\n    GL[GL[\"RGB\"] = 6407] = \"RGB\";\n    GL[GL[\"RGBA\"] = 6408] = \"RGBA\";\n    GL[GL[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n    GL[GL[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n    // Pixel types\n    // UNSIGNED_BYTE = 0x1401,\n    GL[GL[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n    GL[GL[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n    GL[GL[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n    // Shaders\n    // Constants passed to createShader() or getShaderParameter()\n    GL[GL[\"FRAGMENT_SHADER\"] = 35632] = \"FRAGMENT_SHADER\";\n    GL[GL[\"VERTEX_SHADER\"] = 35633] = \"VERTEX_SHADER\";\n    GL[GL[\"COMPILE_STATUS\"] = 35713] = \"COMPILE_STATUS\";\n    GL[GL[\"DELETE_STATUS\"] = 35712] = \"DELETE_STATUS\";\n    GL[GL[\"LINK_STATUS\"] = 35714] = \"LINK_STATUS\";\n    GL[GL[\"VALIDATE_STATUS\"] = 35715] = \"VALIDATE_STATUS\";\n    GL[GL[\"ATTACHED_SHADERS\"] = 35717] = \"ATTACHED_SHADERS\";\n    GL[GL[\"ACTIVE_ATTRIBUTES\"] = 35721] = \"ACTIVE_ATTRIBUTES\";\n    GL[GL[\"ACTIVE_UNIFORMS\"] = 35718] = \"ACTIVE_UNIFORMS\";\n    GL[GL[\"MAX_VERTEX_ATTRIBS\"] = 34921] = \"MAX_VERTEX_ATTRIBS\";\n    GL[GL[\"MAX_VERTEX_UNIFORM_VECTORS\"] = 36347] = \"MAX_VERTEX_UNIFORM_VECTORS\";\n    GL[GL[\"MAX_VARYING_VECTORS\"] = 36348] = \"MAX_VARYING_VECTORS\";\n    GL[GL[\"MAX_COMBINED_TEXTURE_IMAGE_UNITS\"] = 35661] = \"MAX_COMBINED_TEXTURE_IMAGE_UNITS\";\n    GL[GL[\"MAX_VERTEX_TEXTURE_IMAGE_UNITS\"] = 35660] = \"MAX_VERTEX_TEXTURE_IMAGE_UNITS\";\n    GL[GL[\"MAX_TEXTURE_IMAGE_UNITS\"] = 34930] = \"MAX_TEXTURE_IMAGE_UNITS\";\n    GL[GL[\"MAX_FRAGMENT_UNIFORM_VECTORS\"] = 36349] = \"MAX_FRAGMENT_UNIFORM_VECTORS\";\n    GL[GL[\"SHADER_TYPE\"] = 35663] = \"SHADER_TYPE\";\n    GL[GL[\"SHADING_LANGUAGE_VERSION\"] = 35724] = \"SHADING_LANGUAGE_VERSION\";\n    GL[GL[\"CURRENT_PROGRAM\"] = 35725] = \"CURRENT_PROGRAM\";\n    // Depth or stencil tests\n    // Constants passed to depthFunc() or stencilFunc().\n    GL[GL[\"NEVER\"] = 512] = \"NEVER\";\n    GL[GL[\"ALWAYS\"] = 519] = \"ALWAYS\";\n    GL[GL[\"LESS\"] = 513] = \"LESS\";\n    GL[GL[\"EQUAL\"] = 514] = \"EQUAL\";\n    GL[GL[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    GL[GL[\"GREATER\"] = 516] = \"GREATER\";\n    GL[GL[\"GEQUAL\"] = 518] = \"GEQUAL\";\n    GL[GL[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    // Stencil actions\n    // Constants passed to stencilOp().\n    GL[GL[\"KEEP\"] = 7680] = \"KEEP\";\n    GL[GL[\"REPLACE\"] = 7681] = \"REPLACE\";\n    GL[GL[\"INCR\"] = 7682] = \"INCR\";\n    GL[GL[\"DECR\"] = 7683] = \"DECR\";\n    GL[GL[\"INVERT\"] = 5386] = \"INVERT\";\n    GL[GL[\"INCR_WRAP\"] = 34055] = \"INCR_WRAP\";\n    GL[GL[\"DECR_WRAP\"] = 34056] = \"DECR_WRAP\";\n    // Textures\n    // Constants passed to texParameteri(),\n    // texParameterf(), bindTexture(), texImage2D(), and others.\n    GL[GL[\"NEAREST\"] = 9728] = \"NEAREST\";\n    GL[GL[\"LINEAR\"] = 9729] = \"LINEAR\";\n    GL[GL[\"NEAREST_MIPMAP_NEAREST\"] = 9984] = \"NEAREST_MIPMAP_NEAREST\";\n    GL[GL[\"LINEAR_MIPMAP_NEAREST\"] = 9985] = \"LINEAR_MIPMAP_NEAREST\";\n    GL[GL[\"NEAREST_MIPMAP_LINEAR\"] = 9986] = \"NEAREST_MIPMAP_LINEAR\";\n    GL[GL[\"LINEAR_MIPMAP_LINEAR\"] = 9987] = \"LINEAR_MIPMAP_LINEAR\";\n    GL[GL[\"TEXTURE_MAG_FILTER\"] = 10240] = \"TEXTURE_MAG_FILTER\";\n    GL[GL[\"TEXTURE_MIN_FILTER\"] = 10241] = \"TEXTURE_MIN_FILTER\";\n    GL[GL[\"TEXTURE_WRAP_S\"] = 10242] = \"TEXTURE_WRAP_S\";\n    GL[GL[\"TEXTURE_WRAP_T\"] = 10243] = \"TEXTURE_WRAP_T\";\n    GL[GL[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n    GL[GL[\"TEXTURE\"] = 5890] = \"TEXTURE\";\n    GL[GL[\"TEXTURE_CUBE_MAP\"] = 34067] = \"TEXTURE_CUBE_MAP\";\n    GL[GL[\"TEXTURE_BINDING_CUBE_MAP\"] = 34068] = \"TEXTURE_BINDING_CUBE_MAP\";\n    GL[GL[\"TEXTURE_CUBE_MAP_POSITIVE_X\"] = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\";\n    GL[GL[\"TEXTURE_CUBE_MAP_NEGATIVE_X\"] = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\";\n    GL[GL[\"TEXTURE_CUBE_MAP_POSITIVE_Y\"] = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\";\n    GL[GL[\"TEXTURE_CUBE_MAP_NEGATIVE_Y\"] = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\";\n    GL[GL[\"TEXTURE_CUBE_MAP_POSITIVE_Z\"] = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\";\n    GL[GL[\"TEXTURE_CUBE_MAP_NEGATIVE_Z\"] = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n    GL[GL[\"MAX_CUBE_MAP_TEXTURE_SIZE\"] = 34076] = \"MAX_CUBE_MAP_TEXTURE_SIZE\";\n    // TEXTURE0 - 31 0x84C0 - 0x84DF A texture unit.\n    GL[GL[\"TEXTURE0\"] = 33984] = \"TEXTURE0\";\n    GL[GL[\"ACTIVE_TEXTURE\"] = 34016] = \"ACTIVE_TEXTURE\";\n    GL[GL[\"REPEAT\"] = 10497] = \"REPEAT\";\n    GL[GL[\"CLAMP_TO_EDGE\"] = 33071] = \"CLAMP_TO_EDGE\";\n    GL[GL[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n    // Emulation\n    GL[GL[\"TEXTURE_WIDTH\"] = 4096] = \"TEXTURE_WIDTH\";\n    GL[GL[\"TEXTURE_HEIGHT\"] = 4097] = \"TEXTURE_HEIGHT\";\n    // Uniform types\n    GL[GL[\"FLOAT_VEC2\"] = 35664] = \"FLOAT_VEC2\";\n    GL[GL[\"FLOAT_VEC3\"] = 35665] = \"FLOAT_VEC3\";\n    GL[GL[\"FLOAT_VEC4\"] = 35666] = \"FLOAT_VEC4\";\n    GL[GL[\"INT_VEC2\"] = 35667] = \"INT_VEC2\";\n    GL[GL[\"INT_VEC3\"] = 35668] = \"INT_VEC3\";\n    GL[GL[\"INT_VEC4\"] = 35669] = \"INT_VEC4\";\n    GL[GL[\"BOOL\"] = 35670] = \"BOOL\";\n    GL[GL[\"BOOL_VEC2\"] = 35671] = \"BOOL_VEC2\";\n    GL[GL[\"BOOL_VEC3\"] = 35672] = \"BOOL_VEC3\";\n    GL[GL[\"BOOL_VEC4\"] = 35673] = \"BOOL_VEC4\";\n    GL[GL[\"FLOAT_MAT2\"] = 35674] = \"FLOAT_MAT2\";\n    GL[GL[\"FLOAT_MAT3\"] = 35675] = \"FLOAT_MAT3\";\n    GL[GL[\"FLOAT_MAT4\"] = 35676] = \"FLOAT_MAT4\";\n    GL[GL[\"SAMPLER_2D\"] = 35678] = \"SAMPLER_2D\";\n    GL[GL[\"SAMPLER_CUBE\"] = 35680] = \"SAMPLER_CUBE\";\n    // Shader precision-specified types\n    GL[GL[\"LOW_FLOAT\"] = 36336] = \"LOW_FLOAT\";\n    GL[GL[\"MEDIUM_FLOAT\"] = 36337] = \"MEDIUM_FLOAT\";\n    GL[GL[\"HIGH_FLOAT\"] = 36338] = \"HIGH_FLOAT\";\n    GL[GL[\"LOW_INT\"] = 36339] = \"LOW_INT\";\n    GL[GL[\"MEDIUM_INT\"] = 36340] = \"MEDIUM_INT\";\n    GL[GL[\"HIGH_INT\"] = 36341] = \"HIGH_INT\";\n    // Framebuffers and renderbuffers\n    GL[GL[\"FRAMEBUFFER\"] = 36160] = \"FRAMEBUFFER\";\n    GL[GL[\"RENDERBUFFER\"] = 36161] = \"RENDERBUFFER\";\n    GL[GL[\"RGBA4\"] = 32854] = \"RGBA4\";\n    GL[GL[\"RGB5_A1\"] = 32855] = \"RGB5_A1\";\n    GL[GL[\"RGB565\"] = 36194] = \"RGB565\";\n    GL[GL[\"DEPTH_COMPONENT16\"] = 33189] = \"DEPTH_COMPONENT16\";\n    GL[GL[\"STENCIL_INDEX\"] = 6401] = \"STENCIL_INDEX\";\n    GL[GL[\"STENCIL_INDEX8\"] = 36168] = \"STENCIL_INDEX8\";\n    GL[GL[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n    GL[GL[\"RENDERBUFFER_WIDTH\"] = 36162] = \"RENDERBUFFER_WIDTH\";\n    GL[GL[\"RENDERBUFFER_HEIGHT\"] = 36163] = \"RENDERBUFFER_HEIGHT\";\n    GL[GL[\"RENDERBUFFER_INTERNAL_FORMAT\"] = 36164] = \"RENDERBUFFER_INTERNAL_FORMAT\";\n    GL[GL[\"RENDERBUFFER_RED_SIZE\"] = 36176] = \"RENDERBUFFER_RED_SIZE\";\n    GL[GL[\"RENDERBUFFER_GREEN_SIZE\"] = 36177] = \"RENDERBUFFER_GREEN_SIZE\";\n    GL[GL[\"RENDERBUFFER_BLUE_SIZE\"] = 36178] = \"RENDERBUFFER_BLUE_SIZE\";\n    GL[GL[\"RENDERBUFFER_ALPHA_SIZE\"] = 36179] = \"RENDERBUFFER_ALPHA_SIZE\";\n    GL[GL[\"RENDERBUFFER_DEPTH_SIZE\"] = 36180] = \"RENDERBUFFER_DEPTH_SIZE\";\n    GL[GL[\"RENDERBUFFER_STENCIL_SIZE\"] = 36181] = \"RENDERBUFFER_STENCIL_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\"] = 36048] = \"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\"] = 36049] = \"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\"] = 36050] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\"] = 36051] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\";\n    GL[GL[\"COLOR_ATTACHMENT0\"] = 36064] = \"COLOR_ATTACHMENT0\";\n    GL[GL[\"DEPTH_ATTACHMENT\"] = 36096] = \"DEPTH_ATTACHMENT\";\n    GL[GL[\"STENCIL_ATTACHMENT\"] = 36128] = \"STENCIL_ATTACHMENT\";\n    GL[GL[\"DEPTH_STENCIL_ATTACHMENT\"] = 33306] = \"DEPTH_STENCIL_ATTACHMENT\";\n    GL[GL[\"NONE\"] = 0] = \"NONE\";\n    GL[GL[\"FRAMEBUFFER_COMPLETE\"] = 36053] = \"FRAMEBUFFER_COMPLETE\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\"] = 36054] = \"FRAMEBUFFER_INCOMPLETE_ATTACHMENT\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\"] = 36055] = \"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\"] = 36057] = \"FRAMEBUFFER_INCOMPLETE_DIMENSIONS\";\n    GL[GL[\"FRAMEBUFFER_UNSUPPORTED\"] = 36061] = \"FRAMEBUFFER_UNSUPPORTED\";\n    GL[GL[\"FRAMEBUFFER_BINDING\"] = 36006] = \"FRAMEBUFFER_BINDING\";\n    GL[GL[\"RENDERBUFFER_BINDING\"] = 36007] = \"RENDERBUFFER_BINDING\";\n    GL[GL[\"READ_FRAMEBUFFER\"] = 36008] = \"READ_FRAMEBUFFER\";\n    GL[GL[\"DRAW_FRAMEBUFFER\"] = 36009] = \"DRAW_FRAMEBUFFER\";\n    GL[GL[\"MAX_RENDERBUFFER_SIZE\"] = 34024] = \"MAX_RENDERBUFFER_SIZE\";\n    GL[GL[\"INVALID_FRAMEBUFFER_OPERATION\"] = 1286] = \"INVALID_FRAMEBUFFER_OPERATION\";\n    // Pixel storage modes\n    // Constants passed to pixelStorei().\n    GL[GL[\"UNPACK_FLIP_Y_WEBGL\"] = 37440] = \"UNPACK_FLIP_Y_WEBGL\";\n    GL[GL[\"UNPACK_PREMULTIPLY_ALPHA_WEBGL\"] = 37441] = \"UNPACK_PREMULTIPLY_ALPHA_WEBGL\";\n    GL[GL[\"UNPACK_COLORSPACE_CONVERSION_WEBGL\"] = 37443] = \"UNPACK_COLORSPACE_CONVERSION_WEBGL\";\n    // /////////////////////////////////////////////////////\n    // Additional constants defined WebGL 2\n    // These constants are defined on the WebGL2RenderingContext interface.\n    // All WebGL 1 constants are also available in a WebGL 2 context.\n    // /////////////////////////////////////////////////////\n    // Getting GL parameter information\n    // Constants passed to getParameter()\n    // to specify what information to return.\n    GL[GL[\"READ_BUFFER\"] = 3074] = \"READ_BUFFER\";\n    GL[GL[\"UNPACK_ROW_LENGTH\"] = 3314] = \"UNPACK_ROW_LENGTH\";\n    GL[GL[\"UNPACK_SKIP_ROWS\"] = 3315] = \"UNPACK_SKIP_ROWS\";\n    GL[GL[\"UNPACK_SKIP_PIXELS\"] = 3316] = \"UNPACK_SKIP_PIXELS\";\n    GL[GL[\"PACK_ROW_LENGTH\"] = 3330] = \"PACK_ROW_LENGTH\";\n    GL[GL[\"PACK_SKIP_ROWS\"] = 3331] = \"PACK_SKIP_ROWS\";\n    GL[GL[\"PACK_SKIP_PIXELS\"] = 3332] = \"PACK_SKIP_PIXELS\";\n    GL[GL[\"TEXTURE_BINDING_3D\"] = 32874] = \"TEXTURE_BINDING_3D\";\n    GL[GL[\"UNPACK_SKIP_IMAGES\"] = 32877] = \"UNPACK_SKIP_IMAGES\";\n    GL[GL[\"UNPACK_IMAGE_HEIGHT\"] = 32878] = \"UNPACK_IMAGE_HEIGHT\";\n    GL[GL[\"MAX_3D_TEXTURE_SIZE\"] = 32883] = \"MAX_3D_TEXTURE_SIZE\";\n    GL[GL[\"MAX_ELEMENTS_VERTICES\"] = 33000] = \"MAX_ELEMENTS_VERTICES\";\n    GL[GL[\"MAX_ELEMENTS_INDICES\"] = 33001] = \"MAX_ELEMENTS_INDICES\";\n    GL[GL[\"MAX_TEXTURE_LOD_BIAS\"] = 34045] = \"MAX_TEXTURE_LOD_BIAS\";\n    GL[GL[\"MAX_FRAGMENT_UNIFORM_COMPONENTS\"] = 35657] = \"MAX_FRAGMENT_UNIFORM_COMPONENTS\";\n    GL[GL[\"MAX_VERTEX_UNIFORM_COMPONENTS\"] = 35658] = \"MAX_VERTEX_UNIFORM_COMPONENTS\";\n    GL[GL[\"MAX_ARRAY_TEXTURE_LAYERS\"] = 35071] = \"MAX_ARRAY_TEXTURE_LAYERS\";\n    GL[GL[\"MIN_PROGRAM_TEXEL_OFFSET\"] = 35076] = \"MIN_PROGRAM_TEXEL_OFFSET\";\n    GL[GL[\"MAX_PROGRAM_TEXEL_OFFSET\"] = 35077] = \"MAX_PROGRAM_TEXEL_OFFSET\";\n    GL[GL[\"MAX_VARYING_COMPONENTS\"] = 35659] = \"MAX_VARYING_COMPONENTS\";\n    GL[GL[\"FRAGMENT_SHADER_DERIVATIVE_HINT\"] = 35723] = \"FRAGMENT_SHADER_DERIVATIVE_HINT\";\n    GL[GL[\"RASTERIZER_DISCARD\"] = 35977] = \"RASTERIZER_DISCARD\";\n    GL[GL[\"VERTEX_ARRAY_BINDING\"] = 34229] = \"VERTEX_ARRAY_BINDING\";\n    GL[GL[\"MAX_VERTEX_OUTPUT_COMPONENTS\"] = 37154] = \"MAX_VERTEX_OUTPUT_COMPONENTS\";\n    GL[GL[\"MAX_FRAGMENT_INPUT_COMPONENTS\"] = 37157] = \"MAX_FRAGMENT_INPUT_COMPONENTS\";\n    GL[GL[\"MAX_SERVER_WAIT_TIMEOUT\"] = 37137] = \"MAX_SERVER_WAIT_TIMEOUT\";\n    GL[GL[\"MAX_ELEMENT_INDEX\"] = 36203] = \"MAX_ELEMENT_INDEX\";\n    // Textures\n    // Constants passed to texParameteri(),\n    // texParameterf(), bindTexture(), texImage2D(), and others.\n    GL[GL[\"RED\"] = 6403] = \"RED\";\n    GL[GL[\"RGB8\"] = 32849] = \"RGB8\";\n    GL[GL[\"RGBA8\"] = 32856] = \"RGBA8\";\n    GL[GL[\"RGB10_A2\"] = 32857] = \"RGB10_A2\";\n    GL[GL[\"TEXTURE_3D\"] = 32879] = \"TEXTURE_3D\";\n    GL[GL[\"TEXTURE_WRAP_R\"] = 32882] = \"TEXTURE_WRAP_R\";\n    GL[GL[\"TEXTURE_MIN_LOD\"] = 33082] = \"TEXTURE_MIN_LOD\";\n    GL[GL[\"TEXTURE_MAX_LOD\"] = 33083] = \"TEXTURE_MAX_LOD\";\n    GL[GL[\"TEXTURE_BASE_LEVEL\"] = 33084] = \"TEXTURE_BASE_LEVEL\";\n    GL[GL[\"TEXTURE_MAX_LEVEL\"] = 33085] = \"TEXTURE_MAX_LEVEL\";\n    GL[GL[\"TEXTURE_COMPARE_MODE\"] = 34892] = \"TEXTURE_COMPARE_MODE\";\n    GL[GL[\"TEXTURE_COMPARE_FUNC\"] = 34893] = \"TEXTURE_COMPARE_FUNC\";\n    GL[GL[\"SRGB\"] = 35904] = \"SRGB\";\n    GL[GL[\"SRGB8\"] = 35905] = \"SRGB8\";\n    GL[GL[\"SRGB8_ALPHA8\"] = 35907] = \"SRGB8_ALPHA8\";\n    GL[GL[\"COMPARE_REF_TO_TEXTURE\"] = 34894] = \"COMPARE_REF_TO_TEXTURE\";\n    GL[GL[\"RGBA32F\"] = 34836] = \"RGBA32F\";\n    GL[GL[\"RGB32F\"] = 34837] = \"RGB32F\";\n    GL[GL[\"RGBA16F\"] = 34842] = \"RGBA16F\";\n    GL[GL[\"RGB16F\"] = 34843] = \"RGB16F\";\n    GL[GL[\"TEXTURE_2D_ARRAY\"] = 35866] = \"TEXTURE_2D_ARRAY\";\n    GL[GL[\"TEXTURE_BINDING_2D_ARRAY\"] = 35869] = \"TEXTURE_BINDING_2D_ARRAY\";\n    GL[GL[\"R11F_G11F_B10F\"] = 35898] = \"R11F_G11F_B10F\";\n    GL[GL[\"RGB9_E5\"] = 35901] = \"RGB9_E5\";\n    GL[GL[\"RGBA32UI\"] = 36208] = \"RGBA32UI\";\n    GL[GL[\"RGB32UI\"] = 36209] = \"RGB32UI\";\n    GL[GL[\"RGBA16UI\"] = 36214] = \"RGBA16UI\";\n    GL[GL[\"RGB16UI\"] = 36215] = \"RGB16UI\";\n    GL[GL[\"RGBA8UI\"] = 36220] = \"RGBA8UI\";\n    GL[GL[\"RGB8UI\"] = 36221] = \"RGB8UI\";\n    GL[GL[\"RGBA32I\"] = 36226] = \"RGBA32I\";\n    GL[GL[\"RGB32I\"] = 36227] = \"RGB32I\";\n    GL[GL[\"RGBA16I\"] = 36232] = \"RGBA16I\";\n    GL[GL[\"RGB16I\"] = 36233] = \"RGB16I\";\n    GL[GL[\"RGBA8I\"] = 36238] = \"RGBA8I\";\n    GL[GL[\"RGB8I\"] = 36239] = \"RGB8I\";\n    GL[GL[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n    GL[GL[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n    GL[GL[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n    GL[GL[\"R8\"] = 33321] = \"R8\";\n    GL[GL[\"RG8\"] = 33323] = \"RG8\";\n    GL[GL[\"R16F\"] = 33325] = \"R16F\";\n    GL[GL[\"R32F\"] = 33326] = \"R32F\";\n    GL[GL[\"RG16F\"] = 33327] = \"RG16F\";\n    GL[GL[\"RG32F\"] = 33328] = \"RG32F\";\n    GL[GL[\"R8I\"] = 33329] = \"R8I\";\n    GL[GL[\"R8UI\"] = 33330] = \"R8UI\";\n    GL[GL[\"R16I\"] = 33331] = \"R16I\";\n    GL[GL[\"R16UI\"] = 33332] = \"R16UI\";\n    GL[GL[\"R32I\"] = 33333] = \"R32I\";\n    GL[GL[\"R32UI\"] = 33334] = \"R32UI\";\n    GL[GL[\"RG8I\"] = 33335] = \"RG8I\";\n    GL[GL[\"RG8UI\"] = 33336] = \"RG8UI\";\n    GL[GL[\"RG16I\"] = 33337] = \"RG16I\";\n    GL[GL[\"RG16UI\"] = 33338] = \"RG16UI\";\n    GL[GL[\"RG32I\"] = 33339] = \"RG32I\";\n    GL[GL[\"RG32UI\"] = 33340] = \"RG32UI\";\n    GL[GL[\"R8_SNORM\"] = 36756] = \"R8_SNORM\";\n    GL[GL[\"RG8_SNORM\"] = 36757] = \"RG8_SNORM\";\n    GL[GL[\"RGB8_SNORM\"] = 36758] = \"RGB8_SNORM\";\n    GL[GL[\"RGBA8_SNORM\"] = 36759] = \"RGBA8_SNORM\";\n    GL[GL[\"RGB10_A2UI\"] = 36975] = \"RGB10_A2UI\";\n    /* covered by extension\n      COMPRESSED_R11_EAC  = 0x9270,\n      COMPRESSED_SIGNED_R11_EAC = 0x9271,\n      COMPRESSED_RG11_EAC = 0x9272,\n      COMPRESSED_SIGNED_RG11_EAC  = 0x9273,\n      COMPRESSED_RGB8_ETC2  = 0x9274,\n      COMPRESSED_SRGB8_ETC2 = 0x9275,\n      COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2  = 0x9276,\n      COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC  = 0x9277,\n      COMPRESSED_RGBA8_ETC2_EAC = 0x9278,\n      COMPRESSED_SRGB8_ALPHA8_ETC2_EAC  = 0x9279,\n      */\n    GL[GL[\"TEXTURE_IMMUTABLE_FORMAT\"] = 37167] = \"TEXTURE_IMMUTABLE_FORMAT\";\n    GL[GL[\"TEXTURE_IMMUTABLE_LEVELS\"] = 33503] = \"TEXTURE_IMMUTABLE_LEVELS\";\n    // Pixel types\n    GL[GL[\"UNSIGNED_INT_2_10_10_10_REV\"] = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\";\n    GL[GL[\"UNSIGNED_INT_10F_11F_11F_REV\"] = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\";\n    GL[GL[\"UNSIGNED_INT_5_9_9_9_REV\"] = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\";\n    GL[GL[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n    GL[GL[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n    GL[GL[\"HALF_FLOAT\"] = 5131] = \"HALF_FLOAT\";\n    GL[GL[\"RG\"] = 33319] = \"RG\";\n    GL[GL[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n    GL[GL[\"INT_2_10_10_10_REV\"] = 36255] = \"INT_2_10_10_10_REV\";\n    // Queries\n    GL[GL[\"CURRENT_QUERY\"] = 34917] = \"CURRENT_QUERY\";\n    GL[GL[\"QUERY_RESULT\"] = 34918] = \"QUERY_RESULT\";\n    GL[GL[\"QUERY_RESULT_AVAILABLE\"] = 34919] = \"QUERY_RESULT_AVAILABLE\";\n    GL[GL[\"ANY_SAMPLES_PASSED\"] = 35887] = \"ANY_SAMPLES_PASSED\";\n    GL[GL[\"ANY_SAMPLES_PASSED_CONSERVATIVE\"] = 36202] = \"ANY_SAMPLES_PASSED_CONSERVATIVE\";\n    // Draw buffers\n    GL[GL[\"MAX_DRAW_BUFFERS\"] = 34852] = \"MAX_DRAW_BUFFERS\";\n    GL[GL[\"DRAW_BUFFER0\"] = 34853] = \"DRAW_BUFFER0\";\n    GL[GL[\"DRAW_BUFFER1\"] = 34854] = \"DRAW_BUFFER1\";\n    GL[GL[\"DRAW_BUFFER2\"] = 34855] = \"DRAW_BUFFER2\";\n    GL[GL[\"DRAW_BUFFER3\"] = 34856] = \"DRAW_BUFFER3\";\n    GL[GL[\"DRAW_BUFFER4\"] = 34857] = \"DRAW_BUFFER4\";\n    GL[GL[\"DRAW_BUFFER5\"] = 34858] = \"DRAW_BUFFER5\";\n    GL[GL[\"DRAW_BUFFER6\"] = 34859] = \"DRAW_BUFFER6\";\n    GL[GL[\"DRAW_BUFFER7\"] = 34860] = \"DRAW_BUFFER7\";\n    GL[GL[\"DRAW_BUFFER8\"] = 34861] = \"DRAW_BUFFER8\";\n    GL[GL[\"DRAW_BUFFER9\"] = 34862] = \"DRAW_BUFFER9\";\n    GL[GL[\"DRAW_BUFFER10\"] = 34863] = \"DRAW_BUFFER10\";\n    GL[GL[\"DRAW_BUFFER11\"] = 34864] = \"DRAW_BUFFER11\";\n    GL[GL[\"DRAW_BUFFER12\"] = 34865] = \"DRAW_BUFFER12\";\n    GL[GL[\"DRAW_BUFFER13\"] = 34866] = \"DRAW_BUFFER13\";\n    GL[GL[\"DRAW_BUFFER14\"] = 34867] = \"DRAW_BUFFER14\";\n    GL[GL[\"DRAW_BUFFER15\"] = 34868] = \"DRAW_BUFFER15\";\n    GL[GL[\"MAX_COLOR_ATTACHMENTS\"] = 36063] = \"MAX_COLOR_ATTACHMENTS\";\n    GL[GL[\"COLOR_ATTACHMENT1\"] = 36065] = \"COLOR_ATTACHMENT1\";\n    GL[GL[\"COLOR_ATTACHMENT2\"] = 36066] = \"COLOR_ATTACHMENT2\";\n    GL[GL[\"COLOR_ATTACHMENT3\"] = 36067] = \"COLOR_ATTACHMENT3\";\n    GL[GL[\"COLOR_ATTACHMENT4\"] = 36068] = \"COLOR_ATTACHMENT4\";\n    GL[GL[\"COLOR_ATTACHMENT5\"] = 36069] = \"COLOR_ATTACHMENT5\";\n    GL[GL[\"COLOR_ATTACHMENT6\"] = 36070] = \"COLOR_ATTACHMENT6\";\n    GL[GL[\"COLOR_ATTACHMENT7\"] = 36071] = \"COLOR_ATTACHMENT7\";\n    GL[GL[\"COLOR_ATTACHMENT8\"] = 36072] = \"COLOR_ATTACHMENT8\";\n    GL[GL[\"COLOR_ATTACHMENT9\"] = 36073] = \"COLOR_ATTACHMENT9\";\n    GL[GL[\"COLOR_ATTACHMENT10\"] = 36074] = \"COLOR_ATTACHMENT10\";\n    GL[GL[\"COLOR_ATTACHMENT11\"] = 36075] = \"COLOR_ATTACHMENT11\";\n    GL[GL[\"COLOR_ATTACHMENT12\"] = 36076] = \"COLOR_ATTACHMENT12\";\n    GL[GL[\"COLOR_ATTACHMENT13\"] = 36077] = \"COLOR_ATTACHMENT13\";\n    GL[GL[\"COLOR_ATTACHMENT14\"] = 36078] = \"COLOR_ATTACHMENT14\";\n    GL[GL[\"COLOR_ATTACHMENT15\"] = 36079] = \"COLOR_ATTACHMENT15\";\n    // Samplers\n    GL[GL[\"SAMPLER_3D\"] = 35679] = \"SAMPLER_3D\";\n    GL[GL[\"SAMPLER_2D_SHADOW\"] = 35682] = \"SAMPLER_2D_SHADOW\";\n    GL[GL[\"SAMPLER_2D_ARRAY\"] = 36289] = \"SAMPLER_2D_ARRAY\";\n    GL[GL[\"SAMPLER_2D_ARRAY_SHADOW\"] = 36292] = \"SAMPLER_2D_ARRAY_SHADOW\";\n    GL[GL[\"SAMPLER_CUBE_SHADOW\"] = 36293] = \"SAMPLER_CUBE_SHADOW\";\n    GL[GL[\"INT_SAMPLER_2D\"] = 36298] = \"INT_SAMPLER_2D\";\n    GL[GL[\"INT_SAMPLER_3D\"] = 36299] = \"INT_SAMPLER_3D\";\n    GL[GL[\"INT_SAMPLER_CUBE\"] = 36300] = \"INT_SAMPLER_CUBE\";\n    GL[GL[\"INT_SAMPLER_2D_ARRAY\"] = 36303] = \"INT_SAMPLER_2D_ARRAY\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_2D\"] = 36306] = \"UNSIGNED_INT_SAMPLER_2D\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_3D\"] = 36307] = \"UNSIGNED_INT_SAMPLER_3D\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_CUBE\"] = 36308] = \"UNSIGNED_INT_SAMPLER_CUBE\";\n    GL[GL[\"UNSIGNED_INT_SAMPLER_2D_ARRAY\"] = 36311] = \"UNSIGNED_INT_SAMPLER_2D_ARRAY\";\n    GL[GL[\"MAX_SAMPLES\"] = 36183] = \"MAX_SAMPLES\";\n    GL[GL[\"SAMPLER_BINDING\"] = 35097] = \"SAMPLER_BINDING\";\n    // Buffers\n    GL[GL[\"PIXEL_PACK_BUFFER\"] = 35051] = \"PIXEL_PACK_BUFFER\";\n    GL[GL[\"PIXEL_UNPACK_BUFFER\"] = 35052] = \"PIXEL_UNPACK_BUFFER\";\n    GL[GL[\"PIXEL_PACK_BUFFER_BINDING\"] = 35053] = \"PIXEL_PACK_BUFFER_BINDING\";\n    GL[GL[\"PIXEL_UNPACK_BUFFER_BINDING\"] = 35055] = \"PIXEL_UNPACK_BUFFER_BINDING\";\n    GL[GL[\"COPY_READ_BUFFER\"] = 36662] = \"COPY_READ_BUFFER\";\n    GL[GL[\"COPY_WRITE_BUFFER\"] = 36663] = \"COPY_WRITE_BUFFER\";\n    GL[GL[\"COPY_READ_BUFFER_BINDING\"] = 36662] = \"COPY_READ_BUFFER_BINDING\";\n    GL[GL[\"COPY_WRITE_BUFFER_BINDING\"] = 36663] = \"COPY_WRITE_BUFFER_BINDING\";\n    // Data types\n    GL[GL[\"FLOAT_MAT2x3\"] = 35685] = \"FLOAT_MAT2x3\";\n    GL[GL[\"FLOAT_MAT2x4\"] = 35686] = \"FLOAT_MAT2x4\";\n    GL[GL[\"FLOAT_MAT3x2\"] = 35687] = \"FLOAT_MAT3x2\";\n    GL[GL[\"FLOAT_MAT3x4\"] = 35688] = \"FLOAT_MAT3x4\";\n    GL[GL[\"FLOAT_MAT4x2\"] = 35689] = \"FLOAT_MAT4x2\";\n    GL[GL[\"FLOAT_MAT4x3\"] = 35690] = \"FLOAT_MAT4x3\";\n    GL[GL[\"UNSIGNED_INT_VEC2\"] = 36294] = \"UNSIGNED_INT_VEC2\";\n    GL[GL[\"UNSIGNED_INT_VEC3\"] = 36295] = \"UNSIGNED_INT_VEC3\";\n    GL[GL[\"UNSIGNED_INT_VEC4\"] = 36296] = \"UNSIGNED_INT_VEC4\";\n    GL[GL[\"UNSIGNED_NORMALIZED\"] = 35863] = \"UNSIGNED_NORMALIZED\";\n    GL[GL[\"SIGNED_NORMALIZED\"] = 36764] = \"SIGNED_NORMALIZED\";\n    // Vertex attributes\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_INTEGER\"] = 35069] = \"VERTEX_ATTRIB_ARRAY_INTEGER\";\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_DIVISOR\"] = 35070] = \"VERTEX_ATTRIB_ARRAY_DIVISOR\";\n    // Transform feedback\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_MODE\"] = 35967] = \"TRANSFORM_FEEDBACK_BUFFER_MODE\";\n    GL[GL[\"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS\"] = 35968] = \"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS\";\n    GL[GL[\"TRANSFORM_FEEDBACK_VARYINGS\"] = 35971] = \"TRANSFORM_FEEDBACK_VARYINGS\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_START\"] = 35972] = \"TRANSFORM_FEEDBACK_BUFFER_START\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_SIZE\"] = 35973] = \"TRANSFORM_FEEDBACK_BUFFER_SIZE\";\n    GL[GL[\"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN\"] = 35976] = \"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN\";\n    GL[GL[\"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS\"] = 35978] = \"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS\";\n    GL[GL[\"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS\"] = 35979] = \"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS\";\n    GL[GL[\"INTERLEAVED_ATTRIBS\"] = 35980] = \"INTERLEAVED_ATTRIBS\";\n    GL[GL[\"SEPARATE_ATTRIBS\"] = 35981] = \"SEPARATE_ATTRIBS\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER\"] = 35982] = \"TRANSFORM_FEEDBACK_BUFFER\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BUFFER_BINDING\"] = 35983] = \"TRANSFORM_FEEDBACK_BUFFER_BINDING\";\n    GL[GL[\"TRANSFORM_FEEDBACK\"] = 36386] = \"TRANSFORM_FEEDBACK\";\n    GL[GL[\"TRANSFORM_FEEDBACK_PAUSED\"] = 36387] = \"TRANSFORM_FEEDBACK_PAUSED\";\n    GL[GL[\"TRANSFORM_FEEDBACK_ACTIVE\"] = 36388] = \"TRANSFORM_FEEDBACK_ACTIVE\";\n    GL[GL[\"TRANSFORM_FEEDBACK_BINDING\"] = 36389] = \"TRANSFORM_FEEDBACK_BINDING\";\n    // Framebuffers and renderbuffers\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING\"] = 33296] = \"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE\"] = 33297] = \"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_RED_SIZE\"] = 33298] = \"FRAMEBUFFER_ATTACHMENT_RED_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE\"] = 33299] = \"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE\"] = 33300] = \"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE\"] = 33301] = \"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE\"] = 33302] = \"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE\"] = 33303] = \"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE\";\n    GL[GL[\"FRAMEBUFFER_DEFAULT\"] = 33304] = \"FRAMEBUFFER_DEFAULT\";\n    // DEPTH_STENCIL_ATTACHMENT  = 0x821A,\n    // DEPTH_STENCIL = 0x84F9,\n    GL[GL[\"DEPTH24_STENCIL8\"] = 35056] = \"DEPTH24_STENCIL8\";\n    GL[GL[\"DRAW_FRAMEBUFFER_BINDING\"] = 36006] = \"DRAW_FRAMEBUFFER_BINDING\";\n    GL[GL[\"READ_FRAMEBUFFER_BINDING\"] = 36010] = \"READ_FRAMEBUFFER_BINDING\";\n    GL[GL[\"RENDERBUFFER_SAMPLES\"] = 36011] = \"RENDERBUFFER_SAMPLES\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER\"] = 36052] = \"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER\";\n    GL[GL[\"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE\"] = 36182] = \"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE\";\n    // Uniforms\n    GL[GL[\"UNIFORM_BUFFER\"] = 35345] = \"UNIFORM_BUFFER\";\n    GL[GL[\"UNIFORM_BUFFER_BINDING\"] = 35368] = \"UNIFORM_BUFFER_BINDING\";\n    GL[GL[\"UNIFORM_BUFFER_START\"] = 35369] = \"UNIFORM_BUFFER_START\";\n    GL[GL[\"UNIFORM_BUFFER_SIZE\"] = 35370] = \"UNIFORM_BUFFER_SIZE\";\n    GL[GL[\"MAX_VERTEX_UNIFORM_BLOCKS\"] = 35371] = \"MAX_VERTEX_UNIFORM_BLOCKS\";\n    GL[GL[\"MAX_FRAGMENT_UNIFORM_BLOCKS\"] = 35373] = \"MAX_FRAGMENT_UNIFORM_BLOCKS\";\n    GL[GL[\"MAX_COMBINED_UNIFORM_BLOCKS\"] = 35374] = \"MAX_COMBINED_UNIFORM_BLOCKS\";\n    GL[GL[\"MAX_UNIFORM_BUFFER_BINDINGS\"] = 35375] = \"MAX_UNIFORM_BUFFER_BINDINGS\";\n    GL[GL[\"MAX_UNIFORM_BLOCK_SIZE\"] = 35376] = \"MAX_UNIFORM_BLOCK_SIZE\";\n    GL[GL[\"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS\"] = 35377] = \"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS\";\n    GL[GL[\"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS\"] = 35379] = \"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS\";\n    GL[GL[\"UNIFORM_BUFFER_OFFSET_ALIGNMENT\"] = 35380] = \"UNIFORM_BUFFER_OFFSET_ALIGNMENT\";\n    GL[GL[\"ACTIVE_UNIFORM_BLOCKS\"] = 35382] = \"ACTIVE_UNIFORM_BLOCKS\";\n    GL[GL[\"UNIFORM_TYPE\"] = 35383] = \"UNIFORM_TYPE\";\n    GL[GL[\"UNIFORM_SIZE\"] = 35384] = \"UNIFORM_SIZE\";\n    GL[GL[\"UNIFORM_BLOCK_INDEX\"] = 35386] = \"UNIFORM_BLOCK_INDEX\";\n    GL[GL[\"UNIFORM_OFFSET\"] = 35387] = \"UNIFORM_OFFSET\";\n    GL[GL[\"UNIFORM_ARRAY_STRIDE\"] = 35388] = \"UNIFORM_ARRAY_STRIDE\";\n    GL[GL[\"UNIFORM_MATRIX_STRIDE\"] = 35389] = \"UNIFORM_MATRIX_STRIDE\";\n    GL[GL[\"UNIFORM_IS_ROW_MAJOR\"] = 35390] = \"UNIFORM_IS_ROW_MAJOR\";\n    GL[GL[\"UNIFORM_BLOCK_BINDING\"] = 35391] = \"UNIFORM_BLOCK_BINDING\";\n    GL[GL[\"UNIFORM_BLOCK_DATA_SIZE\"] = 35392] = \"UNIFORM_BLOCK_DATA_SIZE\";\n    GL[GL[\"UNIFORM_BLOCK_ACTIVE_UNIFORMS\"] = 35394] = \"UNIFORM_BLOCK_ACTIVE_UNIFORMS\";\n    GL[GL[\"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES\"] = 35395] = \"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES\";\n    GL[GL[\"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER\"] = 35396] = \"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER\";\n    GL[GL[\"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER\"] = 35398] = \"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER\";\n    // Sync objects\n    GL[GL[\"OBJECT_TYPE\"] = 37138] = \"OBJECT_TYPE\";\n    GL[GL[\"SYNC_CONDITION\"] = 37139] = \"SYNC_CONDITION\";\n    GL[GL[\"SYNC_STATUS\"] = 37140] = \"SYNC_STATUS\";\n    GL[GL[\"SYNC_FLAGS\"] = 37141] = \"SYNC_FLAGS\";\n    GL[GL[\"SYNC_FENCE\"] = 37142] = \"SYNC_FENCE\";\n    GL[GL[\"SYNC_GPU_COMMANDS_COMPLETE\"] = 37143] = \"SYNC_GPU_COMMANDS_COMPLETE\";\n    GL[GL[\"UNSIGNALED\"] = 37144] = \"UNSIGNALED\";\n    GL[GL[\"SIGNALED\"] = 37145] = \"SIGNALED\";\n    GL[GL[\"ALREADY_SIGNALED\"] = 37146] = \"ALREADY_SIGNALED\";\n    GL[GL[\"TIMEOUT_EXPIRED\"] = 37147] = \"TIMEOUT_EXPIRED\";\n    GL[GL[\"CONDITION_SATISFIED\"] = 37148] = \"CONDITION_SATISFIED\";\n    GL[GL[\"WAIT_FAILED\"] = 37149] = \"WAIT_FAILED\";\n    GL[GL[\"SYNC_FLUSH_COMMANDS_BIT\"] = 1] = \"SYNC_FLUSH_COMMANDS_BIT\";\n    // Miscellaneous constants\n    GL[GL[\"COLOR\"] = 6144] = \"COLOR\";\n    GL[GL[\"DEPTH\"] = 6145] = \"DEPTH\";\n    GL[GL[\"STENCIL\"] = 6146] = \"STENCIL\";\n    GL[GL[\"MIN\"] = 32775] = \"MIN\";\n    GL[GL[\"MAX\"] = 32776] = \"MAX\";\n    GL[GL[\"DEPTH_COMPONENT24\"] = 33190] = \"DEPTH_COMPONENT24\";\n    GL[GL[\"STREAM_READ\"] = 35041] = \"STREAM_READ\";\n    GL[GL[\"STREAM_COPY\"] = 35042] = \"STREAM_COPY\";\n    GL[GL[\"STATIC_READ\"] = 35045] = \"STATIC_READ\";\n    GL[GL[\"STATIC_COPY\"] = 35046] = \"STATIC_COPY\";\n    GL[GL[\"DYNAMIC_READ\"] = 35049] = \"DYNAMIC_READ\";\n    GL[GL[\"DYNAMIC_COPY\"] = 35050] = \"DYNAMIC_COPY\";\n    GL[GL[\"DEPTH_COMPONENT32F\"] = 36012] = \"DEPTH_COMPONENT32F\";\n    GL[GL[\"DEPTH32F_STENCIL8\"] = 36013] = \"DEPTH32F_STENCIL8\";\n    GL[GL[\"INVALID_INDEX\"] = 4294967295] = \"INVALID_INDEX\";\n    GL[GL[\"TIMEOUT_IGNORED\"] = -1] = \"TIMEOUT_IGNORED\";\n    GL[GL[\"MAX_CLIENT_WAIT_TIMEOUT_WEBGL\"] = 37447] = \"MAX_CLIENT_WAIT_TIMEOUT_WEBGL\";\n    // Constants defined in WebGL extensions\n    // ANGLE_instanced_arrays\n    GL[GL[\"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE\"] = 35070] = \"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE\";\n    // WEBGL_debug_renderer_info\n    GL[GL[\"UNMASKED_VENDOR_WEBGL\"] = 37445] = \"UNMASKED_VENDOR_WEBGL\";\n    GL[GL[\"UNMASKED_RENDERER_WEBGL\"] = 37446] = \"UNMASKED_RENDERER_WEBGL\";\n    // EXT_texture_filter_anisotropic\n    GL[GL[\"MAX_TEXTURE_MAX_ANISOTROPY_EXT\"] = 34047] = \"MAX_TEXTURE_MAX_ANISOTROPY_EXT\";\n    GL[GL[\"TEXTURE_MAX_ANISOTROPY_EXT\"] = 34046] = \"TEXTURE_MAX_ANISOTROPY_EXT\";\n    // WEBGL_compressed_texture_s3tc\n    GL[GL[\"COMPRESSED_RGB_S3TC_DXT1_EXT\"] = 33776] = \"COMPRESSED_RGB_S3TC_DXT1_EXT\";\n    GL[GL[\"COMPRESSED_RGBA_S3TC_DXT1_EXT\"] = 33777] = \"COMPRESSED_RGBA_S3TC_DXT1_EXT\";\n    GL[GL[\"COMPRESSED_RGBA_S3TC_DXT3_EXT\"] = 33778] = \"COMPRESSED_RGBA_S3TC_DXT3_EXT\";\n    GL[GL[\"COMPRESSED_RGBA_S3TC_DXT5_EXT\"] = 33779] = \"COMPRESSED_RGBA_S3TC_DXT5_EXT\";\n    // WEBGL_compressed_texture_es3\n    GL[GL[\"COMPRESSED_R11_EAC\"] = 37488] = \"COMPRESSED_R11_EAC\";\n    GL[GL[\"COMPRESSED_SIGNED_R11_EAC\"] = 37489] = \"COMPRESSED_SIGNED_R11_EAC\";\n    GL[GL[\"COMPRESSED_RG11_EAC\"] = 37490] = \"COMPRESSED_RG11_EAC\";\n    GL[GL[\"COMPRESSED_SIGNED_RG11_EAC\"] = 37491] = \"COMPRESSED_SIGNED_RG11_EAC\";\n    GL[GL[\"COMPRESSED_RGB8_ETC2\"] = 37492] = \"COMPRESSED_RGB8_ETC2\";\n    GL[GL[\"COMPRESSED_RGBA8_ETC2_EAC\"] = 37493] = \"COMPRESSED_RGBA8_ETC2_EAC\";\n    GL[GL[\"COMPRESSED_SRGB8_ETC2\"] = 37494] = \"COMPRESSED_SRGB8_ETC2\";\n    GL[GL[\"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\"] = 37495] = \"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\";\n    GL[GL[\"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37496] = \"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n    GL[GL[\"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37497] = \"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n    // WEBGL_compressed_texture_pvrtc\n    GL[GL[\"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\"] = 35840] = \"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\";\n    GL[GL[\"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\"] = 35842] = \"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\";\n    GL[GL[\"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\"] = 35841] = \"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\";\n    GL[GL[\"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\"] = 35843] = \"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\";\n    // WEBGL_compressed_texture_etc1\n    GL[GL[\"COMPRESSED_RGB_ETC1_WEBGL\"] = 36196] = \"COMPRESSED_RGB_ETC1_WEBGL\";\n    // WEBGL_compressed_texture_atc\n    GL[GL[\"COMPRESSED_RGB_ATC_WEBGL\"] = 35986] = \"COMPRESSED_RGB_ATC_WEBGL\";\n    GL[GL[\"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\"] = 35986] = \"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\";\n    GL[GL[\"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\"] = 34798] = \"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\";\n    // WEBGL_depth_texture\n    GL[GL[\"UNSIGNED_INT_24_8_WEBGL\"] = 34042] = \"UNSIGNED_INT_24_8_WEBGL\";\n    // OES_texture_half_float\n    GL[GL[\"HALF_FLOAT_OES\"] = 36193] = \"HALF_FLOAT_OES\";\n    // WEBGL_color_buffer_float\n    GL[GL[\"RGBA32F_EXT\"] = 34836] = \"RGBA32F_EXT\";\n    GL[GL[\"RGB32F_EXT\"] = 34837] = \"RGB32F_EXT\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT\"] = 33297] = \"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT\";\n    GL[GL[\"UNSIGNED_NORMALIZED_EXT\"] = 35863] = \"UNSIGNED_NORMALIZED_EXT\";\n    // EXT_blend_minmax\n    GL[GL[\"MIN_EXT\"] = 32775] = \"MIN_EXT\";\n    GL[GL[\"MAX_EXT\"] = 32776] = \"MAX_EXT\";\n    // EXT_sRGB\n    GL[GL[\"SRGB_EXT\"] = 35904] = \"SRGB_EXT\";\n    GL[GL[\"SRGB_ALPHA_EXT\"] = 35906] = \"SRGB_ALPHA_EXT\";\n    GL[GL[\"SRGB8_ALPHA8_EXT\"] = 35907] = \"SRGB8_ALPHA8_EXT\";\n    GL[GL[\"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT\"] = 33296] = \"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT\";\n    // OES_standard_derivatives\n    GL[GL[\"FRAGMENT_SHADER_DERIVATIVE_HINT_OES\"] = 35723] = \"FRAGMENT_SHADER_DERIVATIVE_HINT_OES\";\n    // WEBGL_draw_buffers\n    GL[GL[\"COLOR_ATTACHMENT0_WEBGL\"] = 36064] = \"COLOR_ATTACHMENT0_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT1_WEBGL\"] = 36065] = \"COLOR_ATTACHMENT1_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT2_WEBGL\"] = 36066] = \"COLOR_ATTACHMENT2_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT3_WEBGL\"] = 36067] = \"COLOR_ATTACHMENT3_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT4_WEBGL\"] = 36068] = \"COLOR_ATTACHMENT4_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT5_WEBGL\"] = 36069] = \"COLOR_ATTACHMENT5_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT6_WEBGL\"] = 36070] = \"COLOR_ATTACHMENT6_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT7_WEBGL\"] = 36071] = \"COLOR_ATTACHMENT7_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT8_WEBGL\"] = 36072] = \"COLOR_ATTACHMENT8_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT9_WEBGL\"] = 36073] = \"COLOR_ATTACHMENT9_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT10_WEBGL\"] = 36074] = \"COLOR_ATTACHMENT10_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT11_WEBGL\"] = 36075] = \"COLOR_ATTACHMENT11_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT12_WEBGL\"] = 36076] = \"COLOR_ATTACHMENT12_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT13_WEBGL\"] = 36077] = \"COLOR_ATTACHMENT13_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT14_WEBGL\"] = 36078] = \"COLOR_ATTACHMENT14_WEBGL\";\n    GL[GL[\"COLOR_ATTACHMENT15_WEBGL\"] = 36079] = \"COLOR_ATTACHMENT15_WEBGL\";\n    GL[GL[\"DRAW_BUFFER0_WEBGL\"] = 34853] = \"DRAW_BUFFER0_WEBGL\";\n    GL[GL[\"DRAW_BUFFER1_WEBGL\"] = 34854] = \"DRAW_BUFFER1_WEBGL\";\n    GL[GL[\"DRAW_BUFFER2_WEBGL\"] = 34855] = \"DRAW_BUFFER2_WEBGL\";\n    GL[GL[\"DRAW_BUFFER3_WEBGL\"] = 34856] = \"DRAW_BUFFER3_WEBGL\";\n    GL[GL[\"DRAW_BUFFER4_WEBGL\"] = 34857] = \"DRAW_BUFFER4_WEBGL\";\n    GL[GL[\"DRAW_BUFFER5_WEBGL\"] = 34858] = \"DRAW_BUFFER5_WEBGL\";\n    GL[GL[\"DRAW_BUFFER6_WEBGL\"] = 34859] = \"DRAW_BUFFER6_WEBGL\";\n    GL[GL[\"DRAW_BUFFER7_WEBGL\"] = 34860] = \"DRAW_BUFFER7_WEBGL\";\n    GL[GL[\"DRAW_BUFFER8_WEBGL\"] = 34861] = \"DRAW_BUFFER8_WEBGL\";\n    GL[GL[\"DRAW_BUFFER9_WEBGL\"] = 34862] = \"DRAW_BUFFER9_WEBGL\";\n    GL[GL[\"DRAW_BUFFER10_WEBGL\"] = 34863] = \"DRAW_BUFFER10_WEBGL\";\n    GL[GL[\"DRAW_BUFFER11_WEBGL\"] = 34864] = \"DRAW_BUFFER11_WEBGL\";\n    GL[GL[\"DRAW_BUFFER12_WEBGL\"] = 34865] = \"DRAW_BUFFER12_WEBGL\";\n    GL[GL[\"DRAW_BUFFER13_WEBGL\"] = 34866] = \"DRAW_BUFFER13_WEBGL\";\n    GL[GL[\"DRAW_BUFFER14_WEBGL\"] = 34867] = \"DRAW_BUFFER14_WEBGL\";\n    GL[GL[\"DRAW_BUFFER15_WEBGL\"] = 34868] = \"DRAW_BUFFER15_WEBGL\";\n    GL[GL[\"MAX_COLOR_ATTACHMENTS_WEBGL\"] = 36063] = \"MAX_COLOR_ATTACHMENTS_WEBGL\";\n    GL[GL[\"MAX_DRAW_BUFFERS_WEBGL\"] = 34852] = \"MAX_DRAW_BUFFERS_WEBGL\";\n    // OES_vertex_array_object\n    GL[GL[\"VERTEX_ARRAY_BINDING_OES\"] = 34229] = \"VERTEX_ARRAY_BINDING_OES\";\n    // EXT_disjoint_timer_query\n    GL[GL[\"QUERY_COUNTER_BITS_EXT\"] = 34916] = \"QUERY_COUNTER_BITS_EXT\";\n    GL[GL[\"CURRENT_QUERY_EXT\"] = 34917] = \"CURRENT_QUERY_EXT\";\n    GL[GL[\"QUERY_RESULT_EXT\"] = 34918] = \"QUERY_RESULT_EXT\";\n    GL[GL[\"QUERY_RESULT_AVAILABLE_EXT\"] = 34919] = \"QUERY_RESULT_AVAILABLE_EXT\";\n    GL[GL[\"TIME_ELAPSED_EXT\"] = 35007] = \"TIME_ELAPSED_EXT\";\n    GL[GL[\"TIMESTAMP_EXT\"] = 36392] = \"TIMESTAMP_EXT\";\n    GL[GL[\"GPU_DISJOINT_EXT\"] = 36795] = \"GPU_DISJOINT_EXT\";\n})(GL || (GL = {}));\n\nvar ResourceType;\n(function (ResourceType) {\n    ResourceType[ResourceType[\"Buffer\"] = 0] = \"Buffer\";\n    ResourceType[ResourceType[\"Texture\"] = 1] = \"Texture\";\n    ResourceType[ResourceType[\"RenderTarget\"] = 2] = \"RenderTarget\";\n    ResourceType[ResourceType[\"Sampler\"] = 3] = \"Sampler\";\n    ResourceType[ResourceType[\"Program\"] = 4] = \"Program\";\n    ResourceType[ResourceType[\"Bindings\"] = 5] = \"Bindings\";\n    ResourceType[ResourceType[\"InputLayout\"] = 6] = \"InputLayout\";\n    ResourceType[ResourceType[\"RenderPipeline\"] = 7] = \"RenderPipeline\";\n    ResourceType[ResourceType[\"ComputePipeline\"] = 8] = \"ComputePipeline\";\n    ResourceType[ResourceType[\"Readback\"] = 9] = \"Readback\";\n    ResourceType[ResourceType[\"QueryPool\"] = 10] = \"QueryPool\";\n    ResourceType[ResourceType[\"RenderBundle\"] = 11] = \"RenderBundle\";\n})(ResourceType || (ResourceType = {}));\nvar CompareFunction;\n(function (CompareFunction) {\n    CompareFunction[CompareFunction[\"NEVER\"] = 512] = \"NEVER\";\n    CompareFunction[CompareFunction[\"LESS\"] = 513] = \"LESS\";\n    CompareFunction[CompareFunction[\"EQUAL\"] = 514] = \"EQUAL\";\n    CompareFunction[CompareFunction[\"LEQUAL\"] = 515] = \"LEQUAL\";\n    CompareFunction[CompareFunction[\"GREATER\"] = 516] = \"GREATER\";\n    CompareFunction[CompareFunction[\"NOTEQUAL\"] = 517] = \"NOTEQUAL\";\n    CompareFunction[CompareFunction[\"GEQUAL\"] = 518] = \"GEQUAL\";\n    CompareFunction[CompareFunction[\"ALWAYS\"] = 519] = \"ALWAYS\";\n})(CompareFunction || (CompareFunction = {}));\nvar FrontFace;\n(function (FrontFace) {\n    FrontFace[FrontFace[\"CCW\"] = 2305] = \"CCW\";\n    FrontFace[FrontFace[\"CW\"] = 2304] = \"CW\";\n})(FrontFace || (FrontFace = {}));\nvar CullMode;\n(function (CullMode) {\n    CullMode[CullMode[\"NONE\"] = 0] = \"NONE\";\n    CullMode[CullMode[\"FRONT\"] = 1] = \"FRONT\";\n    CullMode[CullMode[\"BACK\"] = 2] = \"BACK\";\n    CullMode[CullMode[\"FRONT_AND_BACK\"] = 3] = \"FRONT_AND_BACK\";\n})(CullMode || (CullMode = {}));\n/**\n * Blend factor RGBA components.\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendfactor\n */\nvar BlendFactor;\n(function (BlendFactor) {\n    /**\n     * (0, 0, 0, 0)\n     */\n    BlendFactor[BlendFactor[\"ZERO\"] = 0] = \"ZERO\";\n    /**\n     * (1, 1, 1, 1)\n     */\n    BlendFactor[BlendFactor[\"ONE\"] = 1] = \"ONE\";\n    /**\n     * (Rsrc, Gsrc, Bsrc, Asrc)\n     */\n    BlendFactor[BlendFactor[\"SRC\"] = 768] = \"SRC\";\n    /**\n     * (1 - Rsrc, 1 - Gsrc, 1 - Bsrc, 1 - Asrc)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_SRC\"] = 769] = \"ONE_MINUS_SRC\";\n    /**\n     * (Rdst, Gdst, Bdst, Adst)\n     */\n    BlendFactor[BlendFactor[\"DST\"] = 774] = \"DST\";\n    /**\n     * (1 - Rdst, 1 - Gdst, 1 - Bdst, 1 - Adst)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_DST\"] = 775] = \"ONE_MINUS_DST\";\n    /**\n     * (Asrc, Asrc, Asrc, Asrc)\n     */\n    BlendFactor[BlendFactor[\"SRC_ALPHA\"] = 770] = \"SRC_ALPHA\";\n    /**\n     * (1 - Asrc, 1 - Asrc, 1 - Asrc, 1 - Asrc)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_SRC_ALPHA\"] = 771] = \"ONE_MINUS_SRC_ALPHA\";\n    /**\n     * (Adst, Adst, Adst, Adst)\n     */\n    BlendFactor[BlendFactor[\"DST_ALPHA\"] = 772] = \"DST_ALPHA\";\n    /**\n     * (1 - Adst, 1 - Adst, 1 - Adst, 1 - Adst)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_DST_ALPHA\"] = 773] = \"ONE_MINUS_DST_ALPHA\";\n    /**\n     * (Rconst, Gconst, Bconst, Aconst)\n     */\n    BlendFactor[BlendFactor[\"CONST\"] = 32769] = \"CONST\";\n    /**\n     * (1 - Rconst, 1 - Gconst, 1 - Bconst, 1 - Aconst)\n     */\n    BlendFactor[BlendFactor[\"ONE_MINUS_CONSTANT\"] = 32770] = \"ONE_MINUS_CONSTANT\";\n    /**\n     * (min(Asrc, 1 - Adst), min(Asrc, 1 - Adst), min(Asrc, 1 - Adst), 1)\n     */\n    BlendFactor[BlendFactor[\"SRC_ALPHA_SATURATE\"] = 776] = \"SRC_ALPHA_SATURATE\";\n})(BlendFactor || (BlendFactor = {}));\n/**\n * Defines the algorithm used to combine source and destination blend factors.\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendoperation\n */\nvar BlendMode;\n(function (BlendMode) {\n    /**\n     * RGBAsrc × RGBAsrcFactor + RGBAdst × RGBAdstFactor\n     */\n    BlendMode[BlendMode[\"ADD\"] = 32774] = \"ADD\";\n    /**\n     * RGBAsrc × RGBAsrcFactor - RGBAdst × RGBAdstFactor\n     */\n    BlendMode[BlendMode[\"SUBSTRACT\"] = 32778] = \"SUBSTRACT\";\n    /**\n     * RGBAdst × RGBAdstFactor - RGBAsrc × RGBAsrcFactor\n     */\n    BlendMode[BlendMode[\"REVERSE_SUBSTRACT\"] = 32779] = \"REVERSE_SUBSTRACT\";\n    // TODO: WebGL 1 should use ext\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquation#parameters\n    /**\n     * min(RGBAsrc, RGBAdst)\n     */\n    BlendMode[BlendMode[\"MIN\"] = 32775] = \"MIN\";\n    /**\n     * max(RGBAsrc, RGBAdst)\n     */\n    BlendMode[BlendMode[\"MAX\"] = 32776] = \"MAX\";\n})(BlendMode || (BlendMode = {}));\nvar AddressMode;\n(function (AddressMode) {\n    AddressMode[AddressMode[\"CLAMP_TO_EDGE\"] = 0] = \"CLAMP_TO_EDGE\";\n    AddressMode[AddressMode[\"REPEAT\"] = 1] = \"REPEAT\";\n    AddressMode[AddressMode[\"MIRRORED_REPEAT\"] = 2] = \"MIRRORED_REPEAT\";\n})(AddressMode || (AddressMode = {}));\nvar FilterMode;\n(function (FilterMode) {\n    FilterMode[FilterMode[\"POINT\"] = 0] = \"POINT\";\n    FilterMode[FilterMode[\"BILINEAR\"] = 1] = \"BILINEAR\";\n})(FilterMode || (FilterMode = {}));\nvar MipmapFilterMode;\n(function (MipmapFilterMode) {\n    MipmapFilterMode[MipmapFilterMode[\"NO_MIP\"] = 0] = \"NO_MIP\";\n    MipmapFilterMode[MipmapFilterMode[\"NEAREST\"] = 1] = \"NEAREST\";\n    MipmapFilterMode[MipmapFilterMode[\"LINEAR\"] = 2] = \"LINEAR\";\n})(MipmapFilterMode || (MipmapFilterMode = {}));\nvar PrimitiveTopology;\n(function (PrimitiveTopology) {\n    PrimitiveTopology[PrimitiveTopology[\"POINTS\"] = 0] = \"POINTS\";\n    PrimitiveTopology[PrimitiveTopology[\"TRIANGLES\"] = 1] = \"TRIANGLES\";\n    PrimitiveTopology[PrimitiveTopology[\"TRIANGLE_STRIP\"] = 2] = \"TRIANGLE_STRIP\";\n    PrimitiveTopology[PrimitiveTopology[\"LINES\"] = 3] = \"LINES\";\n    PrimitiveTopology[PrimitiveTopology[\"LINE_STRIP\"] = 4] = \"LINE_STRIP\";\n})(PrimitiveTopology || (PrimitiveTopology = {}));\n/**\n * @see https://www.w3.org/TR/webgpu/#buffer-usage\n */\nvar BufferUsage;\n(function (BufferUsage) {\n    BufferUsage[BufferUsage[\"MAP_READ\"] = 1] = \"MAP_READ\";\n    BufferUsage[BufferUsage[\"MAP_WRITE\"] = 2] = \"MAP_WRITE\";\n    BufferUsage[BufferUsage[\"COPY_SRC\"] = 4] = \"COPY_SRC\";\n    BufferUsage[BufferUsage[\"COPY_DST\"] = 8] = \"COPY_DST\";\n    BufferUsage[BufferUsage[\"INDEX\"] = 16] = \"INDEX\";\n    BufferUsage[BufferUsage[\"VERTEX\"] = 32] = \"VERTEX\";\n    BufferUsage[BufferUsage[\"UNIFORM\"] = 64] = \"UNIFORM\";\n    BufferUsage[BufferUsage[\"STORAGE\"] = 128] = \"STORAGE\";\n    BufferUsage[BufferUsage[\"INDIRECT\"] = 256] = \"INDIRECT\";\n    BufferUsage[BufferUsage[\"QUERY_RESOLVE\"] = 512] = \"QUERY_RESOLVE\";\n})(BufferUsage || (BufferUsage = {}));\nvar BufferFrequencyHint;\n(function (BufferFrequencyHint) {\n    BufferFrequencyHint[BufferFrequencyHint[\"STATIC\"] = 1] = \"STATIC\";\n    BufferFrequencyHint[BufferFrequencyHint[\"DYNAMIC\"] = 2] = \"DYNAMIC\";\n})(BufferFrequencyHint || (BufferFrequencyHint = {}));\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpuvertexstepmode\n */\nvar VertexStepMode;\n(function (VertexStepMode) {\n    VertexStepMode[VertexStepMode[\"VERTEX\"] = 1] = \"VERTEX\";\n    VertexStepMode[VertexStepMode[\"INSTANCE\"] = 2] = \"INSTANCE\";\n})(VertexStepMode || (VertexStepMode = {}));\nvar TextureEvent;\n(function (TextureEvent) {\n    TextureEvent[\"LOADED\"] = \"loaded\";\n})(TextureEvent || (TextureEvent = {}));\nvar TextureDimension;\n(function (TextureDimension) {\n    TextureDimension[TextureDimension[\"TEXTURE_2D\"] = 0] = \"TEXTURE_2D\";\n    TextureDimension[TextureDimension[\"TEXTURE_2D_ARRAY\"] = 1] = \"TEXTURE_2D_ARRAY\";\n    TextureDimension[TextureDimension[\"TEXTURE_3D\"] = 2] = \"TEXTURE_3D\";\n    TextureDimension[TextureDimension[\"TEXTURE_CUBE_MAP\"] = 3] = \"TEXTURE_CUBE_MAP\";\n})(TextureDimension || (TextureDimension = {}));\nvar TextureUsage;\n(function (TextureUsage) {\n    TextureUsage[TextureUsage[\"SAMPLED\"] = 1] = \"SAMPLED\";\n    TextureUsage[TextureUsage[\"RENDER_TARGET\"] = 2] = \"RENDER_TARGET\";\n    TextureUsage[TextureUsage[\"STORAGE\"] = 4] = \"STORAGE\";\n})(TextureUsage || (TextureUsage = {}));\nvar ChannelWriteMask;\n(function (ChannelWriteMask) {\n    ChannelWriteMask[ChannelWriteMask[\"NONE\"] = 0] = \"NONE\";\n    ChannelWriteMask[ChannelWriteMask[\"RED\"] = 1] = \"RED\";\n    ChannelWriteMask[ChannelWriteMask[\"GREEN\"] = 2] = \"GREEN\";\n    ChannelWriteMask[ChannelWriteMask[\"BLUE\"] = 4] = \"BLUE\";\n    ChannelWriteMask[ChannelWriteMask[\"ALPHA\"] = 8] = \"ALPHA\";\n    ChannelWriteMask[ChannelWriteMask[\"RGB\"] = 7] = \"RGB\";\n    ChannelWriteMask[ChannelWriteMask[\"ALL\"] = 15] = \"ALL\";\n})(ChannelWriteMask || (ChannelWriteMask = {}));\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpustenciloperation\n */\nvar StencilOp;\n(function (StencilOp) {\n    StencilOp[StencilOp[\"KEEP\"] = 7680] = \"KEEP\";\n    StencilOp[StencilOp[\"ZERO\"] = 0] = \"ZERO\";\n    StencilOp[StencilOp[\"REPLACE\"] = 7681] = \"REPLACE\";\n    StencilOp[StencilOp[\"INVERT\"] = 5386] = \"INVERT\";\n    StencilOp[StencilOp[\"INCREMENT_CLAMP\"] = 7682] = \"INCREMENT_CLAMP\";\n    StencilOp[StencilOp[\"DECREMENT_CLAMP\"] = 7683] = \"DECREMENT_CLAMP\";\n    StencilOp[StencilOp[\"INCREMENT_WRAP\"] = 34055] = \"INCREMENT_WRAP\";\n    StencilOp[StencilOp[\"DECREMENT_WRAP\"] = 34056] = \"DECREMENT_WRAP\";\n})(StencilOp || (StencilOp = {}));\nfunction makeTextureDescriptor2D(format, width, height, mipLevelCount) {\n    var dimension = TextureDimension.TEXTURE_2D;\n    var depthOrArrayLayers = 1;\n    var usage = TextureUsage.SAMPLED;\n    return {\n        dimension: dimension,\n        format: format,\n        width: width,\n        height: height,\n        depthOrArrayLayers: depthOrArrayLayers,\n        mipLevelCount: mipLevelCount,\n        usage: usage,\n    };\n}\nvar SamplerFormatKind;\n(function (SamplerFormatKind) {\n    SamplerFormatKind[SamplerFormatKind[\"Float\"] = 0] = \"Float\";\n    SamplerFormatKind[SamplerFormatKind[\"UnfilterableFloat\"] = 1] = \"UnfilterableFloat\";\n    SamplerFormatKind[SamplerFormatKind[\"Uint\"] = 2] = \"Uint\";\n    SamplerFormatKind[SamplerFormatKind[\"Sint\"] = 3] = \"Sint\";\n    SamplerFormatKind[SamplerFormatKind[\"Depth\"] = 4] = \"Depth\";\n})(SamplerFormatKind || (SamplerFormatKind = {}));\nvar ViewportOrigin;\n(function (ViewportOrigin) {\n    ViewportOrigin[ViewportOrigin[\"LOWER_LEFT\"] = 0] = \"LOWER_LEFT\";\n    ViewportOrigin[ViewportOrigin[\"UPPER_LEFT\"] = 1] = \"UPPER_LEFT\";\n})(ViewportOrigin || (ViewportOrigin = {}));\nvar ClipSpaceNearZ;\n(function (ClipSpaceNearZ) {\n    ClipSpaceNearZ[ClipSpaceNearZ[\"NEGATIVE_ONE\"] = 0] = \"NEGATIVE_ONE\";\n    ClipSpaceNearZ[ClipSpaceNearZ[\"ZERO\"] = 1] = \"ZERO\";\n})(ClipSpaceNearZ || (ClipSpaceNearZ = {}));\nvar QueryPoolType;\n(function (QueryPoolType) {\n    QueryPoolType[QueryPoolType[\"OcclusionConservative\"] = 0] = \"OcclusionConservative\";\n})(QueryPoolType || (QueryPoolType = {}));\n\nvar FormatTypeFlags;\n(function (FormatTypeFlags) {\n    FormatTypeFlags[FormatTypeFlags[\"U8\"] = 1] = \"U8\";\n    FormatTypeFlags[FormatTypeFlags[\"U16\"] = 2] = \"U16\";\n    FormatTypeFlags[FormatTypeFlags[\"U32\"] = 3] = \"U32\";\n    FormatTypeFlags[FormatTypeFlags[\"S8\"] = 4] = \"S8\";\n    FormatTypeFlags[FormatTypeFlags[\"S16\"] = 5] = \"S16\";\n    FormatTypeFlags[FormatTypeFlags[\"S32\"] = 6] = \"S32\";\n    FormatTypeFlags[FormatTypeFlags[\"F16\"] = 7] = \"F16\";\n    FormatTypeFlags[FormatTypeFlags[\"F32\"] = 8] = \"F32\";\n    // Compressed texture formats.\n    FormatTypeFlags[FormatTypeFlags[\"BC1\"] = 65] = \"BC1\";\n    FormatTypeFlags[FormatTypeFlags[\"BC2\"] = 66] = \"BC2\";\n    FormatTypeFlags[FormatTypeFlags[\"BC3\"] = 67] = \"BC3\";\n    FormatTypeFlags[FormatTypeFlags[\"BC4_UNORM\"] = 68] = \"BC4_UNORM\";\n    FormatTypeFlags[FormatTypeFlags[\"BC4_SNORM\"] = 69] = \"BC4_SNORM\";\n    FormatTypeFlags[FormatTypeFlags[\"BC5_UNORM\"] = 70] = \"BC5_UNORM\";\n    FormatTypeFlags[FormatTypeFlags[\"BC5_SNORM\"] = 71] = \"BC5_SNORM\";\n    // Special-case packed texture formats.\n    FormatTypeFlags[FormatTypeFlags[\"U16_PACKED_5551\"] = 97] = \"U16_PACKED_5551\";\n    FormatTypeFlags[FormatTypeFlags[\"U16_PACKED_565\"] = 98] = \"U16_PACKED_565\";\n    // Depth/stencil texture formats.\n    FormatTypeFlags[FormatTypeFlags[\"D24\"] = 129] = \"D24\";\n    FormatTypeFlags[FormatTypeFlags[\"D32F\"] = 130] = \"D32F\";\n    FormatTypeFlags[FormatTypeFlags[\"D24S8\"] = 131] = \"D24S8\";\n    FormatTypeFlags[FormatTypeFlags[\"D32FS8\"] = 132] = \"D32FS8\";\n})(FormatTypeFlags || (FormatTypeFlags = {}));\nvar FormatCompFlags;\n(function (FormatCompFlags) {\n    FormatCompFlags[FormatCompFlags[\"R\"] = 1] = \"R\";\n    FormatCompFlags[FormatCompFlags[\"RG\"] = 2] = \"RG\";\n    FormatCompFlags[FormatCompFlags[\"RGB\"] = 3] = \"RGB\";\n    FormatCompFlags[FormatCompFlags[\"RGBA\"] = 4] = \"RGBA\";\n    FormatCompFlags[FormatCompFlags[\"A\"] = 5] = \"A\";\n})(FormatCompFlags || (FormatCompFlags = {}));\nfunction getFormatCompFlagsComponentCount(n) {\n    // The number of components is the flag value. Easy.\n    return n;\n}\nvar FormatFlags;\n(function (FormatFlags) {\n    FormatFlags[FormatFlags[\"None\"] = 0] = \"None\";\n    FormatFlags[FormatFlags[\"Normalized\"] = 1] = \"Normalized\";\n    FormatFlags[FormatFlags[\"sRGB\"] = 2] = \"sRGB\";\n    FormatFlags[FormatFlags[\"Depth\"] = 4] = \"Depth\";\n    FormatFlags[FormatFlags[\"Stencil\"] = 8] = \"Stencil\";\n    FormatFlags[FormatFlags[\"RenderTarget\"] = 16] = \"RenderTarget\";\n    FormatFlags[FormatFlags[\"Luminance\"] = 32] = \"Luminance\";\n})(FormatFlags || (FormatFlags = {}));\nfunction makeFormat(type, comp, flags) {\n    return (type << 16) | (comp << 8) | flags;\n}\nvar Format;\n(function (Format) {\n    Format[Format[\"ALPHA\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.A, FormatFlags.None)] = \"ALPHA\";\n    Format[Format[\"U8_LUMINANCE\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.A, FormatFlags.Luminance)] = \"U8_LUMINANCE\";\n    Format[Format[\"F16_LUMINANCE\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.A, FormatFlags.Luminance)] = \"F16_LUMINANCE\";\n    Format[Format[\"F32_LUMINANCE\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.A, FormatFlags.Luminance)] = \"F32_LUMINANCE\";\n    Format[Format[\"F16_R\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.R, FormatFlags.None)] = \"F16_R\";\n    Format[Format[\"F16_RG\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.RG, FormatFlags.None)] = \"F16_RG\";\n    Format[Format[\"F16_RGB\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.RGB, FormatFlags.None)] = \"F16_RGB\";\n    Format[Format[\"F16_RGBA\"] = makeFormat(FormatTypeFlags.F16, FormatCompFlags.RGBA, FormatFlags.None)] = \"F16_RGBA\";\n    Format[Format[\"F32_R\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.R, FormatFlags.None)] = \"F32_R\";\n    Format[Format[\"F32_RG\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.RG, FormatFlags.None)] = \"F32_RG\";\n    Format[Format[\"F32_RGB\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.RGB, FormatFlags.None)] = \"F32_RGB\";\n    Format[Format[\"F32_RGBA\"] = makeFormat(FormatTypeFlags.F32, FormatCompFlags.RGBA, FormatFlags.None)] = \"F32_RGBA\";\n    Format[Format[\"U8_R\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.R, FormatFlags.None)] = \"U8_R\";\n    Format[Format[\"U8_R_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.R, FormatFlags.Normalized)] = \"U8_R_NORM\";\n    Format[Format[\"U8_RG\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RG, FormatFlags.None)] = \"U8_RG\";\n    Format[Format[\"U8_RG_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RG, FormatFlags.Normalized)] = \"U8_RG_NORM\";\n    Format[Format[\"U8_RGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.None)] = \"U8_RGB\";\n    Format[Format[\"U8_RGB_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"U8_RGB_NORM\";\n    Format[Format[\"U8_RGB_SRGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.sRGB | FormatFlags.Normalized)] = \"U8_RGB_SRGB\";\n    Format[Format[\"U8_RGBA\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.None)] = \"U8_RGBA\";\n    Format[Format[\"U8_RGBA_NORM\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"U8_RGBA_NORM\";\n    Format[Format[\"U8_RGBA_SRGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.sRGB | FormatFlags.Normalized)] = \"U8_RGBA_SRGB\";\n    Format[Format[\"U16_R\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.R, FormatFlags.None)] = \"U16_R\";\n    Format[Format[\"U16_R_NORM\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.R, FormatFlags.Normalized)] = \"U16_R_NORM\";\n    Format[Format[\"U16_RG_NORM\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RG, FormatFlags.Normalized)] = \"U16_RG_NORM\";\n    Format[Format[\"U16_RGBA_NORM\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"U16_RGBA_NORM\";\n    Format[Format[\"U16_RGBA\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RGBA, FormatFlags.None)] = \"U16_RGBA\";\n    Format[Format[\"U16_RGB\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RGB, FormatFlags.None)] = \"U16_RGB\";\n    Format[Format[\"U16_RG\"] = makeFormat(FormatTypeFlags.U16, FormatCompFlags.RG, FormatFlags.None)] = \"U16_RG\";\n    Format[Format[\"U32_R\"] = makeFormat(FormatTypeFlags.U32, FormatCompFlags.R, FormatFlags.None)] = \"U32_R\";\n    Format[Format[\"U32_RG\"] = makeFormat(FormatTypeFlags.U32, FormatCompFlags.RG, FormatFlags.None)] = \"U32_RG\";\n    Format[Format[\"U32_RGB\"] = makeFormat(FormatTypeFlags.U32, FormatCompFlags.RGB, FormatFlags.None)] = \"U32_RGB\";\n    Format[Format[\"U32_RGBA\"] = makeFormat(FormatTypeFlags.U32, FormatCompFlags.RGBA, FormatFlags.None)] = \"U32_RGBA\";\n    Format[Format[\"S8_R\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.R, FormatFlags.None)] = \"S8_R\";\n    Format[Format[\"S8_R_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.R, FormatFlags.Normalized)] = \"S8_R_NORM\";\n    Format[Format[\"S8_RG_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.RG, FormatFlags.Normalized)] = \"S8_RG_NORM\";\n    Format[Format[\"S8_RGB_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"S8_RGB_NORM\";\n    Format[Format[\"S8_RGBA_NORM\"] = makeFormat(FormatTypeFlags.S8, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"S8_RGBA_NORM\";\n    Format[Format[\"S16_R\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.R, FormatFlags.None)] = \"S16_R\";\n    Format[Format[\"S16_RG\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RG, FormatFlags.None)] = \"S16_RG\";\n    Format[Format[\"S16_RG_NORM\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RG, FormatFlags.Normalized)] = \"S16_RG_NORM\";\n    Format[Format[\"S16_RGB_NORM\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"S16_RGB_NORM\";\n    Format[Format[\"S16_RGBA\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RGBA, FormatFlags.None)] = \"S16_RGBA\";\n    Format[Format[\"S16_RGBA_NORM\"] = makeFormat(FormatTypeFlags.S16, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"S16_RGBA_NORM\";\n    Format[Format[\"S32_R\"] = makeFormat(FormatTypeFlags.S32, FormatCompFlags.R, FormatFlags.None)] = \"S32_R\";\n    Format[Format[\"S32_RG\"] = makeFormat(FormatTypeFlags.S32, FormatCompFlags.RG, FormatFlags.None)] = \"S32_RG\";\n    Format[Format[\"S32_RGB\"] = makeFormat(FormatTypeFlags.S32, FormatCompFlags.RGB, FormatFlags.None)] = \"S32_RGB\";\n    Format[Format[\"S32_RGBA\"] = makeFormat(FormatTypeFlags.S32, FormatCompFlags.RGBA, FormatFlags.None)] = \"S32_RGBA\";\n    // Packed texture formats.\n    Format[Format[\"U16_RGBA_5551\"] = makeFormat(FormatTypeFlags.U16_PACKED_5551, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"U16_RGBA_5551\";\n    Format[Format[\"U16_RGB_565\"] = makeFormat(FormatTypeFlags.U16_PACKED_565, FormatCompFlags.RGB, FormatFlags.Normalized)] = \"U16_RGB_565\";\n    // Compressed\n    Format[Format[\"BC1\"] = makeFormat(FormatTypeFlags.BC1, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"BC1\";\n    Format[Format[\"BC1_SRGB\"] = makeFormat(FormatTypeFlags.BC1, FormatCompFlags.RGBA, FormatFlags.Normalized | FormatFlags.sRGB)] = \"BC1_SRGB\";\n    Format[Format[\"BC2\"] = makeFormat(FormatTypeFlags.BC2, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"BC2\";\n    Format[Format[\"BC2_SRGB\"] = makeFormat(FormatTypeFlags.BC2, FormatCompFlags.RGBA, FormatFlags.Normalized | FormatFlags.sRGB)] = \"BC2_SRGB\";\n    Format[Format[\"BC3\"] = makeFormat(FormatTypeFlags.BC3, FormatCompFlags.RGBA, FormatFlags.Normalized)] = \"BC3\";\n    Format[Format[\"BC3_SRGB\"] = makeFormat(FormatTypeFlags.BC3, FormatCompFlags.RGBA, FormatFlags.Normalized | FormatFlags.sRGB)] = \"BC3_SRGB\";\n    Format[Format[\"BC4_UNORM\"] = makeFormat(FormatTypeFlags.BC4_UNORM, FormatCompFlags.R, FormatFlags.Normalized)] = \"BC4_UNORM\";\n    Format[Format[\"BC4_SNORM\"] = makeFormat(FormatTypeFlags.BC4_SNORM, FormatCompFlags.R, FormatFlags.Normalized)] = \"BC4_SNORM\";\n    Format[Format[\"BC5_UNORM\"] = makeFormat(FormatTypeFlags.BC5_UNORM, FormatCompFlags.RG, FormatFlags.Normalized)] = \"BC5_UNORM\";\n    Format[Format[\"BC5_SNORM\"] = makeFormat(FormatTypeFlags.BC5_SNORM, FormatCompFlags.RG, FormatFlags.Normalized)] = \"BC5_SNORM\";\n    // Depth/Stencil\n    Format[Format[\"D24\"] = makeFormat(FormatTypeFlags.D24, FormatCompFlags.R, FormatFlags.Depth)] = \"D24\";\n    Format[Format[\"D24_S8\"] = makeFormat(FormatTypeFlags.D24S8, FormatCompFlags.RG, FormatFlags.Depth | FormatFlags.Stencil)] = \"D24_S8\";\n    Format[Format[\"D32F\"] = makeFormat(FormatTypeFlags.D32F, FormatCompFlags.R, FormatFlags.Depth)] = \"D32F\";\n    Format[Format[\"D32F_S8\"] = makeFormat(FormatTypeFlags.D32FS8, FormatCompFlags.RG, FormatFlags.Depth | FormatFlags.Stencil)] = \"D32F_S8\";\n    // Special RT formats for preferred backend support.\n    Format[Format[\"U8_RGB_RT\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGB, FormatFlags.RenderTarget | FormatFlags.Normalized)] = \"U8_RGB_RT\";\n    Format[Format[\"U8_RGBA_RT\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.RenderTarget | FormatFlags.Normalized)] = \"U8_RGBA_RT\";\n    Format[Format[\"U8_RGBA_RT_SRGB\"] = makeFormat(FormatTypeFlags.U8, FormatCompFlags.RGBA, FormatFlags.RenderTarget | FormatFlags.Normalized | FormatFlags.sRGB)] = \"U8_RGBA_RT_SRGB\";\n})(Format || (Format = {}));\nfunction getFormatCompFlags(fmt) {\n    return (fmt >>> 8) & 0xff;\n}\nfunction getFormatTypeFlags(fmt) {\n    return (fmt >>> 16) & 0xff;\n}\nfunction getFormatFlags(fmt) {\n    return fmt & 0xff;\n}\nfunction getFormatTypeFlagsByteSize(typeFlags) {\n    switch (typeFlags) {\n        case FormatTypeFlags.F32:\n        case FormatTypeFlags.U32:\n        case FormatTypeFlags.S32:\n            return 4;\n        case FormatTypeFlags.U16:\n        case FormatTypeFlags.S16:\n        case FormatTypeFlags.F16:\n            return 2;\n        case FormatTypeFlags.U8:\n        case FormatTypeFlags.S8:\n            return 1;\n        default:\n            throw new Error('whoops');\n    }\n}\n/**\n * Gets the byte size for an individual component.\n * e.g. for F32_RGB, this will return \"4\", since F32 has 4 bytes.\n */\nfunction getFormatCompByteSize(fmt) {\n    return getFormatTypeFlagsByteSize(getFormatTypeFlags(fmt));\n}\nfunction getFormatComponentCount(fmt) {\n    return getFormatCompFlagsComponentCount(getFormatCompFlags(fmt));\n}\nfunction getFormatByteSize(fmt) {\n    var typeByteSize = getFormatTypeFlagsByteSize(getFormatTypeFlags(fmt));\n    var componentCount = getFormatCompFlagsComponentCount(getFormatCompFlags(fmt));\n    return typeByteSize * componentCount;\n}\nfunction setFormatFlags(fmt, flags) {\n    return (fmt & 0xffffff00) | flags;\n}\nfunction setFormatComponentCount(fmt, compFlags) {\n    return (fmt & 0xffff00ff) | (compFlags << 8);\n}\nfunction getFormatSamplerKind(fmt) {\n    var flags = getFormatFlags(fmt);\n    if (flags & FormatFlags.Depth) {\n        return SamplerFormatKind.Depth;\n    }\n    if (flags & FormatFlags.Normalized) {\n        return SamplerFormatKind.Float;\n    }\n    var typeFlags = getFormatTypeFlags(fmt);\n    if (typeFlags === FormatTypeFlags.F16 || typeFlags === FormatTypeFlags.F32) {\n        return SamplerFormatKind.Float;\n    }\n    else if (typeFlags === FormatTypeFlags.U8 ||\n        typeFlags === FormatTypeFlags.U16 ||\n        typeFlags === FormatTypeFlags.U32) {\n        return SamplerFormatKind.Uint;\n    }\n    else if (typeFlags === FormatTypeFlags.S8 ||\n        typeFlags === FormatTypeFlags.S16 ||\n        typeFlags === FormatTypeFlags.S32) {\n        return SamplerFormatKind.Sint;\n    }\n    else {\n        throw new Error('whoops');\n    }\n}\n\nfunction assert(b, message) {\n    if (message === void 0) { message = ''; }\n    if (!b) {\n        // console.error(new Error().stack);\n        throw new Error(\"Assert fail: \".concat(message));\n    }\n}\nfunction assertExists(v) {\n    if (v !== undefined && v !== null)\n        return v;\n    else\n        throw new Error('Missing object');\n}\n\nfunction colorEqual(c0, c1) {\n    return c0.r === c1.r && c0.g === c1.g && c0.b === c1.b && c0.a === c1.a;\n}\nfunction colorCopy(dst, src) {\n    dst.r = src.r;\n    dst.g = src.g;\n    dst.b = src.b;\n    dst.a = src.a;\n}\nfunction colorNewCopy(src) {\n    var r = src.r, g = src.g, b = src.b, a = src.a;\n    return { r: r, g: g, b: b, a: a };\n}\nfunction colorNewFromRGBA(r, g, b, a) {\n    if (a === void 0) { a = 1.0; }\n    return { r: r, g: g, b: b, a: a };\n}\nvar TransparentBlack = colorNewFromRGBA(0, 0, 0, 0);\nvar OpaqueBlack = colorNewFromRGBA(0, 0, 0, 1);\nvar TransparentWhite = colorNewFromRGBA(1, 1, 1, 0);\nvar OpaqueWhite = colorNewFromRGBA(1, 1, 1, 1);\n\n/**\n * @see https://forum.babylonjs.com/t/reverse-depth-buffer-z-buffer/6905/2\n */\nvar IsDepthReversed = true;\nfunction reverseDepthForPerspectiveProjectionMatrix(m, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        m[10] = -m[10];\n        m[14] = -m[14];\n    }\n}\nfunction reverseDepthForOrthographicProjectionMatrix(m, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        m[10] = -m[10];\n        m[14] = -m[14] + 1;\n    }\n}\nfunction reverseDepthForCompareFunction(compareFunction, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        switch (compareFunction) {\n            case CompareFunction.LESS:\n                return CompareFunction.GREATER;\n            case CompareFunction.LEQUAL:\n                return CompareFunction.GEQUAL;\n            case CompareFunction.GEQUAL:\n                return CompareFunction.LEQUAL;\n            case CompareFunction.GREATER:\n                return CompareFunction.LESS;\n            default:\n                return compareFunction;\n        }\n    }\n    else {\n        return compareFunction;\n    }\n}\nfunction reverseDepthForClearValue(n, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        return 1.0 - n;\n    }\n    else {\n        return n;\n    }\n}\nfunction reverseDepthForDepthOffset(n, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    if (isDepthReversed) {\n        return -n;\n    }\n    else {\n        return n;\n    }\n}\nfunction compareDepthValues(a, b, op, isDepthReversed) {\n    if (isDepthReversed === void 0) { isDepthReversed = IsDepthReversed; }\n    op = reverseDepthForCompareFunction(op, isDepthReversed);\n    if (op === CompareFunction.LESS)\n        return a < b;\n    else if (op === CompareFunction.LEQUAL)\n        return a <= b;\n    else if (op === CompareFunction.GREATER)\n        return a > b;\n    else if (op === CompareFunction.GEQUAL)\n        return a >= b;\n    else\n        throw new Error('whoops');\n}\n\n// import { reverseDepthForCompareFunction } from './depth';\nfunction isPowerOfTwo(n) {\n    return !!(n && (n & (n - 1)) === 0);\n}\nfunction fallbackUndefined(v, fallback) {\n    return v !== null && v !== undefined ? v : fallback;\n}\nfunction nullify(v) {\n    return v === undefined ? null : v;\n}\nfunction fillArray(L, n, v) {\n    L.length = n;\n    L.fill(v);\n}\nfunction align(n, multiple) {\n    var mask = multiple - 1;\n    return (n + mask) & ~mask;\n}\nfunction alignNonPowerOfTwo(n, multiple) {\n    return (((n + multiple - 1) / multiple) | 0) * multiple;\n}\n// @see https://github.com/d3/d3-array#bisectRight\nfunction bisectRight(L, e, compare) {\n    var lo = 0, hi = L.length;\n    while (lo < hi) {\n        var mid = lo + ((hi - lo) >>> 1);\n        var cmp = compare(e, L[mid]);\n        if (cmp < 0)\n            hi = mid;\n        else\n            lo = mid + 1;\n    }\n    return lo;\n}\nfunction spliceBisectRight(L, e, compare) {\n    var idx = bisectRight(L, e, compare);\n    L.splice(idx, 0, e);\n}\nfunction setBitFlagEnabled(v, mask, enabled) {\n    if (enabled)\n        v |= mask;\n    else\n        v &= ~mask;\n    return v;\n}\nfunction nArray(n, c) {\n    var d = new Array(n);\n    for (var i = 0; i < n; i++)\n        d[i] = c();\n    return d;\n}\nfunction prependLineNo(str, lineStart) {\n    if (lineStart === void 0) { lineStart = 1; }\n    var lines = str.split('\\n');\n    return lines\n        .map(function (s, i) { return \"\".concat(leftPad('' + (lineStart + i), 4, ' '), \"  \").concat(s); })\n        .join('\\n');\n}\nfunction leftPad(S, spaces, ch) {\n    if (ch === void 0) { ch = '0'; }\n    while (S.length < spaces)\n        S = \"\".concat(ch).concat(S);\n    return S;\n}\nfunction range(start, count) {\n    var L = [];\n    for (var i = start; i < start + count; i++)\n        L.push(i);\n    return L;\n}\nfunction copyChannelBlendState(dst, src) {\n    dst.blendDstFactor = src.blendDstFactor;\n    dst.blendSrcFactor = src.blendSrcFactor;\n    dst.blendMode = src.blendMode;\n}\nfunction copyStencilFaceState(dst, src) {\n    if (dst === undefined) {\n        dst = {};\n    }\n    dst.compare = src.compare;\n    dst.depthFailOp = src.depthFailOp;\n    dst.passOp = src.passOp;\n    dst.failOp = src.failOp;\n    dst.mask = src.mask;\n    return dst;\n}\nfunction copyAttachmentState(dst, src) {\n    if (dst === undefined) {\n        dst = {\n            rgbBlendState: {},\n            alphaBlendState: {},\n            channelWriteMask: 0,\n        };\n    }\n    copyChannelBlendState(dst.rgbBlendState, src.rgbBlendState);\n    copyChannelBlendState(dst.alphaBlendState, src.alphaBlendState);\n    dst.channelWriteMask = src.channelWriteMask;\n    return dst;\n}\nfunction copyAttachmentsState(dst, src) {\n    if (dst.length !== src.length)\n        dst.length = src.length;\n    for (var i = 0; i < src.length; i++)\n        dst[i] = copyAttachmentState(dst[i], src[i]);\n}\nfunction setMegaStateFlags(dst, src) {\n    if (src.attachmentsState !== undefined) {\n        copyAttachmentsState(dst.attachmentsState, src.attachmentsState);\n    }\n    if (dst.blendConstant && src.blendConstant) {\n        colorCopy(dst.blendConstant, src.blendConstant);\n    }\n    dst.depthCompare = fallbackUndefined(src.depthCompare, dst.depthCompare);\n    dst.depthWrite = fallbackUndefined(src.depthWrite, dst.depthWrite);\n    dst.stencilWrite = fallbackUndefined(src.stencilWrite, dst.stencilWrite);\n    if (dst.stencilFront && src.stencilFront) {\n        copyStencilFaceState(dst.stencilFront, src.stencilFront);\n    }\n    if (dst.stencilBack && src.stencilBack) {\n        copyStencilFaceState(dst.stencilBack, src.stencilBack);\n    }\n    dst.cullMode = fallbackUndefined(src.cullMode, dst.cullMode);\n    dst.frontFace = fallbackUndefined(src.frontFace, dst.frontFace);\n    dst.polygonOffset = fallbackUndefined(src.polygonOffset, dst.polygonOffset);\n}\nfunction copyMegaState(src) {\n    var dst = Object.assign({}, src);\n    // Copy fields that need copying.\n    dst.attachmentsState = [];\n    copyAttachmentsState(dst.attachmentsState, src.attachmentsState);\n    dst.blendConstant = dst.blendConstant && colorNewCopy(dst.blendConstant);\n    dst.stencilFront = copyStencilFaceState(undefined, src.stencilFront);\n    dst.stencilBack = copyStencilFaceState(undefined, src.stencilBack);\n    return dst;\n}\nfunction copyAttachmentStateFromSimple(dst, src) {\n    if (src.channelWriteMask !== undefined) {\n        dst.channelWriteMask = src.channelWriteMask;\n    }\n    if (src.rgbBlendMode !== undefined) {\n        dst.rgbBlendState.blendMode = src.rgbBlendMode;\n    }\n    if (src.alphaBlendMode !== undefined) {\n        dst.alphaBlendState.blendMode = src.alphaBlendMode;\n    }\n    if (src.rgbBlendSrcFactor !== undefined) {\n        dst.rgbBlendState.blendSrcFactor = src.rgbBlendSrcFactor;\n    }\n    if (src.alphaBlendSrcFactor !== undefined) {\n        dst.alphaBlendState.blendSrcFactor = src.alphaBlendSrcFactor;\n    }\n    if (src.rgbBlendDstFactor !== undefined) {\n        dst.rgbBlendState.blendDstFactor = src.rgbBlendDstFactor;\n    }\n    if (src.alphaBlendDstFactor !== undefined) {\n        dst.alphaBlendState.blendDstFactor = src.alphaBlendDstFactor;\n    }\n}\nvar defaultBlendState = {\n    blendMode: BlendMode.ADD,\n    blendSrcFactor: BlendFactor.ONE,\n    blendDstFactor: BlendFactor.ZERO,\n};\nvar defaultMegaState = {\n    attachmentsState: [\n        {\n            channelWriteMask: ChannelWriteMask.ALL,\n            rgbBlendState: defaultBlendState,\n            alphaBlendState: defaultBlendState,\n        },\n    ],\n    blendConstant: colorNewCopy(TransparentBlack),\n    depthWrite: true,\n    depthCompare: CompareFunction.LEQUAL,\n    stencilWrite: false,\n    stencilFront: {\n        compare: CompareFunction.ALWAYS,\n        passOp: StencilOp.KEEP,\n        depthFailOp: StencilOp.KEEP,\n        failOp: StencilOp.KEEP,\n    },\n    stencilBack: {\n        compare: CompareFunction.ALWAYS,\n        passOp: StencilOp.KEEP,\n        depthFailOp: StencilOp.KEEP,\n        failOp: StencilOp.KEEP,\n    },\n    cullMode: CullMode.NONE,\n    frontFace: FrontFace.CCW,\n    polygonOffset: false,\n};\nfunction makeMegaState(other, src) {\n    if (other === void 0) { other = null; }\n    if (src === void 0) { src = defaultMegaState; }\n    var dst = copyMegaState(src);\n    if (other !== null)\n        setMegaStateFlags(dst, other);\n    return dst;\n}\nvar fullscreenMegaState = makeMegaState({ depthCompare: CompareFunction.ALWAYS, depthWrite: false }, defaultMegaState);\nfunction setAttachmentStateSimple(dst, simple) {\n    if (dst.attachmentsState === undefined) {\n        dst.attachmentsState = [];\n        copyAttachmentsState(dst.attachmentsState, defaultMegaState.attachmentsState);\n    }\n    copyAttachmentStateFromSimple(dst.attachmentsState[0], simple);\n    return dst;\n}\nvar defaultBindingLayoutSamplerDescriptor = {\n    texture: null,\n    sampler: null,\n    formatKind: SamplerFormatKind.Float,\n    dimension: TextureDimension.TEXTURE_2D,\n};\n\nfunction arrayEqual(a, b, e) {\n    if (a.length !== b.length)\n        return false;\n    for (var i = 0; i < a.length; i++)\n        if (!e(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction arrayCopy(a, copyFunc) {\n    var b = Array(a.length);\n    for (var i = 0; i < a.length; i++)\n        b[i] = copyFunc(a[i]);\n    return b;\n}\nfunction textureBindingEquals(a, b) {\n    return a.texture === b.texture && a.binding === b.binding;\n}\nfunction bufferBindingEquals(a, b) {\n    return (a.buffer === b.buffer &&\n        a.size === b.size &&\n        a.binding === b.binding &&\n        a.offset === b.offset);\n}\nfunction samplerBindingEquals(a, b) {\n    if (a === null)\n        return b === null;\n    if (b === null)\n        return false;\n    return (a.sampler === b.sampler &&\n        a.texture === b.texture &&\n        a.dimension === b.dimension &&\n        a.formatKind === b.formatKind &&\n        a.comparison === b.comparison);\n}\nfunction bindingsDescriptorEquals(a, b) {\n    a.samplerBindings = a.samplerBindings || [];\n    a.uniformBufferBindings = a.uniformBufferBindings || [];\n    a.storageBufferBindings = a.storageBufferBindings || [];\n    a.storageTextureBindings = a.storageTextureBindings || [];\n    b.samplerBindings = b.samplerBindings || [];\n    b.uniformBufferBindings = b.uniformBufferBindings || [];\n    b.storageBufferBindings = b.storageBufferBindings || [];\n    b.storageTextureBindings = b.storageTextureBindings || [];\n    if (a.samplerBindings.length !== b.samplerBindings.length)\n        return false;\n    if (!arrayEqual(a.samplerBindings, b.samplerBindings, samplerBindingEquals))\n        return false;\n    if (!arrayEqual(a.uniformBufferBindings, b.uniformBufferBindings, bufferBindingEquals))\n        return false;\n    if (!arrayEqual(a.storageBufferBindings, b.storageBufferBindings, bufferBindingEquals))\n        return false;\n    if (!arrayEqual(a.storageTextureBindings, b.storageTextureBindings, textureBindingEquals))\n        return false;\n    return true;\n}\nfunction channelBlendStateEquals(a, b) {\n    return (a.blendMode == b.blendMode &&\n        a.blendSrcFactor === b.blendSrcFactor &&\n        a.blendDstFactor === b.blendDstFactor);\n}\nfunction attachmentStateEquals(a, b) {\n    if (!channelBlendStateEquals(a.rgbBlendState, b.rgbBlendState))\n        return false;\n    if (!channelBlendStateEquals(a.alphaBlendState, b.alphaBlendState))\n        return false;\n    if (a.channelWriteMask !== b.channelWriteMask)\n        return false;\n    return true;\n}\nfunction stencilFaceStateEquals(a, b) {\n    return (a.compare == b.compare &&\n        a.depthFailOp === b.depthFailOp &&\n        a.failOp === b.failOp &&\n        a.passOp === b.passOp &&\n        a.mask === b.mask);\n}\nfunction megaStateDescriptorEquals(a, b) {\n    if (!arrayEqual(a.attachmentsState, b.attachmentsState, attachmentStateEquals))\n        return false;\n    if (a.blendConstant &&\n        b.blendConstant &&\n        !colorEqual(a.blendConstant, b.blendConstant))\n        return false;\n    if (a.stencilFront &&\n        b.stencilFront &&\n        !stencilFaceStateEquals(a.stencilFront, b.stencilFront))\n        return false;\n    if (a.stencilBack &&\n        b.stencilBack &&\n        !stencilFaceStateEquals(a.stencilBack, b.stencilBack))\n        return false;\n    return (a.depthCompare === b.depthCompare &&\n        a.depthWrite === b.depthWrite &&\n        a.stencilWrite === b.stencilWrite &&\n        a.cullMode === b.cullMode &&\n        a.frontFace === b.frontFace &&\n        a.polygonOffset === b.polygonOffset);\n}\nfunction programEquals(a, b) {\n    return a.id === b.id;\n}\nfunction formatEquals(a, b) {\n    return a === b;\n}\nfunction renderPipelineDescriptorEquals(a, b) {\n    if (a.topology !== b.topology)\n        return false;\n    if (a.inputLayout !== b.inputLayout)\n        return false;\n    if (a.sampleCount !== b.sampleCount)\n        return false;\n    if (a.megaStateDescriptor &&\n        b.megaStateDescriptor &&\n        !megaStateDescriptorEquals(a.megaStateDescriptor, b.megaStateDescriptor))\n        return false;\n    if (!programEquals(a.program, b.program))\n        return false;\n    if (!arrayEqual(a.colorAttachmentFormats, b.colorAttachmentFormats, formatEquals))\n        return false;\n    if (a.depthStencilAttachmentFormat !== b.depthStencilAttachmentFormat)\n        return false;\n    return true;\n}\nfunction vertexAttributeDescriptorEquals(a, b) {\n    return (a.offset === b.offset &&\n        a.shaderLocation === b.shaderLocation &&\n        a.format === b.format &&\n        a.divisor === b.divisor);\n}\nfunction inputLayoutBufferDescriptorEquals(a, b) {\n    if (isNil(a))\n        return isNil(b);\n    if (isNil(b))\n        return false;\n    return (a.arrayStride === b.arrayStride &&\n        a.stepMode === b.stepMode &&\n        arrayEqual(a.attributes, b.attributes, vertexAttributeDescriptorEquals));\n}\nfunction inputLayoutDescriptorEquals(a, b) {\n    if (a.indexBufferFormat !== b.indexBufferFormat)\n        return false;\n    if (!arrayEqual(a.vertexBufferDescriptors, b.vertexBufferDescriptors, inputLayoutBufferDescriptorEquals))\n        return false;\n    if (!programEquals(a.program, b.program))\n        return false;\n    return true;\n}\nfunction samplerDescriptorEquals(a, b) {\n    return (a.addressModeU === b.addressModeU &&\n        a.addressModeV === b.addressModeV &&\n        a.minFilter === b.minFilter &&\n        a.magFilter === b.magFilter &&\n        a.mipmapFilter === b.mipmapFilter &&\n        a.lodMinClamp === b.lodMinClamp &&\n        a.lodMaxClamp === b.lodMaxClamp &&\n        a.maxAnisotropy === b.maxAnisotropy &&\n        a.compareFunction === b.compareFunction);\n}\nfunction samplerBindingCopy(a) {\n    var sampler = a.sampler;\n    var texture = a.texture;\n    var dimension = a.dimension;\n    var formatKind = a.formatKind;\n    var comparison = a.comparison;\n    return { sampler: sampler, texture: texture, dimension: dimension, formatKind: formatKind, comparison: comparison };\n}\nfunction bufferBindingCopy(a) {\n    var buffer = a.buffer;\n    var size = a.size;\n    var binding = a.binding;\n    var offset = a.offset;\n    return { binding: binding, buffer: buffer, offset: offset, size: size };\n}\nfunction textureBindingCopy(a) {\n    var binding = a.binding;\n    var texture = a.texture;\n    return { binding: binding, texture: texture };\n}\nfunction bindingsDescriptorCopy(a) {\n    var samplerBindings = a.samplerBindings && arrayCopy(a.samplerBindings, samplerBindingCopy);\n    var uniformBufferBindings = a.uniformBufferBindings &&\n        arrayCopy(a.uniformBufferBindings, bufferBindingCopy);\n    var storageBufferBindings = a.storageBufferBindings &&\n        arrayCopy(a.storageBufferBindings, bufferBindingCopy);\n    var storageTextureBindings = a.storageTextureBindings &&\n        arrayCopy(a.storageTextureBindings, textureBindingCopy);\n    return {\n        samplerBindings: samplerBindings,\n        uniformBufferBindings: uniformBufferBindings,\n        storageBufferBindings: storageBufferBindings,\n        storageTextureBindings: storageTextureBindings,\n        pipeline: a.pipeline,\n    };\n}\nfunction renderPipelineDescriptorCopy(a) {\n    var inputLayout = a.inputLayout;\n    var program = a.program;\n    var topology = a.topology;\n    var megaStateDescriptor = a.megaStateDescriptor && copyMegaState(a.megaStateDescriptor);\n    var colorAttachmentFormats = a.colorAttachmentFormats.slice();\n    var depthStencilAttachmentFormat = a.depthStencilAttachmentFormat;\n    var sampleCount = a.sampleCount;\n    return {\n        inputLayout: inputLayout,\n        megaStateDescriptor: megaStateDescriptor,\n        program: program,\n        topology: topology,\n        colorAttachmentFormats: colorAttachmentFormats,\n        depthStencilAttachmentFormat: depthStencilAttachmentFormat,\n        sampleCount: sampleCount,\n    };\n}\nfunction vertexAttributeDescriptorCopy(a) {\n    var shaderLocation = a.shaderLocation;\n    var format = a.format;\n    var offset = a.offset;\n    var divisor = a.divisor;\n    return {\n        shaderLocation: shaderLocation,\n        format: format,\n        offset: offset,\n        divisor: divisor,\n    };\n}\nfunction inputLayoutBufferDescriptorCopy(a) {\n    if (!isNil(a)) {\n        var arrayStride = a.arrayStride;\n        var stepMode = a.stepMode;\n        var attributes = arrayCopy(a.attributes, vertexAttributeDescriptorCopy);\n        return { arrayStride: arrayStride, stepMode: stepMode, attributes: attributes };\n    }\n    else {\n        return a;\n    }\n}\nfunction inputLayoutDescriptorCopy(a) {\n    var vertexBufferDescriptors = arrayCopy(a.vertexBufferDescriptors, inputLayoutBufferDescriptorCopy);\n    var indexBufferFormat = a.indexBufferFormat;\n    var program = a.program;\n    return {\n        vertexBufferDescriptors: vertexBufferDescriptors,\n        indexBufferFormat: indexBufferFormat,\n        program: program,\n    };\n}\n\nvar _a;\n// if array name then clean the array brackets\nvar UNIFORM_NAME_REGEXP = /([^[]*)(\\[[0-9]+\\])?/;\nfunction parseUniformName(name) {\n    // Shortcut to avoid redundant or bad matches\n    if (name[name.length - 1] !== ']') {\n        return {\n            name: name,\n            length: 1,\n            isArray: false,\n        };\n    }\n    var matches = name.match(UNIFORM_NAME_REGEXP);\n    if (!matches || matches.length < 2) {\n        throw new Error(\"Failed to parse GLSL uniform name \".concat(name));\n    }\n    return {\n        name: matches[1],\n        length: Number(matches[2]) || 1,\n        isArray: Boolean(matches[2]),\n    };\n}\nfunction getSamplerSetter() {\n    var cache = null;\n    return function (gl, location, \n    // eslint-disable-next-line\n    value) {\n        var update = cache !== value;\n        if (update) {\n            gl.uniform1i(location, value);\n            cache = value;\n        }\n        return update;\n    };\n}\nfunction getArraySetter(functionName, toArray, size, uniformSetter) {\n    var cache = null;\n    var cacheLength = null;\n    // eslint-disable-next-line\n    return function (gl, location, value) {\n        var arrayValue = toArray(value, size);\n        var length = arrayValue.length;\n        var update = false;\n        if (cache === null) {\n            cache = new Float32Array(length);\n            cacheLength = length;\n            update = true;\n        }\n        else {\n            assert(cacheLength === length, 'Uniform length cannot change.');\n            for (var i = 0; i < length; ++i) {\n                if (arrayValue[i] !== cache[i]) {\n                    update = true;\n                    break;\n                }\n            }\n        }\n        if (update) {\n            uniformSetter(gl, functionName, location, arrayValue);\n            cache.set(arrayValue);\n        }\n        return update;\n    };\n}\nfunction setVectorUniform(gl, functionName, location, \n// eslint-disable-next-line\nvalue) {\n    gl[functionName](location, value);\n}\nfunction setMatrixUniform(gl, functionName, location, \n// eslint-disable-next-line\nvalue) {\n    gl[functionName](location, false, value);\n}\nvar FLOAT_ARRAY = {};\nvar INT_ARRAY = {};\nvar UINT_ARRAY = {};\nvar array1 = [0];\nfunction toTypedArray(value, uniformLength, Type, \n// eslint-disable-next-line\ncache) {\n    // convert boolean uniforms to Number\n    if (uniformLength === 1 && typeof value === 'boolean') {\n        value = value ? 1 : 0;\n    }\n    if (Number.isFinite(value)) {\n        array1[0] = value;\n        value = array1;\n    }\n    var length = value.length;\n    if (value instanceof Type) {\n        return value;\n    }\n    var result = cache[length];\n    if (!result) {\n        result = new Type(length);\n        cache[length] = result;\n    }\n    for (var i = 0; i < length; i++) {\n        result[i] = value[i];\n    }\n    return result;\n}\nfunction toFloatArray(value, uniformLength) {\n    return toTypedArray(value, uniformLength, Float32Array, FLOAT_ARRAY);\n}\nfunction toIntArray(value, uniformLength) {\n    return toTypedArray(value, uniformLength, Int32Array, INT_ARRAY);\n}\nfunction toUIntArray(value, uniformLength) {\n    return toTypedArray(value, uniformLength, Uint32Array, UINT_ARRAY);\n}\nvar UNIFORM_SETTERS = (_a = {},\n    // WEBGL1\n    _a[GL.FLOAT] = getArraySetter.bind(null, 'uniform1fv', toFloatArray, 1, setVectorUniform),\n    _a[GL.FLOAT_VEC2] = getArraySetter.bind(null, 'uniform2fv', toFloatArray, 2, setVectorUniform),\n    _a[GL.FLOAT_VEC3] = getArraySetter.bind(null, 'uniform3fv', toFloatArray, 3, setVectorUniform),\n    _a[GL.FLOAT_VEC4] = getArraySetter.bind(null, 'uniform4fv', toFloatArray, 4, setVectorUniform),\n    _a[GL.INT] = getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform),\n    _a[GL.INT_VEC2] = getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform),\n    _a[GL.INT_VEC3] = getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform),\n    _a[GL.INT_VEC4] = getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform),\n    _a[GL.BOOL] = getArraySetter.bind(null, 'uniform1iv', toIntArray, 1, setVectorUniform),\n    _a[GL.BOOL_VEC2] = getArraySetter.bind(null, 'uniform2iv', toIntArray, 2, setVectorUniform),\n    _a[GL.BOOL_VEC3] = getArraySetter.bind(null, 'uniform3iv', toIntArray, 3, setVectorUniform),\n    _a[GL.BOOL_VEC4] = getArraySetter.bind(null, 'uniform4iv', toIntArray, 4, setVectorUniform),\n    // uniformMatrix(false): don't transpose the matrix\n    _a[GL.FLOAT_MAT2] = getArraySetter.bind(null, 'uniformMatrix2fv', toFloatArray, 4, setMatrixUniform),\n    _a[GL.FLOAT_MAT3] = getArraySetter.bind(null, 'uniformMatrix3fv', toFloatArray, 9, setMatrixUniform),\n    _a[GL.FLOAT_MAT4] = getArraySetter.bind(null, 'uniformMatrix4fv', toFloatArray, 16, setMatrixUniform),\n    // WEBGL2 - unsigned integers, irregular matrices, additional texture samplers\n    _a[GL.UNSIGNED_INT] = getArraySetter.bind(null, 'uniform1uiv', toUIntArray, 1, setVectorUniform),\n    _a[GL.UNSIGNED_INT_VEC2] = getArraySetter.bind(null, 'uniform2uiv', toUIntArray, 2, setVectorUniform),\n    _a[GL.UNSIGNED_INT_VEC3] = getArraySetter.bind(null, 'uniform3uiv', toUIntArray, 3, setVectorUniform),\n    _a[GL.UNSIGNED_INT_VEC4] = getArraySetter.bind(null, 'uniform4uiv', toUIntArray, 4, setVectorUniform),\n    // uniformMatrix(false): don't transpose the matrix\n    _a[GL.FLOAT_MAT2x3] = getArraySetter.bind(null, 'uniformMatrix2x3fv', toFloatArray, 6, setMatrixUniform),\n    _a[GL.FLOAT_MAT2x4] = getArraySetter.bind(null, 'uniformMatrix2x4fv', toFloatArray, 8, setMatrixUniform),\n    _a[GL.FLOAT_MAT3x2] = getArraySetter.bind(null, 'uniformMatrix3x2fv', toFloatArray, 6, setMatrixUniform),\n    _a[GL.FLOAT_MAT3x4] = getArraySetter.bind(null, 'uniformMatrix3x4fv', toFloatArray, 12, setMatrixUniform),\n    _a[GL.FLOAT_MAT4x2] = getArraySetter.bind(null, 'uniformMatrix4x2fv', toFloatArray, 8, setMatrixUniform),\n    _a[GL.FLOAT_MAT4x3] = getArraySetter.bind(null, 'uniformMatrix4x3fv', toFloatArray, 12, setMatrixUniform),\n    _a[GL.SAMPLER_2D] = getSamplerSetter,\n    _a[GL.SAMPLER_CUBE] = getSamplerSetter,\n    _a[GL.SAMPLER_3D] = getSamplerSetter,\n    _a[GL.SAMPLER_2D_SHADOW] = getSamplerSetter,\n    _a[GL.SAMPLER_2D_ARRAY] = getSamplerSetter,\n    _a[GL.SAMPLER_2D_ARRAY_SHADOW] = getSamplerSetter,\n    _a[GL.SAMPLER_CUBE_SHADOW] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_2D] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_3D] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_CUBE] = getSamplerSetter,\n    _a[GL.INT_SAMPLER_2D_ARRAY] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_2D] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_3D] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_CUBE] = getSamplerSetter,\n    _a[GL.UNSIGNED_INT_SAMPLER_2D_ARRAY] = getSamplerSetter,\n    _a);\nfunction getUniformSetter(gl, location, info) {\n    var setter = UNIFORM_SETTERS[info.type];\n    if (!setter) {\n        throw new Error(\"Unknown GLSL uniform type \".concat(info.type));\n    }\n    return setter().bind(null, gl, location);\n}\n\nvar dtypes = {\n    '[object Int8Array]': 5120,\n    '[object Int16Array]': 5122,\n    '[object Int32Array]': 5124,\n    '[object Uint8Array]': 5121,\n    '[object Uint8ClampedArray]': 5121,\n    '[object Uint16Array]': 5123,\n    '[object Uint32Array]': 5125,\n    '[object Float32Array]': 5126,\n    '[object Float64Array]': 5121,\n    '[object ArrayBuffer]': 5121,\n};\n// eslint-disable-next-line\nfunction isTypedArray(x) {\n    return Object.prototype.toString.call(x) in dtypes;\n}\n\n// const ES100_REPLACEMENTS: [RegExp, string][] = [\n//   // In GLSL 1.00 ES these functions are provided by an extension\n//   [/\\btexture(2D|2DProj|Cube)Lod\\(/g, 'texture$1LodEXT('],\n//   // Overloads in GLSL 3.00 map to individual functions. Note that we cannot\n//   // differentiate 2D,2DProj,Cube without type analysis so we choose the most common variant.\n//   [/\\btexture\\(/g, 'texture2D('],\n//   [/\\btextureLod\\(/g, 'texture2DLodEXT('],\n// ];\nfunction defineStr(k, v) {\n    return \"#define \".concat(k, \" \").concat(v);\n}\nfunction getDefines(shader) {\n    var defines = {};\n    shader.replace(/^\\s*#define\\s*(\\S*)\\s*(\\S*)\\s*$/gm, function (_, name, value) {\n        var v = Number(value);\n        defines[name] = isNaN(v) ? value : v;\n        return '';\n    });\n    return defines;\n}\nfunction getAttributeLocations(vert, defines) {\n    var locations = [];\n    vert.replace(/^\\s*layout\\(location\\s*=\\s*(\\S*)\\)\\s*in\\s+\\S+\\s*(.*);$/gm, function (_, location, name) {\n        var l = Number(location);\n        locations.push({ location: isNaN(l) ? defines[location] : l, name: name });\n        return '';\n    });\n    return locations;\n}\nfunction getUniforms(vert) {\n    var uniformNames = [];\n    var structs = [];\n    vert.replace(/\\s*struct\\s*(.*)\\s*{((?:\\s*.*\\s*)*?)};/g, function (_, type, uniformStr) {\n        var uniforms = [];\n        uniformStr\n            .trim()\n            .replace('\\r\\n', '\\n')\n            .split('\\n')\n            .forEach(function (line) {\n            var _a = __read(line.trim().split(/\\s+/), 2), type = _a[0], name = _a[1];\n            uniforms.push({\n                type: type.trim(),\n                name: name.replace(';', '').trim(),\n            });\n        });\n        structs.push({\n            type: type.trim(),\n            uniforms: uniforms,\n        });\n        return '';\n    });\n    vert.replace(/\\s*uniform(?:\\s+)(?:\\w+)(?:\\s?){([^]*?)};?/g, function (_, uniforms) {\n        uniforms\n            .trim()\n            .replace('\\r\\n', '\\n')\n            .split('\\n')\n            .forEach(function (line) {\n            var result = line.trim().split(' ');\n            var type = result[0] || '';\n            var name = result[1] || '';\n            // DirectionalLight directionalLights[  NUM_DIR_LIGHTS ];\n            var isArray = name.indexOf('[') > -1;\n            name = name.replace(';', '').replace('[', '').trim();\n            // ignore conditional comments\n            if (type.startsWith('#')) {\n                return;\n            }\n            // account for structs\n            if (type) {\n                var struct = structs.find(function (struct) { return type === struct.type; });\n                if (struct) {\n                    if (isArray) {\n                        var _loop_1 = function (i) {\n                            struct.uniforms.forEach(function (uniform) {\n                                uniformNames.push(\"\".concat(name, \"[\").concat(i, \"].\").concat(uniform.name));\n                            });\n                        };\n                        for (var i = 0; i < 5; i++) {\n                            _loop_1(i);\n                        }\n                    }\n                    else {\n                        struct.uniforms.forEach(function (uniform) {\n                            uniformNames.push(\"\".concat(name, \".\").concat(uniform.name));\n                        });\n                    }\n                }\n            }\n            if (name) {\n                uniformNames.push(name);\n            }\n        });\n        return '';\n    });\n    return uniformNames;\n}\nfunction parseBinding(layout) {\n    if (layout === undefined)\n        return null;\n    var g = /binding\\s*=\\s*(\\d+)/.exec(layout);\n    if (g !== null) {\n        var bindingNum = parseInt(g[1], 10);\n        if (!Number.isNaN(bindingNum))\n            return bindingNum;\n    }\n    return null;\n}\nfunction getSeparateSamplerTypes(combinedSamplerType) {\n    var samplerType = '';\n    var textureType = combinedSamplerType;\n    // if (combinedSamplerType.endsWith(`Shadow`)) {\n    //   textureType = textureType.slice(0, -6);\n    //   samplerType = `Shadow`;\n    // }\n    return [textureType, samplerType];\n}\nfunction preprocessShader_GLSL(vendorInfo, type, source, defines, usePrecision) {\n    var _a;\n    if (defines === void 0) { defines = null; }\n    if (usePrecision === void 0) { usePrecision = true; }\n    var isGLSL100 = vendorInfo.glslVersion === '#version 100';\n    var useMRT = type === 'frag' &&\n        ((_a = source.match(/^\\s*layout\\(location\\s*=\\s*\\d*\\)\\s*out\\s+vec4\\s*(.*);$/gm)) === null || _a === void 0 ? void 0 : _a.length) > 1;\n    var lines = source\n        .replace('\\r\\n', '\\n')\n        .split('\\n')\n        .map(function (n) {\n        // Remove comments.\n        return n.replace(/[/][/].*$/, '');\n    })\n        .filter(function (n) {\n        // Filter whitespace.\n        var isEmpty = !n || /^\\s+$/.test(n);\n        return !isEmpty;\n    });\n    // #define KEY VAR\n    var definesString = '';\n    if (defines !== null)\n        definesString = Object.keys(defines)\n            .map(function (key) { return defineStr(key, defines[key]); })\n            .join('\\n');\n    var precision = lines.find(function (line) { return line.startsWith('precision'); }) ||\n        'precision mediump float;';\n    var rest = usePrecision\n        ? lines.filter(function (line) { return !line.startsWith('precision'); }).join('\\n')\n        : lines.join('\\n');\n    var extraDefines = '';\n    if (vendorInfo.viewportOrigin === ViewportOrigin.UPPER_LEFT) {\n        extraDefines += \"\".concat(defineStr(\"VIEWPORT_ORIGIN_TL\", \"1\"), \"\\n\");\n    }\n    if (vendorInfo.clipSpaceNearZ === ClipSpaceNearZ.ZERO) {\n        extraDefines += \"\".concat(defineStr(\"CLIPSPACE_NEAR_ZERO\", \"1\"), \"\\n\");\n    }\n    if (vendorInfo.explicitBindingLocations) {\n        var set_1 = 0, implicitBinding_1 = 0, location_1 = 0;\n        rest = rest.replace(/^\\s*(layout\\((.*)\\))?\\s*uniform(.+{)$/gm, function (substr, cap, layout, rest) {\n            var layout2 = layout ? \"\".concat(layout, \", \") : \"\";\n            return \"layout(\".concat(layout2, \"set = \").concat(set_1, \", binding = \").concat(implicitBinding_1++, \") uniform \").concat(rest);\n        });\n        // XXX(jstpierre): WebGPU now binds UBOs and textures in different sets as a porting hack, hrm...\n        set_1++;\n        implicitBinding_1 = 0;\n        assert(vendorInfo.separateSamplerTextures);\n        rest = rest.replace(/^\\s*(layout\\((.*)\\))?\\s*uniform sampler(\\w+) (.*);/gm, function (substr, cap, layout, combinedSamplerType, samplerName) {\n            var binding = parseBinding(layout);\n            if (binding === null)\n                binding = implicitBinding_1++;\n            var _a = __read(getSeparateSamplerTypes(combinedSamplerType), 2), textureType = _a[0], samplerType = _a[1];\n            return type === 'frag'\n                ? \"\\nlayout(set = \".concat(set_1, \", binding = \").concat(binding * 2 + 0, \") uniform texture\").concat(textureType, \" T_\").concat(samplerName, \";\\nlayout(set = \").concat(set_1, \", binding = \").concat(binding * 2 + 1, \") uniform sampler\").concat(samplerType, \" S_\").concat(samplerName, \";\").trim()\n                : '';\n        });\n        rest = rest.replace(type === 'frag' ? /^\\s*\\b(varying|in)\\b/gm : /^\\s*\\b(varying|out)\\b/gm, function (substr, tok) {\n            return \"layout(location = \".concat(location_1++, \") \").concat(tok);\n        });\n        /**\n         * @see https://github.com/gfx-rs/naga/issues/1994\n         */\n        extraDefines += \"\".concat(defineStr(\"gl_VertexID\", \"gl_VertexIndex\"), \"\\n\");\n        extraDefines += \"\".concat(defineStr(\"gl_InstanceID\", \"gl_InstanceIndex\"), \"\\n\");\n        // Workaround for Naga\n        // https://github.com/gfx-rs/naga/issues/1353\n        precision = precision.replace(/^precision (.*) sampler(.*);$/gm, '');\n    }\n    else {\n        var implicitBinding_2 = 0;\n        rest = rest.replace(/^\\s*(layout\\((.*)\\))?\\s*uniform sampler(\\w+) (.*);/gm, function (substr, cap, layout, combinedSamplerType, samplerName) {\n            var binding = parseBinding(layout);\n            if (binding === null)\n                binding = implicitBinding_2++;\n            return \"uniform sampler\".concat(combinedSamplerType, \" \").concat(samplerName, \"; // BINDING=\").concat(binding);\n        });\n    }\n    rest = rest.replace(/\\bPU_SAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n        return \"SAMPLER_\".concat(combinedSamplerType, \"(P_\").concat(samplerName, \")\");\n    });\n    rest = rest.replace(/\\bPF_SAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n        return \"PP_SAMPLER_\".concat(combinedSamplerType, \"(P_\").concat(samplerName, \")\");\n    });\n    rest = rest.replace(/\\bPU_TEXTURE\\((.*?)\\)/g, function (substr, samplerName) {\n        return \"TEXTURE(P_\".concat(samplerName, \")\");\n    });\n    if (vendorInfo.separateSamplerTextures) {\n        rest = rest.replace(/\\bPD_SAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            var _a = __read(getSeparateSamplerTypes(combinedSamplerType), 2), textureType = _a[0], samplerType = _a[1];\n            return \"texture\".concat(textureType, \" T_P_\").concat(samplerName, \", sampler\").concat(samplerType, \" S_P_\").concat(samplerName);\n        });\n        rest = rest.replace(/\\bPP_SAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            return \"T_\".concat(samplerName, \", S_\").concat(samplerName);\n        });\n        rest = rest.replace(/\\bSAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            return \"sampler\".concat(combinedSamplerType, \"(T_\").concat(samplerName, \", S_\").concat(samplerName, \")\");\n        });\n        rest = rest.replace(/\\bTEXTURE\\((.*?)\\)/g, function (substr, samplerName) {\n            return \"T_\".concat(samplerName);\n        });\n    }\n    else {\n        var samplerNames_1 = [];\n        rest = rest.replace(/\\bPD_SAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            return \"sampler\".concat(combinedSamplerType, \" P_\").concat(samplerName);\n        });\n        rest = rest.replace(/\\bPP_SAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            return samplerName;\n        });\n        rest = rest.replace(/\\bSAMPLER_(\\w+)\\((.*?)\\)/g, function (substr, combinedSamplerType, samplerName) {\n            samplerNames_1.push([samplerName, combinedSamplerType]);\n            return samplerName;\n        });\n        if (isGLSL100) {\n            samplerNames_1.forEach(function (_a) {\n                var _b = __read(_a, 2), samplerName = _b[0], combinedSamplerType = _b[1];\n                // texture(u_T) -> texture2D(u_T) or textureCube(u_T)\n                rest = rest.replace(new RegExp(\"texture\\\\(\".concat(samplerName), 'g'), function () {\n                    return \"texture\".concat(combinedSamplerType, \"(\").concat(samplerName);\n                });\n            });\n        }\n        rest = rest.replace(/\\bTEXTURE\\((.*?)\\)/g, function (substr, samplerName) {\n            return samplerName;\n        });\n    }\n    // using #define means we can't use `const in/out` in params\n    //   ${isGLSL100 && type === 'vert' ? '#define in attribute\\n#define out varying' : ''}\n    // ${isGLSL100 && type === 'frag' ? '#define in varying' : ''}\n    // headless-gl will throw the following error if we prepend `#version 100`:\n    // #version directive must occur before anything else, except for comments and white space\n    var concat = \"\".concat(isGLSL100 ? '' : vendorInfo.glslVersion, \"\\n\").concat(isGLSL100 && useMRT ? '#extension GL_EXT_draw_buffers : require\\n' : '', \"\\n\").concat(isGLSL100 && type === 'frag'\n        ? '#extension GL_OES_standard_derivatives : enable\\n'\n        : '').concat(usePrecision ? precision : '', \"\\n\").concat(extraDefines ? extraDefines : '').concat(definesString ? definesString + '\\n' : '', \"\\n\").concat(rest, \"\\n\").trim();\n    // out vec4 outputColor; -> layout(location = 0) out vec4 outputColor;\n    if (vendorInfo.explicitBindingLocations && type === 'frag') {\n        concat = concat.replace(/^\\b(out)\\b/g, function (substr, tok) {\n            return \"layout(location = 0) \".concat(tok);\n        });\n    }\n    // GLSL 300 -> 100\n    // @see https://webgl2fundamentals.org/webgl/lessons/webgl1-to-webgl2.html\n    if (isGLSL100) {\n        // in -> varying\n        if (type === 'frag') {\n            concat = concat.replace(/^\\s*in\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                return \"varying \".concat(dataType, \" \").concat(name, \";\\n\");\n            });\n        }\n        if (type === 'vert') {\n            // out -> varying\n            concat = concat.replace(/^\\s*out\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                return \"varying \".concat(dataType, \" \").concat(name, \";\\n\");\n            });\n            // in -> attribute\n            concat = concat.replace(\n            // /^\\s*layout\\(location\\s*=\\s*\\d*\\)\\s*in\\s*(.*)\\s*(.*);$/gm,\n            /^\\s*layout\\(location\\s*=\\s*\\S*\\)\\s*in\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                return \"attribute \".concat(dataType, \" \").concat(name, \";\\n\");\n            });\n        }\n        // interface blocks supported in GLSL ES 3.00 and above only\n        concat = concat.replace(/\\s*uniform\\s*.*\\s*{((?:\\s*.*\\s*)*?)};/g, function (substr, uniforms) {\n            return uniforms.trim().replace(/^.*$/gm, function (uniform) {\n                // eg. #ifdef\n                var trimmed = uniform.trim();\n                if (trimmed.startsWith('#')) {\n                    return trimmed;\n                }\n                return uniform ? \"uniform \".concat(trimmed) : '';\n            });\n        });\n        if (type === 'frag') {\n            if (useMRT) {\n                var gBuffers_1 = [];\n                concat = concat.replace(/^\\s*layout\\(location\\s*=\\s*\\d*\\)\\s*out\\s+vec4\\s*(.*);$/gm, function (_, buffer) {\n                    gBuffers_1.push(buffer);\n                    return \"vec4 \".concat(buffer, \";\\n\");\n                });\n                var lastIndexOfMain = concat.lastIndexOf('}');\n                concat =\n                    concat.substring(0, lastIndexOfMain) +\n                        \"\\n    \".concat(gBuffers_1\n                            .map(function (gBuffer, i) { return \"gl_FragData[\".concat(i, \"] = \").concat(gBuffer, \";\\n    \"); })\n                            .join('\\n')) +\n                        concat.substring(lastIndexOfMain);\n            }\n            else {\n                var glFragColor_1;\n                concat = concat.replace(/^\\s*out\\s+(\\S+)\\s*(.*);$/gm, function (_, dataType, name) {\n                    glFragColor_1 = name;\n                    return \"\".concat(dataType, \" \").concat(name, \";\\n\");\n                });\n                if (glFragColor_1) {\n                    var lastIndexOfMain = concat.lastIndexOf('}');\n                    concat =\n                        concat.substring(0, lastIndexOfMain) +\n                            \"\\n  gl_FragColor = vec4(\".concat(glFragColor_1, \");\\n\") +\n                            concat.substring(lastIndexOfMain);\n                }\n            }\n        }\n        // remove layout(location = 0)\n        concat = concat.replace(/^\\s*layout\\((.*)\\)/gm, '');\n        // replace texture with texture2D\n        // for (const [pattern, replacement] of ES100_REPLACEMENTS) {\n        //   concat = concat.replace(pattern, replacement);\n        // }\n    }\n    return concat;\n}\nfunction preprocessProgram_GLSL(vendorInfo, vert, frag, defines) {\n    if (defines === void 0) { defines = null; }\n    var preprocessedVert = preprocessShader_GLSL(vendorInfo, 'vert', vert, defines);\n    var preprocessedFrag = preprocessShader_GLSL(vendorInfo, 'frag', frag, defines);\n    return { vert: vert, frag: frag, preprocessedVert: preprocessedVert, preprocessedFrag: preprocessedFrag };\n}\n\nvar ResourceBase_GL = /** @class */ (function (_super) {\n    __extends(ResourceBase_GL, _super);\n    function ResourceBase_GL(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.device = device;\n        if (_this.device['resourceCreationTracker'] !== null) {\n            _this.device['resourceCreationTracker'].trackResourceCreated(_this);\n        }\n        return _this;\n    }\n    ResourceBase_GL.prototype.destroy = function () {\n        if (this.device['resourceCreationTracker'] !== null) {\n            this.device['resourceCreationTracker'].trackResourceDestroyed(this);\n        }\n    };\n    return ResourceBase_GL;\n}(EventEmitter));\n\nvar Bindings_GL = /** @class */ (function (_super) {\n    __extends(Bindings_GL, _super);\n    function Bindings_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Bindings;\n        var uniformBufferBindings = descriptor.uniformBufferBindings, samplerBindings = descriptor.samplerBindings;\n        _this.uniformBufferBindings = uniformBufferBindings || [];\n        _this.samplerBindings = samplerBindings || [];\n        _this.bindingLayouts = _this.createBindingLayouts();\n        return _this;\n    }\n    Bindings_GL.prototype.createBindingLayouts = function () {\n        var firstUniformBuffer = 0;\n        var firstSampler = 0;\n        var bindingLayoutTables = [];\n        // Support only 1 bindGroup for now.\n        var numUniformBuffers = this.uniformBufferBindings.length;\n        var numSamplers = this.samplerBindings.length;\n        bindingLayoutTables.push({\n            firstUniformBuffer: firstUniformBuffer,\n            numUniformBuffers: numUniformBuffers,\n            firstSampler: firstSampler,\n            numSamplers: numSamplers,\n        });\n        firstUniformBuffer += numUniformBuffers;\n        firstSampler += numSamplers;\n        return {\n            numUniformBuffers: firstUniformBuffer,\n            numSamplers: firstSampler,\n            bindingLayoutTables: bindingLayoutTables,\n        };\n    };\n    return Bindings_GL;\n}(ResourceBase_GL));\n\n// @see https://github.com/visgl/luma.gl/blob/30a1039573576d73641de7c1ba222e8992eb526e/modules/gltools/src/utils/webgl-checks.ts#L22\nfunction isWebGL2(gl) {\n    if (typeof WebGL2RenderingContext !== 'undefined' &&\n        gl instanceof WebGL2RenderingContext) {\n        return true;\n    }\n    // Look for debug contexts, headless gl etc\n    // @ts-ignore\n    return Boolean(gl && gl._version === 2);\n}\nfunction isTextureFormatCompressed(fmt) {\n    var typeFlags = getFormatTypeFlags(fmt);\n    switch (typeFlags) {\n        case FormatTypeFlags.BC1:\n        case FormatTypeFlags.BC2:\n        case FormatTypeFlags.BC3:\n        case FormatTypeFlags.BC4_UNORM:\n        case FormatTypeFlags.BC4_SNORM:\n        case FormatTypeFlags.BC5_UNORM:\n        case FormatTypeFlags.BC5_SNORM:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction isFormatSizedInteger(fmt) {\n    var flags = getFormatFlags(fmt);\n    if (flags & FormatFlags.Normalized)\n        return false;\n    var typeFlags = getFormatTypeFlags(fmt);\n    // Check for integer types.\n    if (typeFlags === FormatTypeFlags.S8 ||\n        typeFlags === FormatTypeFlags.S16 ||\n        typeFlags === FormatTypeFlags.S32)\n        return true;\n    if (typeFlags === FormatTypeFlags.U8 ||\n        typeFlags === FormatTypeFlags.U16 ||\n        typeFlags === FormatTypeFlags.U32)\n        return true;\n    return false;\n}\nfunction translateBufferHint(hint) {\n    switch (hint) {\n        case BufferFrequencyHint.STATIC:\n            return GL.STATIC_DRAW;\n        case BufferFrequencyHint.DYNAMIC:\n            return GL.DYNAMIC_DRAW;\n    }\n}\nfunction translateBufferUsageToTarget(usage) {\n    if (usage & BufferUsage.INDEX) {\n        return GL.ELEMENT_ARRAY_BUFFER;\n    }\n    else if (usage & BufferUsage.VERTEX) {\n        return GL.ARRAY_BUFFER;\n    }\n    else if (usage & BufferUsage.UNIFORM) {\n        return GL.UNIFORM_BUFFER;\n    }\n}\nfunction translatePrimitiveTopology(topology) {\n    switch (topology) {\n        case PrimitiveTopology.TRIANGLES:\n            return GL.TRIANGLES;\n        case PrimitiveTopology.POINTS:\n            return GL.POINTS;\n        case PrimitiveTopology.TRIANGLE_STRIP:\n            return GL.TRIANGLE_STRIP;\n        case PrimitiveTopology.LINES:\n            return GL.LINES;\n        case PrimitiveTopology.LINE_STRIP:\n            return GL.LINE_STRIP;\n        default:\n            throw new Error('Unknown primitive topology mode');\n    }\n}\nfunction translateType(flags) {\n    switch (flags) {\n        case FormatTypeFlags.U8:\n            return GL.UNSIGNED_BYTE;\n        case FormatTypeFlags.U16:\n            return GL.UNSIGNED_SHORT;\n        case FormatTypeFlags.U32:\n            return GL.UNSIGNED_INT;\n        case FormatTypeFlags.S8:\n            return GL.BYTE;\n        case FormatTypeFlags.S16:\n            return GL.SHORT;\n        case FormatTypeFlags.S32:\n            return GL.INT;\n        case FormatTypeFlags.F16:\n            return GL.HALF_FLOAT;\n        case FormatTypeFlags.F32:\n            return GL.FLOAT;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateSize(flags) {\n    switch (flags) {\n        case FormatCompFlags.R:\n            return 1;\n        case FormatCompFlags.RG:\n            return 2;\n        case FormatCompFlags.RGB:\n            return 3;\n        case FormatCompFlags.RGBA:\n            return 4;\n        default:\n            return 1;\n    }\n}\nfunction translateVertexFormat$1(fmt) {\n    var typeFlags = getFormatTypeFlags(fmt);\n    var compFlags = getFormatCompFlags(fmt);\n    var flags = getFormatFlags(fmt);\n    var type = translateType(typeFlags);\n    var size = translateSize(compFlags);\n    var normalized = !!(flags & FormatFlags.Normalized);\n    return { size: size, type: type, normalized: normalized };\n}\nfunction translateIndexFormat$1(format) {\n    switch (format) {\n        case Format.U8_R:\n            return GL.UNSIGNED_BYTE;\n        case Format.U16_R:\n            return GL.UNSIGNED_SHORT;\n        case Format.U32_R:\n            return GL.UNSIGNED_INT;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateAddressMode$1(wrapMode) {\n    switch (wrapMode) {\n        case AddressMode.CLAMP_TO_EDGE:\n            return GL.CLAMP_TO_EDGE;\n        case AddressMode.REPEAT:\n            return GL.REPEAT;\n        case AddressMode.MIRRORED_REPEAT:\n            return GL.MIRRORED_REPEAT;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateFilterMode(filter, mipmapFilter) {\n    if (mipmapFilter === MipmapFilterMode.LINEAR &&\n        filter === FilterMode.BILINEAR) {\n        return GL.LINEAR_MIPMAP_LINEAR;\n    }\n    if (mipmapFilter === MipmapFilterMode.LINEAR && filter === FilterMode.POINT) {\n        return GL.NEAREST_MIPMAP_LINEAR;\n    }\n    if (mipmapFilter === MipmapFilterMode.NEAREST &&\n        filter === FilterMode.BILINEAR) {\n        return GL.LINEAR_MIPMAP_NEAREST;\n    }\n    if (mipmapFilter === MipmapFilterMode.NEAREST &&\n        filter === FilterMode.POINT) {\n        return GL.NEAREST_MIPMAP_NEAREST;\n    }\n    if (mipmapFilter === MipmapFilterMode.NO_MIP &&\n        filter === FilterMode.BILINEAR) {\n        return GL.LINEAR;\n    }\n    if (mipmapFilter === MipmapFilterMode.NO_MIP && filter === FilterMode.POINT) {\n        return GL.NEAREST;\n    }\n    throw new Error('Unknown texture filter mode');\n}\nfunction getPlatformBuffer$1(buffer_, byteOffset) {\n    if (byteOffset === void 0) { byteOffset = 0; }\n    var buffer = buffer_;\n    return buffer.gl_buffer_pages[(byteOffset / buffer.pageByteSize) | 0];\n}\nfunction getPlatformTexture(texture_) {\n    var texture = texture_;\n    return texture.gl_texture;\n}\nfunction getPlatformSampler$1(sampler_) {\n    var sampler = sampler_;\n    return sampler.gl_sampler;\n}\n// eslint-disable-next-line\nfunction assignPlatformName(o, name) {\n    o.name = name;\n    o.__SPECTOR_Metadata = { name: name };\n}\nfunction findall(haystack, needle) {\n    var results = [];\n    while (true) {\n        var result = needle.exec(haystack);\n        if (!result)\n            break;\n        results.push(result);\n    }\n    return results;\n}\nfunction isBlendStateNone(blendState) {\n    return (blendState.blendMode == BlendMode.ADD &&\n        blendState.blendSrcFactor == BlendFactor.ONE &&\n        blendState.blendDstFactor === BlendFactor.ZERO);\n}\nfunction translateQueryPoolType$1(type) {\n    switch (type) {\n        case QueryPoolType.OcclusionConservative:\n            return GL.ANY_SAMPLES_PASSED_CONSERVATIVE;\n        default:\n            throw new Error('whoops');\n    }\n}\nfunction translateTextureDimension$1(dimension) {\n    if (dimension === TextureDimension.TEXTURE_2D)\n        return GL.TEXTURE_2D;\n    else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n        return GL.TEXTURE_2D_ARRAY;\n    else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n        return GL.TEXTURE_CUBE_MAP;\n    else if (dimension === TextureDimension.TEXTURE_3D)\n        return GL.TEXTURE_3D;\n    else\n        throw new Error('whoops');\n}\nfunction isBlockCompressSized(w, h, bw, bh) {\n    if (w % bw !== 0)\n        return false;\n    if (h % bh !== 0)\n        return false;\n    return true;\n}\n\nvar Buffer_GL = /** @class */ (function (_super) {\n    __extends(Buffer_GL, _super);\n    function Buffer_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Buffer;\n        var viewOrSize = descriptor.viewOrSize, usage = descriptor.usage, _b = descriptor.hint, hint = _b === void 0 ? BufferFrequencyHint.STATIC : _b;\n        var uniformBufferMaxPageByteSize = device.uniformBufferMaxPageByteSize, gl = device.gl;\n        var isUBO = usage & BufferUsage.UNIFORM;\n        if (!isUBO) {\n            if (isWebGL2(gl)) {\n                // Temporarily unbind VAO when creating buffers to not stomp on the VAO configuration.\n                gl.bindVertexArray(null);\n            }\n            else {\n                device.OES_vertex_array_object.bindVertexArrayOES(null);\n            }\n        }\n        // const byteSize = isNumber(viewOrSize)\n        //   ? viewOrSize * 4\n        //   : viewOrSize.byteLength * 4;\n        var byteSize = isNumber(viewOrSize)\n            ? align(viewOrSize, 4)\n            : align(viewOrSize.byteLength, 4);\n        _this.gl_buffer_pages = [];\n        var pageByteSize;\n        if (isUBO) {\n            // assert(byteSize % uniformBufferMaxPageByteSize === 0);\n            var byteSizeLeft = byteSize;\n            while (byteSizeLeft > 0) {\n                _this.gl_buffer_pages.push(_this.createBufferPage(Math.min(byteSizeLeft, uniformBufferMaxPageByteSize), usage, hint));\n                byteSizeLeft -= uniformBufferMaxPageByteSize;\n            }\n            pageByteSize = uniformBufferMaxPageByteSize;\n            // TODO: uniform in WebGL1\n        }\n        else {\n            _this.gl_buffer_pages.push(_this.createBufferPage(byteSize, usage, hint));\n            pageByteSize = byteSize;\n        }\n        _this.pageByteSize = pageByteSize;\n        _this.byteSize = byteSize;\n        _this.usage = usage;\n        _this.gl_target = translateBufferUsageToTarget(usage);\n        // init data\n        if (!isNumber(viewOrSize)) {\n            _this.setSubData(0, new Uint8Array(viewOrSize.buffer));\n        }\n        if (!isUBO) {\n            if (isWebGL2(gl)) {\n                gl.bindVertexArray(_this.device['currentBoundVAO']);\n            }\n            else {\n                device.OES_vertex_array_object.bindVertexArrayOES(_this.device['currentBoundVAO']);\n            }\n        }\n        return _this;\n    }\n    Buffer_GL.prototype.setSubData = function (dstByteOffset, data, srcByteOffset, byteSize) {\n        if (srcByteOffset === void 0) { srcByteOffset = 0; }\n        if (byteSize === void 0) { byteSize = data.byteLength - srcByteOffset; }\n        var gl = this.device.gl;\n        var \n        // gl_target,\n        // byteSize: dstByteSize,\n        dstPageByteSize = this.pageByteSize;\n        // Account for setSubData being called with a dstByteOffset that is beyond the end of the buffer.\n        // if (isWebGL2(gl) && gl_target === gl.UNIFORM_BUFFER) {\n        //   // Manually check asserts for speed.\n        //   if (!(dstByteOffset % dstPageByteSize === 0))\n        //     throw new Error(\n        //       `Assert fail: (dstByteOffset [${dstByteOffset}] % dstPageByteSize [${dstPageByteSize}]) === 0`,\n        //     );\n        //   if (!(byteSize % dstPageByteSize === 0))\n        //     throw new Error(\n        //       `Assert fail: (byteSize [${byteSize}] % dstPageByteSize [${dstPageByteSize}]) === 0`,\n        //     );\n        // }\n        // if (!(dstByteOffset + byteSize <= dstByteSize)) {\n        //   throw new Error(\n        //     `Assert fail: (dstByteOffset [${dstByteOffset}] + byteSize [${byteSize}]) <= dstByteSize [${dstByteSize}], gl_target ${gl_target}`,\n        //   );\n        //   // exceed, need to recreate\n        // }\n        var virtBufferByteOffsetEnd = dstByteOffset + byteSize;\n        var virtBufferByteOffset = dstByteOffset;\n        var physBufferByteOffset = dstByteOffset % dstPageByteSize;\n        while (virtBufferByteOffset < virtBufferByteOffsetEnd) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bindBuffer#parameters\n            var target = isWebGL2(gl) ? gl.COPY_WRITE_BUFFER : this.gl_target;\n            var buffer = getPlatformBuffer$1(this, virtBufferByteOffset);\n            // @ts-ignore\n            if (buffer.ubo) {\n                return;\n            }\n            gl.bindBuffer(target, buffer);\n            // only WebGL2 support srcOffset & length\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferSubData\n            if (isWebGL2(gl)) {\n                gl.bufferSubData(target, physBufferByteOffset, data, srcByteOffset, Math.min(virtBufferByteOffsetEnd - virtBufferByteOffset, dstPageByteSize));\n            }\n            else {\n                gl.bufferSubData(target, physBufferByteOffset, data);\n            }\n            virtBufferByteOffset += dstPageByteSize;\n            physBufferByteOffset = 0;\n            srcByteOffset += dstPageByteSize;\n            this.device['debugGroupStatisticsBufferUpload']();\n        }\n    };\n    Buffer_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        for (var i = 0; i < this.gl_buffer_pages.length; i++) {\n            // no ubo in WebGL1\n            // @ts-ignore\n            if (!this.gl_buffer_pages[i].ubo) {\n                this.device.gl.deleteBuffer(this.gl_buffer_pages[i]);\n            }\n        }\n        this.gl_buffer_pages = [];\n    };\n    Buffer_GL.prototype.createBufferPage = function (byteSize, usage, hint) {\n        var gl = this.device.gl;\n        var isUBO = usage & BufferUsage.UNIFORM;\n        if (!isWebGL2(gl) && isUBO) {\n            return {\n                ubo: true,\n            };\n        }\n        else {\n            var gl_buffer = this.device.ensureResourceExists(gl.createBuffer());\n            var gl_target = translateBufferUsageToTarget(usage);\n            var gl_hint = translateBufferHint(hint);\n            gl.bindBuffer(gl_target, gl_buffer);\n            gl.bufferData(gl_target, byteSize, gl_hint);\n            return gl_buffer;\n        }\n    };\n    return Buffer_GL;\n}(ResourceBase_GL));\n\nvar InputLayout_GL = /** @class */ (function (_super) {\n    __extends(InputLayout_GL, _super);\n    function InputLayout_GL(_a) {\n        var e_1, _b, e_2, _c;\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _d;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.InputLayout;\n        var vertexBufferDescriptors = descriptor.vertexBufferDescriptors, indexBufferFormat = descriptor.indexBufferFormat, program = descriptor.program;\n        assert(indexBufferFormat === Format.U16_R ||\n            indexBufferFormat === Format.U32_R ||\n            indexBufferFormat === null);\n        var indexBufferType = indexBufferFormat !== null\n            ? translateIndexFormat$1(indexBufferFormat)\n            : null;\n        var indexBufferCompByteSize = indexBufferFormat !== null\n            ? getFormatCompByteSize(indexBufferFormat)\n            : null;\n        var gl = _this.device.gl;\n        var vao = _this.device.ensureResourceExists(isWebGL2(gl)\n            ? gl.createVertexArray()\n            : device.OES_vertex_array_object.createVertexArrayOES());\n        if (isWebGL2(gl)) {\n            gl.bindVertexArray(vao);\n        }\n        else {\n            device.OES_vertex_array_object.bindVertexArrayOES(vao);\n        }\n        gl.bindBuffer(gl.ARRAY_BUFFER, getPlatformBuffer$1(_this.device['fallbackVertexBuffer']));\n        try {\n            // const vertexBufferFormats = [];\n            for (var _e = __values(descriptor.vertexBufferDescriptors), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var vertexBufferDescriptor = _f.value;\n                var stepMode = vertexBufferDescriptor.stepMode, attributes = vertexBufferDescriptor.attributes;\n                try {\n                    for (var attributes_1 = (e_2 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                        var attribute = attributes_1_1.value;\n                        var shaderLocation = attribute.shaderLocation, format = attribute.format, _g = attribute.divisor, divisor = _g === void 0 ? 1 : _g;\n                        // find location by name in WebGL1\n                        var location_1 = isWebGL2(gl)\n                            ? shaderLocation\n                            : (_d = program.attributes[shaderLocation]) === null || _d === void 0 ? void 0 : _d.location;\n                        var vertexFormat = translateVertexFormat$1(format);\n                        // @ts-ignore\n                        attribute.vertexFormat = vertexFormat;\n                        if (!isNil(location_1)) {\n                            if (isFormatSizedInteger(format)) {\n                                // See https://groups.google.com/d/msg/angleproject/yQb5DaCzcWg/Ova0E3wcAQAJ for more info.\n                                // console.warn(\"Vertex format uses sized integer types; this will cause a shader recompile on ANGLE platforms\");\n                                // debugger;\n                            }\n                            var size = vertexFormat.size, type = vertexFormat.type, normalized = vertexFormat.normalized;\n                            gl.vertexAttribPointer(location_1, size, type, normalized, 0, 0);\n                            if (stepMode === VertexStepMode.INSTANCE) {\n                                if (isWebGL2(gl)) {\n                                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/vertexAttribDivisor\n                                    gl.vertexAttribDivisor(location_1, divisor);\n                                }\n                                else {\n                                    device.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(location_1, divisor);\n                                }\n                            }\n                            gl.enableVertexAttribArray(location_1);\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (attributes_1_1 && !attributes_1_1.done && (_c = attributes_1.return)) _c.call(attributes_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (isWebGL2(gl)) {\n            gl.bindVertexArray(null);\n        }\n        else {\n            device.OES_vertex_array_object.bindVertexArrayOES(null);\n        }\n        _this.vertexBufferDescriptors = vertexBufferDescriptors;\n        _this.vao = vao;\n        _this.indexBufferFormat = indexBufferFormat;\n        _this.indexBufferType = indexBufferType;\n        _this.indexBufferCompByteSize = indexBufferCompByteSize;\n        _this.program = program;\n        return _this;\n    }\n    InputLayout_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.device['currentBoundVAO'] === this.vao) {\n            if (isWebGL2(this.device.gl)) {\n                this.device.gl.bindVertexArray(null);\n                this.device.gl.deleteVertexArray(this.vao);\n            }\n            else {\n                this.device.OES_vertex_array_object.bindVertexArrayOES(null);\n                this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao);\n            }\n            this.device['currentBoundVAO'] = null;\n        }\n    };\n    return InputLayout_GL;\n}(ResourceBase_GL));\n\nvar Texture_GL = /** @class */ (function (_super) {\n    __extends(Texture_GL, _super);\n    function Texture_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor, fake = _a.fake;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Texture;\n        // Default values.\n        descriptor = __assign({ dimension: TextureDimension.TEXTURE_2D, depthOrArrayLayers: 1, mipLevelCount: 1 }, descriptor);\n        var gl = _this.device.gl;\n        var gl_target;\n        var gl_texture;\n        var mipLevelCount = _this.clampmipLevelCount(descriptor);\n        _this.immutable = descriptor.usage === TextureUsage.RENDER_TARGET;\n        _this.pixelStore = descriptor.pixelStore;\n        _this.format = descriptor.format;\n        _this.dimension = descriptor.dimension;\n        _this.formatKind = getFormatSamplerKind(descriptor.format);\n        _this.width = descriptor.width;\n        _this.height = descriptor.height;\n        _this.depthOrArrayLayers = descriptor.depthOrArrayLayers;\n        _this.mipmaps = mipLevelCount >= 1;\n        if (!fake) {\n            gl_texture = _this.device.ensureResourceExists(gl.createTexture());\n            var gl_type = _this.device.translateTextureType(descriptor.format);\n            var internalformat = _this.device.translateTextureInternalFormat(descriptor.format);\n            _this.device.setActiveTexture(gl.TEXTURE0);\n            _this.device['currentTextures'][0] = null;\n            _this.preprocessImage();\n            if (descriptor.dimension === TextureDimension.TEXTURE_2D) {\n                gl_target = GL.TEXTURE_2D;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        // texStorage2D will create an immutable texture(fixed size)\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/texStorage2D\n                        // @see https://github.com/visgl/luma.gl/issues/193\n                        // @see https://github.com/WebGLSamples/WebGL2Samples/blob/master/samples/texture_immutable.html\n                        gl.texStorage2D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height);\n                    }\n                    else {\n                        // texImage2D: level must be 0 for DEPTH_COMPONENT format\n                        // const level = internalformat === GL.DEPTH_COMPONENT || this.isNPOT() ? 0 : mipLevelCount;\n                        var level = internalformat === GL.DEPTH_COMPONENT || _this.isNPOT() ? 0 : 0;\n                        if ((_this.format === Format.D32F || _this.format === Format.D24_S8) &&\n                            !isWebGL2(gl) &&\n                            !device.WEBGL_depth_texture) ;\n                        else {\n                            // if (!isWebGL2(gl)) {\n                            //   if (internalformat === GL.RGBA4) {\n                            //     internalformat = GL.RGBA;\n                            //   }\n                            // }\n                            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n                            gl.texImage2D(gl_target, level, internalformat, descriptor.width, descriptor.height, 0, internalformat, gl_type, null);\n                            // @see https://stackoverflow.com/questions/21954036/dartweb-gl-render-warning-texture-bound-to-texture-unit-0-is-not-renderable\n                            // [.WebGL-0x106ad0400]RENDER WARNING: texture bound to texture unit 0 is not renderable. It might be non-power-of-2 or have incompatible texture filtering (maybe)?\n                            if (_this.mipmaps) {\n                                _this.mipmaps = false;\n                                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.LINEAR);\n                                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE);\n                                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE);\n                            }\n                        }\n                    }\n                }\n                assert(descriptor.depthOrArrayLayers === 1);\n            }\n            else if (descriptor.dimension === TextureDimension.TEXTURE_2D_ARRAY) {\n                gl_target = GL.TEXTURE_2D_ARRAY;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/texStorage3D\n                        gl.texStorage3D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height, descriptor.depthOrArrayLayers);\n                    }\n                }\n            }\n            else if (descriptor.dimension === TextureDimension.TEXTURE_3D) {\n                gl_target = GL.TEXTURE_3D;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        gl.texStorage3D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height, descriptor.depthOrArrayLayers);\n                    }\n                }\n            }\n            else if (descriptor.dimension === TextureDimension.TEXTURE_CUBE_MAP) {\n                gl_target = GL.TEXTURE_CUBE_MAP;\n                gl.bindTexture(gl_target, gl_texture);\n                if (_this.immutable) {\n                    if (isWebGL2(gl)) {\n                        gl.texStorage2D(gl_target, mipLevelCount, internalformat, descriptor.width, descriptor.height);\n                    }\n                }\n                assert(descriptor.depthOrArrayLayers === 6);\n            }\n            else {\n                throw new Error('whoops');\n            }\n        }\n        _this.gl_texture = gl_texture;\n        _this.gl_target = gl_target;\n        _this.mipLevelCount = mipLevelCount;\n        return _this;\n    }\n    Texture_GL.prototype.setImageData = function (levelDatas, lod) {\n        if (lod === void 0) { lod = 0; }\n        var gl = this.device.gl;\n        isTextureFormatCompressed(this.format);\n        // @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-2.md#3d-texture\n        var is3D = this.gl_target === GL.TEXTURE_3D ||\n            this.gl_target === GL.TEXTURE_2D_ARRAY;\n        var isCube = this.gl_target === GL.TEXTURE_CUBE_MAP;\n        var isTA = isTypedArray(levelDatas[0]);\n        this.device.setActiveTexture(gl.TEXTURE0);\n        this.device['currentTextures'][0] = null;\n        var data = levelDatas[0];\n        var width;\n        var height;\n        if (isTA) {\n            width = this.width;\n            height = this.height;\n        }\n        else {\n            // FIXME: Property 'width' does not exist on type 'TexImageSource'.\n            // Property 'width' does not exist on type 'VideoFrame'.\n            // @ts-ignore\n            width = data.width;\n            // @ts-ignore\n            height = data.height;\n            // update size\n            this.width = width;\n            this.height = height;\n        }\n        gl.bindTexture(this.gl_target, this.gl_texture);\n        var gl_format = this.device.translateTextureFormat(this.format);\n        // In WebGL 1, this must be the same as internalformat\n        var gl_internal_format = isWebGL2(gl)\n            ? this.device.translateInternalTextureFormat(this.format)\n            : gl_format;\n        var gl_type = this.device.translateTextureType(this.format);\n        this.preprocessImage();\n        for (var z = 0; z < this.depthOrArrayLayers; z++) {\n            var levelData = levelDatas[z];\n            var gl_target = this.gl_target;\n            if (isCube) {\n                gl_target = GL.TEXTURE_CUBE_MAP_POSITIVE_X + (z % 6);\n            }\n            if (this.immutable) {\n                // must use texSubImage2D instead of texImage2D, since texture is immutable\n                // @see https://stackoverflow.com/questions/56123201/unity-plugin-texture-is-immutable?rq=1\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texSubImage2D\n                gl.texSubImage2D(gl_target, lod, 0, 0, width, height, gl_format, gl_type, levelData);\n            }\n            else {\n                if (isWebGL2(gl)) {\n                    if (is3D) {\n                        gl.texImage3D(gl_target, lod, gl_internal_format, width, height, this.depthOrArrayLayers, 0, // border must be 0\n                        gl_format, // TODO: can be different with gl_format\n                        gl_type, levelData);\n                    }\n                    else {\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n                        gl.texImage2D(gl_target, lod, gl_internal_format, width, height, 0, // border must be 0\n                        gl_format, // TODO: can be different with gl_format\n                        gl_type, levelData);\n                    }\n                }\n                else {\n                    // WebGL1: upload Array & Image separately\n                    if (isTA) {\n                        gl.texImage2D(gl_target, lod, gl_format, width, height, 0, gl_format, gl_type, levelData);\n                    }\n                    else {\n                        gl.texImage2D(gl_target, lod, gl_format, gl_format, gl_type, levelData);\n                    }\n                }\n            }\n        }\n        if (this.mipmaps) {\n            this.generateMipmap(is3D);\n        }\n    };\n    Texture_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.device.gl.deleteTexture(getPlatformTexture(this));\n    };\n    Texture_GL.prototype.clampmipLevelCount = function (descriptor) {\n        if (descriptor.dimension === TextureDimension.TEXTURE_2D_ARRAY &&\n            descriptor.depthOrArrayLayers > 1) {\n            var typeFlags = getFormatTypeFlags(descriptor.format);\n            if (typeFlags === FormatTypeFlags.BC1) {\n                // Chrome/ANGLE seems to have issues with compressed miplevels of size 1/2, so clamp before they arrive...\n                // https://bugs.chromium.org/p/angleproject/issues/detail?id=4056\n                var w = descriptor.width, h = descriptor.height;\n                for (var i = 0; i < descriptor.mipLevelCount; i++) {\n                    if (w <= 2 || h <= 2)\n                        return i - 1;\n                    w = Math.max((w / 2) | 0, 1);\n                    h = Math.max((h / 2) | 0, 1);\n                }\n            }\n        }\n        return descriptor.mipLevelCount;\n    };\n    Texture_GL.prototype.preprocessImage = function () {\n        var gl = this.device.gl;\n        if (this.pixelStore) {\n            if (this.pixelStore.unpackFlipY) {\n                gl.pixelStorei(GL.UNPACK_FLIP_Y_WEBGL, true);\n            }\n            if (this.pixelStore.packAlignment) {\n                gl.pixelStorei(GL.PACK_ALIGNMENT, this.pixelStore.packAlignment);\n            }\n            if (this.pixelStore.unpackAlignment) {\n                gl.pixelStorei(GL.UNPACK_ALIGNMENT, this.pixelStore.unpackAlignment);\n            }\n        }\n    };\n    Texture_GL.prototype.generateMipmap = function (is3D) {\n        if (is3D === void 0) { is3D = false; }\n        var gl = this.device.gl;\n        if (!isWebGL2(gl) && this.isNPOT()) {\n            return this;\n        }\n        if (this.gl_texture && this.gl_target) {\n            gl.bindTexture(this.gl_target, this.gl_texture);\n            if (is3D) {\n                gl.texParameteri(this.gl_target, GL.TEXTURE_BASE_LEVEL, 0);\n                gl.texParameteri(this.gl_target, GL.TEXTURE_MAX_LEVEL, Math.log2(this.width));\n                gl.texParameteri(this.gl_target, GL.TEXTURE_MIN_FILTER, GL.LINEAR_MIPMAP_LINEAR);\n                gl.texParameteri(this.gl_target, GL.TEXTURE_MAG_FILTER, GL.LINEAR);\n            }\n            else {\n                gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.NEAREST_MIPMAP_LINEAR);\n            }\n            gl.generateMipmap(this.gl_target);\n            gl.bindTexture(this.gl_target, null);\n        }\n        return this;\n    };\n    Texture_GL.prototype.isNPOT = function () {\n        var gl = this.device.gl;\n        if (isWebGL2(gl)) {\n            // NPOT restriction is only for WebGL1\n            return false;\n        }\n        return !isPowerOfTwo(this.width) || !isPowerOfTwo(this.height);\n    };\n    return Texture_GL;\n}(ResourceBase_GL));\n\nvar RenderTarget_GL = /** @class */ (function (_super) {\n    __extends(RenderTarget_GL, _super);\n    function RenderTarget_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderTarget;\n        _this.gl_renderbuffer = null;\n        _this.texture = null;\n        var gl = _this.device.gl;\n        var format = descriptor.format, width = descriptor.width, height = descriptor.height, _b = descriptor.sampleCount, sampleCount = _b === void 0 ? 1 : _b, texture = descriptor.texture;\n        var useRenderbuffer = false;\n        // @see https://blog.tojicode.com/2012/07/using-webgldepthtexture.html\n        if ((format === Format.D32F || format === Format.D24_S8) &&\n            texture &&\n            !isWebGL2(gl) &&\n            !device.WEBGL_depth_texture) {\n            texture.destroy();\n            _this.texture = null;\n            useRenderbuffer = true;\n        }\n        if (!useRenderbuffer && texture) {\n            _this.texture = texture;\n        }\n        else {\n            _this.gl_renderbuffer = _this.device.ensureResourceExists(gl.createRenderbuffer());\n            gl.bindRenderbuffer(gl.RENDERBUFFER, _this.gl_renderbuffer);\n            var gl_format = _this.device.translateTextureInternalFormat(format, true);\n            if (isWebGL2(gl)) {\n                if (sampleCount > 1) {\n                    // @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-2.md#multisampled-renderbuffers\n                    gl.renderbufferStorageMultisample(GL.RENDERBUFFER, sampleCount, gl_format, width, height);\n                }\n                else {\n                    gl.renderbufferStorage(GL.RENDERBUFFER, gl_format, width, height);\n                }\n            }\n            else {\n                // WebGL1 can only use FXAA or other post-processing methods\n                gl.renderbufferStorage(GL.RENDERBUFFER, gl_format, width, height);\n            }\n        }\n        _this.format = format;\n        _this.width = width;\n        _this.height = height;\n        _this.sampleCount = sampleCount;\n        return _this;\n    }\n    RenderTarget_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.gl_renderbuffer !== null) {\n            this.device.gl.deleteRenderbuffer(this.gl_renderbuffer);\n        }\n        if (this.texture) {\n            this.texture.destroy();\n        }\n    };\n    return RenderTarget_GL;\n}(ResourceBase_GL));\n\n// const quadVert = `\n// layout(location = 0) in vec2 a_Position;\n// out vec2 v_TexCoord;\n// void main() {\n//   v_TexCoord = 0.5 * (a_Position + 1.0);\n//   gl_Position = vec4(a_Position, 0., 1.);\n//   #ifdef VIEWPORT_ORIGIN_TL\n//     v_TexCoord.y = 1.0 - v_TexCoord.y;\n//   #endif\n// }\n// `;\nvar ProgramCompileState_GL;\n(function (ProgramCompileState_GL) {\n    ProgramCompileState_GL[ProgramCompileState_GL[\"NeedsCompile\"] = 0] = \"NeedsCompile\";\n    ProgramCompileState_GL[ProgramCompileState_GL[\"Compiling\"] = 1] = \"Compiling\";\n    ProgramCompileState_GL[ProgramCompileState_GL[\"NeedsBind\"] = 2] = \"NeedsBind\";\n    ProgramCompileState_GL[ProgramCompileState_GL[\"ReadyToUse\"] = 3] = \"ReadyToUse\";\n})(ProgramCompileState_GL || (ProgramCompileState_GL = {}));\nvar Program_GL = /** @class */ (function (_super) {\n    __extends(Program_GL, _super);\n    function Program_GL(_a, rawVertexGLSL) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.rawVertexGLSL = rawVertexGLSL;\n        _this.type = ResourceType.Program;\n        // eslint-disable-next-line\n        _this.uniformSetters = {};\n        _this.attributes = [];\n        var gl = _this.device.gl;\n        _this.descriptor = descriptor;\n        _this.gl_program = _this.device.ensureResourceExists(gl.createProgram());\n        _this.gl_shader_vert = null;\n        _this.gl_shader_frag = null;\n        _this.compileState = ProgramCompileState_GL.NeedsCompile;\n        _this.tryCompileProgram();\n        return _this;\n    }\n    Program_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.device.gl.deleteProgram(this.gl_program);\n        this.device.gl.deleteShader(this.gl_shader_vert);\n        this.device.gl.deleteShader(this.gl_shader_frag);\n    };\n    Program_GL.prototype.tryCompileProgram = function () {\n        assert(this.compileState === ProgramCompileState_GL.NeedsCompile);\n        var _a = this.descriptor, vertex = _a.vertex, fragment = _a.fragment;\n        var gl = this.device.gl;\n        // if (this.gl_shader_vert !== null) gl.deleteShader(this.gl_shader_vert);\n        // if (this.gl_shader_frag !== null) gl.deleteShader(this.gl_shader_frag);\n        if ((vertex === null || vertex === void 0 ? void 0 : vertex.glsl) && (fragment === null || fragment === void 0 ? void 0 : fragment.glsl)) {\n            this.gl_shader_vert = this.compileShader(vertex.postprocess ? vertex.postprocess(vertex.glsl) : vertex.glsl, gl.VERTEX_SHADER);\n            this.gl_shader_frag = this.compileShader(fragment.postprocess\n                ? fragment.postprocess(fragment.glsl)\n                : fragment.glsl, gl.FRAGMENT_SHADER);\n            gl.attachShader(this.gl_program, this.gl_shader_vert);\n            gl.attachShader(this.gl_program, this.gl_shader_frag);\n            gl.linkProgram(this.gl_program);\n            this.compileState = ProgramCompileState_GL.Compiling;\n            if (!isWebGL2(gl)) {\n                // extract uniforms\n                this.readUniformLocationsFromLinkedProgram();\n                // extract attributes\n                this.readAttributesFromLinkedProgram();\n            }\n        }\n    };\n    Program_GL.prototype.readAttributesFromLinkedProgram = function () {\n        var _a;\n        var gl = this.device.gl;\n        var count = gl.getProgramParameter(this.gl_program, gl.ACTIVE_ATTRIBUTES);\n        var defines = getDefines(this.descriptor.vertex.glsl);\n        var locations = getAttributeLocations(\n        // Use raw GLSL\n        this.rawVertexGLSL, defines);\n        var _loop_1 = function (index) {\n            var _b = gl.getActiveAttrib(this_1.gl_program, index), name_1 = _b.name, type = _b.type, size = _b.size;\n            var location_1 = gl.getAttribLocation(this_1.gl_program, name_1);\n            var definedLocation = (_a = locations.find(function (l) { return l.name === name_1; })) === null || _a === void 0 ? void 0 : _a.location;\n            // Add only user provided attributes, for built-in attributes like\n            // `gl_InstanceID` locaiton will be < 0\n            if (location_1 >= 0 && !isNil(definedLocation)) {\n                this_1.attributes[definedLocation] = {\n                    name: name_1,\n                    location: location_1,\n                    type: type,\n                    size: size,\n                };\n            }\n        };\n        var this_1 = this;\n        for (var index = 0; index < count; index++) {\n            _loop_1(index);\n        }\n    };\n    Program_GL.prototype.readUniformLocationsFromLinkedProgram = function () {\n        var gl = this.device.gl;\n        var numUniforms = gl.getProgramParameter(this.gl_program, gl.ACTIVE_UNIFORMS);\n        for (var i = 0; i < numUniforms; i++) {\n            var info = gl.getActiveUniform(this.gl_program, i);\n            var name_2 = parseUniformName(info.name).name;\n            var location_2 = gl.getUniformLocation(this.gl_program, name_2);\n            this.uniformSetters[name_2] = getUniformSetter(gl, location_2, info);\n            if (info && info.size > 1) {\n                for (var l = 0; l < info.size; l++) {\n                    location_2 = gl.getUniformLocation(this.gl_program, \"\".concat(name_2, \"[\").concat(l, \"]\"));\n                    this.uniformSetters[\"\".concat(name_2, \"[\").concat(l, \"]\")] = getUniformSetter(gl, location_2, info);\n                }\n            }\n        }\n    };\n    Program_GL.prototype.compileShader = function (contents, type) {\n        var gl = this.device.gl;\n        var shader = this.device.ensureResourceExists(gl.createShader(type));\n        gl.shaderSource(shader, contents);\n        gl.compileShader(shader);\n        return shader;\n    };\n    // eslint-disable-next-line\n    Program_GL.prototype.setUniformsLegacy = function (uniforms) {\n        if (uniforms === void 0) { uniforms = {}; }\n        var gl = this.device.gl;\n        if (!isWebGL2(gl)) {\n            var programUsed = false;\n            for (var uniformName in uniforms) {\n                if (!programUsed) {\n                    gl.useProgram(this.gl_program);\n                    programUsed = true;\n                }\n                var uniform = uniforms[uniformName];\n                var uniformSetter = this.uniformSetters[uniformName];\n                if (uniformSetter) {\n                    var value = uniform;\n                    if (value instanceof Texture_GL) {\n                        value = value.textureIndex;\n                    }\n                    uniformSetter(value);\n                }\n            }\n        }\n        return this;\n    };\n    return Program_GL;\n}(ResourceBase_GL));\n\nvar QueryPool_GL = /** @class */ (function (_super) {\n    __extends(QueryPool_GL, _super);\n    function QueryPool_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.QueryPool;\n        var gl = _this.device.gl;\n        if (isWebGL2(gl)) {\n            var elemCount = descriptor.elemCount, type = descriptor.type;\n            _this.gl_query = nArray(elemCount, function () {\n                return _this.device.ensureResourceExists(gl.createQuery());\n            });\n            _this.gl_query_type = translateQueryPoolType$1(type);\n        }\n        return _this;\n    }\n    QueryPool_GL.prototype.queryResultOcclusion = function (dstOffs) {\n        var gl = this.device.gl;\n        if (isWebGL2(gl)) {\n            var gl_query = this.gl_query[dstOffs];\n            if (!gl.getQueryParameter(gl_query, gl.QUERY_RESULT_AVAILABLE)) {\n                return null;\n            }\n            return !!gl.getQueryParameter(gl_query, gl.QUERY_RESULT);\n        }\n        return null;\n    };\n    QueryPool_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var gl = this.device.gl;\n        if (isWebGL2(gl)) {\n            for (var i = 0; i < this.gl_query.length; i++) {\n                gl.deleteQuery(this.gl_query[i]);\n            }\n        }\n    };\n    return QueryPool_GL;\n}(ResourceBase_GL));\n\nvar Readback_GL = /** @class */ (function (_super) {\n    __extends(Readback_GL, _super);\n    function Readback_GL(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Readback;\n        _this.gl_pbo = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLSync\n        _this.gl_sync = null;\n        return _this;\n    }\n    Readback_GL.prototype.clientWaitAsync = function (sync, flags, interval_ms) {\n        if (flags === void 0) { flags = 0; }\n        if (interval_ms === void 0) { interval_ms = 10; }\n        var gl = this.device.gl;\n        return new Promise(function (resolve, reject) {\n            function test() {\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/clientWaitSync\n                var res = gl.clientWaitSync(sync, flags, 0);\n                if (res == gl.WAIT_FAILED) {\n                    reject();\n                    return;\n                }\n                if (res == gl.TIMEOUT_EXPIRED) {\n                    setTimeout(test, clamp(interval_ms, 0, gl.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));\n                    return;\n                }\n                resolve();\n            }\n            test();\n        });\n    };\n    Readback_GL.prototype.getBufferSubDataAsync = function (target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n        return __awaiter(this, void 0, void 0, function () {\n            var gl;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        gl = this.device.gl;\n                        if (!isWebGL2(gl)) return [3 /*break*/, 2];\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/fenceSync\n                        this.gl_sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n                        gl.flush();\n                        return [4 /*yield*/, this.clientWaitAsync(this.gl_sync, 0, 10)];\n                    case 1:\n                        _a.sent();\n                        gl.bindBuffer(target, buffer);\n                        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n                        gl.bindBuffer(target, null);\n                        return [2 /*return*/, dstBuffer];\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_non-blocking_async_data_readback\n     */\n    Readback_GL.prototype.readTexture = function (t, x, y, width, height, dstBuffer, dstOffset, length) {\n        if (dstOffset === void 0) { dstOffset = 0; }\n        if (length === void 0) { length = dstBuffer.byteLength || 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            var gl, texture, gl_format, gl_type, formatByteSize;\n            return __generator(this, function (_a) {\n                gl = this.device.gl;\n                texture = t;\n                gl_format = this.device.translateTextureFormat(texture.format);\n                gl_type = this.device.translateTextureType(texture.format);\n                formatByteSize = getFormatByteSize(texture.format);\n                if (isWebGL2(gl)) {\n                    this.gl_pbo = this.device.ensureResourceExists(gl.createBuffer());\n                    // PIXEL_PACK_BUFFER: Buffer used for pixel transfer operations\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bindBuffer\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, this.gl_pbo);\n                    // STREAM_READ: The contents are intended to be specified once by reading data from WebGL, and queried at most a few times by the application\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferData\n                    gl.bufferData(gl.PIXEL_PACK_BUFFER, length, gl.STREAM_READ);\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n                    gl.bindFramebuffer(GL.READ_FRAMEBUFFER, this.device['readbackFramebuffer']);\n                    gl.framebufferTexture2D(GL.READ_FRAMEBUFFER, GL.COLOR_ATTACHMENT0, GL.TEXTURE_2D, texture.gl_texture, 0);\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, this.gl_pbo);\n                    gl.readPixels(x, y, width, height, gl_format, gl_type, dstOffset * formatByteSize);\n                    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n                    return [2 /*return*/, this.getBufferSubDataAsync(gl.PIXEL_PACK_BUFFER, this.gl_pbo, 0, dstBuffer, dstOffset, 0)];\n                }\n                else {\n                    return [2 /*return*/, this.readTextureSync(t, x, y, width, height, dstBuffer, dstOffset, length)];\n                }\n            });\n        });\n    };\n    Readback_GL.prototype.readTextureSync = function (t, x, y, width, height, dstBuffer, dstOffset, length) {\n        if (length === void 0) { length = dstBuffer.byteLength || 0; }\n        var gl = this.device.gl;\n        var texture = t;\n        var gl_type = this.device.translateTextureType(texture.format);\n        gl.bindFramebuffer(GL.FRAMEBUFFER, this.device['readbackFramebuffer']);\n        gl.framebufferTexture2D(GL.FRAMEBUFFER, GL.COLOR_ATTACHMENT0, GL.TEXTURE_2D, texture.gl_texture, 0);\n        // slow requires roundtrip to GPU\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/pixelStorei\n        gl.pixelStorei(gl.PACK_ALIGNMENT, 4);\n        gl.readPixels(x, y, width, height, gl.RGBA, gl_type, dstBuffer);\n        return dstBuffer;\n    };\n    Readback_GL.prototype.readBuffer = function (b, srcByteOffset, dstBuffer, dstOffset, length) {\n        return __awaiter(this, void 0, void 0, function () {\n            var gl;\n            return __generator(this, function (_a) {\n                gl = this.device.gl;\n                if (isWebGL2(gl)) {\n                    return [2 /*return*/, this.getBufferSubDataAsync(gl.ARRAY_BUFFER, getPlatformBuffer$1(b, srcByteOffset), srcByteOffset, dstBuffer, dstOffset, length)];\n                }\n                // TODO: WebGL1\n                return [2 /*return*/, Promise.reject()];\n            });\n        });\n    };\n    Readback_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (isWebGL2(this.device.gl)) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/deleteSync\n            if (this.gl_sync !== null) {\n                this.device.gl.deleteSync(this.gl_sync);\n            }\n            if (this.gl_pbo !== null) {\n                this.device.gl.deleteBuffer(this.gl_pbo);\n            }\n        }\n    };\n    return Readback_GL;\n}(ResourceBase_GL));\n\nvar RenderPipeline_GL = /** @class */ (function (_super) {\n    __extends(RenderPipeline_GL, _super);\n    function RenderPipeline_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderPipeline;\n        _this.drawMode = translatePrimitiveTopology((_b = descriptor.topology) !== null && _b !== void 0 ? _b : PrimitiveTopology.TRIANGLES);\n        _this.program = descriptor.program;\n        _this.inputLayout = descriptor.inputLayout;\n        _this.megaState = __assign(__assign({}, copyMegaState(defaultMegaState)), descriptor.megaStateDescriptor);\n        _this.colorAttachmentFormats = descriptor.colorAttachmentFormats.slice();\n        _this.depthStencilAttachmentFormat = descriptor.depthStencilAttachmentFormat;\n        _this.sampleCount = (_c = descriptor.sampleCount) !== null && _c !== void 0 ? _c : 1;\n        return _this;\n    }\n    return RenderPipeline_GL;\n}(ResourceBase_GL));\n\nvar ComputePipeline_GL = /** @class */ (function (_super) {\n    __extends(ComputePipeline_GL, _super);\n    function ComputePipeline_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.ComputePipeline;\n        _this.descriptor = descriptor;\n        return _this;\n        // const program = descriptor.program as Program_GL;\n    }\n    return ComputePipeline_GL;\n}(ResourceBase_GL));\n\nvar ResourceCreationTracker = /** @class */ (function () {\n    function ResourceCreationTracker() {\n        this.liveObjects = new Set();\n        this.creationStacks = new Map();\n        this.deletionStacks = new Map();\n    }\n    ResourceCreationTracker.prototype.trackResourceCreated = function (o) {\n        this.creationStacks.set(o, new Error().stack);\n        this.liveObjects.add(o);\n    };\n    ResourceCreationTracker.prototype.trackResourceDestroyed = function (o) {\n        if (this.deletionStacks.has(o))\n            console.warn(\"Object double freed:\", o, \"\\n\\nCreation stack: \", this.creationStacks.get(o), \"\\n\\nDeletion stack: \", this.deletionStacks.get(o), \"\\n\\nThis stack: \", new Error().stack);\n        this.deletionStacks.set(o, new Error().stack);\n        this.liveObjects.delete(o);\n    };\n    ResourceCreationTracker.prototype.checkForLeaks = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.liveObjects.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var o = _c.value;\n                console.warn('Object leaked:', o, 'Creation stack:', this.creationStacks.get(o));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    ResourceCreationTracker.prototype.setResourceLeakCheck = function (o, v) {\n        if (v) {\n            this.liveObjects.add(o);\n        }\n        else {\n            this.liveObjects.delete(o);\n        }\n    };\n    return ResourceCreationTracker;\n}());\n\n/**\n * In WebGL 1 texture image data and sampling information are both stored in texture objects\n * @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-2.md#sampler-objects\n */\nvar Sampler_GL = /** @class */ (function (_super) {\n    __extends(Sampler_GL, _super);\n    function Sampler_GL(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Sampler;\n        var gl = _this.device.gl;\n        if (isWebGL2(gl)) {\n            var gl_sampler = _this.device.ensureResourceExists(gl.createSampler());\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_WRAP_S, translateAddressMode$1(descriptor.addressModeU));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_WRAP_T, translateAddressMode$1(descriptor.addressModeV));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_WRAP_R, translateAddressMode$1((_b = descriptor.addressModeW) !== null && _b !== void 0 ? _b : descriptor.addressModeU));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_MIN_FILTER, translateFilterMode(descriptor.minFilter, descriptor.mipmapFilter));\n            gl.samplerParameteri(gl_sampler, GL.TEXTURE_MAG_FILTER, translateFilterMode(descriptor.magFilter, MipmapFilterMode.NO_MIP));\n            if (descriptor.lodMinClamp !== undefined) {\n                gl.samplerParameterf(gl_sampler, GL.TEXTURE_MIN_LOD, descriptor.lodMinClamp);\n            }\n            if (descriptor.lodMaxClamp !== undefined) {\n                gl.samplerParameterf(gl_sampler, GL.TEXTURE_MAX_LOD, descriptor.lodMaxClamp);\n            }\n            if (descriptor.compareFunction !== undefined) {\n                gl.samplerParameteri(gl_sampler, gl.TEXTURE_COMPARE_MODE, gl.COMPARE_REF_TO_TEXTURE);\n                gl.samplerParameteri(gl_sampler, gl.TEXTURE_COMPARE_FUNC, descriptor.compareFunction);\n            }\n            var maxAnisotropy = (_c = descriptor.maxAnisotropy) !== null && _c !== void 0 ? _c : 1;\n            if (maxAnisotropy > 1 &&\n                _this.device.EXT_texture_filter_anisotropic !== null) {\n                assert(descriptor.minFilter === FilterMode.BILINEAR &&\n                    descriptor.magFilter === FilterMode.BILINEAR &&\n                    descriptor.mipmapFilter === MipmapFilterMode.LINEAR);\n                gl.samplerParameterf(gl_sampler, _this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT, maxAnisotropy);\n            }\n            _this.gl_sampler = gl_sampler;\n        }\n        else {\n            // use later in WebGL1\n            _this.descriptor = descriptor;\n        }\n        return _this;\n    }\n    Sampler_GL.prototype.setTextureParameters = function (gl_target, width, height) {\n        var _a;\n        var gl = this.device.gl;\n        var descriptor = this.descriptor;\n        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API/Tutorial/Using_textures_in_WebGL#%E9%9D%9E2%E7%9A%84%E5%B9%82%E7%BA%B9%E7%90%86\n        if (this.isNPOT(width, height)) {\n            gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.LINEAR);\n        }\n        else {\n            gl.texParameteri(gl_target, GL.TEXTURE_MIN_FILTER, translateFilterMode(descriptor.minFilter, descriptor.mipmapFilter));\n        }\n        gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_S, translateAddressMode$1(descriptor.addressModeU));\n        gl.texParameteri(GL.TEXTURE_2D, GL.TEXTURE_WRAP_T, translateAddressMode$1(descriptor.addressModeV));\n        gl.texParameteri(gl_target, GL.TEXTURE_MAG_FILTER, translateFilterMode(descriptor.magFilter, MipmapFilterMode.NO_MIP));\n        // if (descriptor.lodMinClamp !== undefined) {\n        //   gl.texParameterf(gl_target, GL.TEXTURE_MIN_LOD, descriptor.lodMinClamp);\n        // }\n        // if (descriptor.lodMaxClamp !== undefined) {\n        //   gl.texParameterf(gl_target, GL.TEXTURE_MAX_LOD, descriptor.lodMaxClamp);\n        // }\n        var maxAnisotropy = (_a = descriptor.maxAnisotropy) !== null && _a !== void 0 ? _a : 1;\n        if (maxAnisotropy > 1 &&\n            this.device.EXT_texture_filter_anisotropic !== null) {\n            assert(descriptor.minFilter === FilterMode.BILINEAR &&\n                descriptor.magFilter === FilterMode.BILINEAR &&\n                descriptor.mipmapFilter === MipmapFilterMode.LINEAR);\n            gl.texParameteri(gl_target, this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT, maxAnisotropy);\n        }\n    };\n    Sampler_GL.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (isWebGL2(this.device.gl)) {\n            this.device.gl.deleteSampler(getPlatformSampler$1(this));\n        }\n    };\n    Sampler_GL.prototype.isNPOT = function (width, height) {\n        return !isPowerOfTwo(width) || !isPowerOfTwo(height);\n    };\n    return Sampler_GL;\n}(ResourceBase_GL));\n\n// import { assert, assertExists } from '../api';\n// import type { ComputePipeline_GL } from './ComputePipeline';\nvar ComputePass_GL = /** @class */ (function () {\n    function ComputePass_GL() {\n    }\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucomputepassencoder-dispatch\n     */\n    ComputePass_GL.prototype.dispatchWorkgroups = function (workgroupCountX, workgroupCountY, workgroupCountZ) { };\n    ComputePass_GL.prototype.dispatchWorkgroupsIndirect = function (indirectBuffer, indirectOffset) { };\n    ComputePass_GL.prototype.setPipeline = function (pipeline_) {\n        // const pipeline = pipeline_ as ComputePipeline_WebGPU;\n        // const gpuComputePipeline = assertExists(pipeline.gpuComputePipeline);\n        // this.gpuComputePassEncoder.setPipeline(gpuComputePipeline);\n    };\n    ComputePass_GL.prototype.setBindings = function (bindings_) {\n        // const bindings = bindings_ as Bindings_WebGPU;\n        // this.gpuComputePassEncoder.setBindGroup(bindingLayoutIndex, bindings.gpuBindGroup[0]);\n    };\n    ComputePass_GL.prototype.pushDebugGroup = function (name) { };\n    ComputePass_GL.prototype.popDebugGroup = function () { };\n    ComputePass_GL.prototype.insertDebugMarker = function (markerLabel) { };\n    return ComputePass_GL;\n}());\n\nvar RenderBundle_GL = /** @class */ (function (_super) {\n    __extends(RenderBundle_GL, _super);\n    function RenderBundle_GL() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = ResourceType.RenderBundle;\n        _this.commands = [];\n        return _this;\n    }\n    RenderBundle_GL.prototype.push = function (f) {\n        this.commands.push(f);\n    };\n    RenderBundle_GL.prototype.replay = function () {\n        this.commands.forEach(function (f) { return f(); });\n    };\n    return RenderBundle_GL;\n}(ResourceBase_GL));\n\n// This is a workaround for ANGLE not supporting UBOs greater than 64kb (the limit of D3D).\n// https://bugs.chromium.org/p/angleproject/issues/detail?id=3388\nvar UBO_PAGE_MAX_BYTE_SIZE = 0x10000;\n/**\n * Extract uniform blocks from shader source.\n *\n * @example\n * ```glsl\n * layout(std140) uniform CommonUniforms {\n    float u_blur;\n  };\n * ```\n */\nvar UNIFROM_BLOCK_REGEXP = /uniform(?:\\s+)(\\w+)(?:\\s?){([^]*?)}/g;\nvar Device_GL = /** @class */ (function () {\n    function Device_GL(gl, configuration) {\n        if (configuration === void 0) { configuration = {}; }\n        // Configuration\n        this.shaderDebug = false;\n        // GL extensions\n        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/OES_vertex_array_object\n        this.OES_vertex_array_object = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/ANGLE_instanced_arrays\n        this.ANGLE_instanced_arrays = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/OES_texture_float\n        this.OES_texture_float = null;\n        // @see https://www.khronos.org/registry/webgl/extensions/OES_draw_buffers_indexed/\n        this.OES_draw_buffers_indexed = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_draw_buffers\n        this.WEBGL_draw_buffers = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n        this.WEBGL_depth_texture = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_color_buffer_float\n        this.WEBGL_color_buffer_float = null;\n        this.EXT_color_buffer_half_float = null;\n        this.WEBGL_compressed_texture_s3tc = null;\n        this.WEBGL_compressed_texture_s3tc_srgb = null;\n        this.EXT_texture_compression_rgtc = null;\n        this.EXT_texture_filter_anisotropic = null;\n        this.KHR_parallel_shader_compile = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/EXT_texture_norm16\n        this.EXT_texture_norm16 = null;\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/EXT_color_buffer_float\n        this.EXT_color_buffer_float = null;\n        this.OES_texture_float_linear = null;\n        this.OES_texture_half_float_linear = null;\n        // Swap Chain\n        this.scTexture = null;\n        this.scPlatformFramebuffer = null;\n        // Device\n        this.currentActiveTexture = null;\n        this.currentBoundVAO = null;\n        this.currentProgram = null;\n        this.resourceCreationTracker = null;\n        this.resourceUniqueId = 0;\n        // Cached GL driver state\n        this.currentColorAttachments = [];\n        this.currentColorAttachmentLevels = [];\n        this.currentColorResolveTos = [];\n        this.currentColorResolveToLevels = [];\n        this.currentSampleCount = -1;\n        this.currentIndexBufferByteOffset = null;\n        this.currentMegaState = copyMegaState(defaultMegaState);\n        this.currentSamplers = [];\n        this.currentTextures = [];\n        this.currentUniformBuffers = [];\n        this.currentUniformBufferByteOffsets = [];\n        this.currentUniformBufferByteSizes = [];\n        this.currentScissorEnabled = false;\n        this.currentStencilRef = null;\n        // Pass Execution\n        this.currentRenderPassDescriptor = null;\n        this.currentRenderPassDescriptorStack = [];\n        this.debugGroupStack = [];\n        this.resolveColorAttachmentsChanged = false;\n        this.resolveDepthStencilAttachmentsChanged = false;\n        this.explicitBindingLocations = false;\n        this.separateSamplerTextures = false;\n        this.viewportOrigin = ViewportOrigin.LOWER_LEFT;\n        this.clipSpaceNearZ = ClipSpaceNearZ.NEGATIVE_ONE;\n        this.supportMRT = false;\n        this.inBlitRenderPass = false;\n        this.supportedSampleCounts = [];\n        this.occlusionQueriesRecommended = false;\n        this.computeShadersSupported = false;\n        this.gl = gl;\n        this.contextAttributes = assertExists(gl.getContextAttributes());\n        if (!isWebGL2(gl)) {\n            this.OES_vertex_array_object = gl.getExtension('OES_vertex_array_object');\n            // TODO: when ANGLE_instanced_arrays unavailable...\n            this.ANGLE_instanced_arrays = gl.getExtension('ANGLE_instanced_arrays');\n            this.OES_texture_float = gl.getExtension('OES_texture_float');\n            this.WEBGL_draw_buffers = gl.getExtension('WEBGL_draw_buffers');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n            this.WEBGL_depth_texture = gl.getExtension('WEBGL_depth_texture');\n            this.WEBGL_color_buffer_float = gl.getExtension('WEBGL_color_buffer_float');\n            this.EXT_color_buffer_half_float = gl.getExtension('EXT_color_buffer_half_float');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/EXT_frag_depth\n            gl.getExtension('EXT_frag_depth');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/OES_element_index_uint\n            gl.getExtension('OES_element_index_uint');\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/OES_standard_derivatives\n            gl.getExtension('OES_standard_derivatives');\n        }\n        else {\n            this.EXT_texture_norm16 = gl.getExtension('EXT_texture_norm16');\n            this.EXT_color_buffer_float = gl.getExtension('EXT_color_buffer_float');\n        }\n        this.WEBGL_compressed_texture_s3tc = gl.getExtension('WEBGL_compressed_texture_s3tc');\n        this.WEBGL_compressed_texture_s3tc_srgb = gl.getExtension('WEBGL_compressed_texture_s3tc_srgb');\n        this.EXT_texture_compression_rgtc = gl.getExtension('EXT_texture_compression_rgtc');\n        this.EXT_texture_filter_anisotropic = gl.getExtension('EXT_texture_filter_anisotropic');\n        this.EXT_texture_norm16 = gl.getExtension('EXT_texture_norm16');\n        this.OES_texture_float_linear = gl.getExtension('OES_texture_float_linear');\n        this.OES_texture_half_float_linear = gl.getExtension('OES_texture_half_float_linear');\n        this.KHR_parallel_shader_compile = gl.getExtension('KHR_parallel_shader_compile');\n        // this.OES_draw_buffers_indexed = gl.getExtension('OES_draw_buffers_indexed');\n        if (isWebGL2(gl)) {\n            this.platformString = 'WebGL2';\n            this.glslVersion = '#version 300 es';\n        }\n        else {\n            this.platformString = 'WebGL1';\n            this.glslVersion = '#version 100'; // 100 es not supported\n        }\n        // Create our fake swap-chain texture.\n        this.scTexture = new Texture_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                width: 0,\n                height: 0,\n                depthOrArrayLayers: 1,\n                dimension: TextureDimension.TEXTURE_2D,\n                mipLevelCount: 1,\n                usage: TextureUsage.RENDER_TARGET,\n                format: this.contextAttributes.alpha === false\n                    ? Format.U8_RGB_RT\n                    : Format.U8_RGBA_RT,\n            },\n            fake: true,\n        });\n        this.scTexture.formatKind = SamplerFormatKind.Float;\n        this.scTexture.gl_target = null;\n        this.scTexture.gl_texture = null;\n        this.resolveColorReadFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.resolveColorDrawFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.resolveDepthStencilReadFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.resolveDepthStencilDrawFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.renderPassDrawFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.readbackFramebuffer = this.ensureResourceExists(gl.createFramebuffer());\n        this.fallbackTexture2D = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Float);\n        this.fallbackTexture2DDepth = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Depth);\n        this.fallbackVertexBuffer = this.createBuffer({\n            viewOrSize: 1,\n            usage: BufferUsage.VERTEX,\n            hint: BufferFrequencyHint.STATIC,\n        });\n        if (isWebGL2(gl)) {\n            this.fallbackTexture2DArray = this.createFallbackTexture(TextureDimension.TEXTURE_2D_ARRAY, SamplerFormatKind.Float);\n            this.fallbackTexture3D = this.createFallbackTexture(TextureDimension.TEXTURE_3D, SamplerFormatKind.Float);\n            this.fallbackTextureCube = this.createFallbackTexture(TextureDimension.TEXTURE_CUBE_MAP, SamplerFormatKind.Float);\n        }\n        // Adjust for GL defaults.\n        this.currentMegaState.depthCompare = CompareFunction.LESS;\n        this.currentMegaState.depthWrite = false;\n        this.currentMegaState.attachmentsState[0].channelWriteMask =\n            ChannelWriteMask.ALL;\n        // always have depth test enabled.\n        gl.enable(gl.DEPTH_TEST);\n        gl.enable(gl.STENCIL_TEST);\n        this.checkLimits();\n        if (configuration.shaderDebug) {\n            this.shaderDebug = true;\n        }\n        if (configuration.trackResources) {\n            this.resourceCreationTracker = new ResourceCreationTracker();\n        }\n    }\n    Device_GL.prototype.destroy = function () {\n        if (this.blitBindings) {\n            this.blitBindings.destroy();\n        }\n        if (this.blitInputLayout) {\n            this.blitInputLayout.destroy();\n        }\n        if (this.blitRenderPipeline) {\n            this.blitRenderPipeline.destroy();\n        }\n        if (this.blitVertexBuffer) {\n            this.blitVertexBuffer.destroy();\n        }\n        if (this.blitProgram) {\n            this.blitProgram.destroy();\n        }\n    };\n    Device_GL.prototype.createFallbackTexture = function (dimension, formatKind) {\n        var depthOrArrayLayers = dimension === TextureDimension.TEXTURE_CUBE_MAP ? 6 : 1;\n        // const supportDepthTexture =\n        //   isWebGL2(this.gl) || (!isWebGL2(this.gl) && !!this.WEBGL_depth_texture);\n        var format = formatKind === SamplerFormatKind.Depth\n            ? Format.D32F\n            : Format.U8_RGBA_NORM;\n        var texture = this.createTexture({\n            dimension: dimension,\n            format: format,\n            usage: TextureUsage.SAMPLED,\n            width: 1,\n            height: 1,\n            depthOrArrayLayers: depthOrArrayLayers,\n            mipLevelCount: 1,\n        });\n        if (formatKind === SamplerFormatKind.Float) {\n            texture.setImageData([new Uint8Array(4 * depthOrArrayLayers)]);\n        }\n        return getPlatformTexture(texture);\n    };\n    Device_GL.prototype.getNextUniqueId = function () {\n        return ++this.resourceUniqueId;\n    };\n    Device_GL.prototype.checkLimits = function () {\n        var gl = this.gl;\n        this.maxVertexAttribs = gl.getParameter(GL.MAX_VERTEX_ATTRIBS);\n        if (isWebGL2(gl)) {\n            this.uniformBufferMaxPageByteSize = Math.min(gl.getParameter(GL.MAX_UNIFORM_BLOCK_SIZE), UBO_PAGE_MAX_BYTE_SIZE);\n            this.uniformBufferWordAlignment =\n                gl.getParameter(gl.UNIFORM_BUFFER_OFFSET_ALIGNMENT) / 4;\n            var supportedSampleCounts = gl.getInternalformatParameter(gl.RENDERBUFFER, gl.DEPTH32F_STENCIL8, gl.SAMPLES);\n            this.supportedSampleCounts = supportedSampleCounts\n                ? __spreadArray([], __read(supportedSampleCounts), false) : [];\n            this.occlusionQueriesRecommended = true;\n        }\n        else {\n            // mock ubo in WebGL1\n            this.uniformBufferWordAlignment = 64;\n            this.uniformBufferMaxPageByteSize = UBO_PAGE_MAX_BYTE_SIZE;\n        }\n        this.uniformBufferMaxPageWordSize = this.uniformBufferMaxPageByteSize / 4;\n        if (!this.supportedSampleCounts.includes(1)) {\n            this.supportedSampleCounts.push(1);\n        }\n        this.supportedSampleCounts.sort(function (a, b) { return a - b; });\n    };\n    //#region SwapChain\n    Device_GL.prototype.configureSwapChain = function (width, height, platformFramebuffer) {\n        var texture = this.scTexture;\n        texture.width = width;\n        texture.height = height;\n        this.scPlatformFramebuffer = nullify(platformFramebuffer);\n    };\n    Device_GL.prototype.getDevice = function () {\n        return this;\n    };\n    Device_GL.prototype.getCanvas = function () {\n        return this.gl.canvas;\n    };\n    Device_GL.prototype.getOnscreenTexture = function () {\n        return this.scTexture;\n    };\n    Device_GL.prototype.beginFrame = function () { };\n    Device_GL.prototype.endFrame = function () { };\n    //#endregion\n    //#region Device\n    // @see https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html\n    Device_GL.prototype.translateTextureInternalFormat = function (fmt, isRenderbufferStorage) {\n        if (isRenderbufferStorage === void 0) { isRenderbufferStorage = false; }\n        switch (fmt) {\n            case Format.ALPHA:\n                return GL.ALPHA;\n            case Format.U8_LUMINANCE:\n            case Format.F16_LUMINANCE:\n            case Format.F32_LUMINANCE:\n                return GL.LUMINANCE;\n            // case Format.LUMINANCE_ALPHA:\n            //   return GL.LUMINANCE_ALPHA;\n            case Format.F16_R:\n                return GL.R16F;\n            case Format.F16_RG:\n                return GL.RG16F;\n            case Format.F16_RGB:\n                return GL.RGB16F;\n            case Format.F16_RGBA:\n                return GL.RGBA16F;\n            case Format.F32_R:\n                return GL.R32F;\n            case Format.F32_RG:\n                return GL.RG32F;\n            case Format.F32_RGB:\n                return GL.RGB32F;\n            case Format.F32_RGBA:\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_color_buffer_float\n                return isWebGL2(this.gl)\n                    ? GL.RGBA32F\n                    : isRenderbufferStorage\n                        ? this.WEBGL_color_buffer_float.RGBA32F_EXT\n                        : GL.RGBA;\n            case Format.U8_R_NORM:\n                return GL.R8;\n            case Format.U8_RG_NORM:\n                return GL.RG8;\n            case Format.U8_RGB_NORM:\n            case Format.U8_RGB_RT:\n                return GL.RGB8;\n            case Format.U8_RGB_SRGB:\n                return GL.SRGB8;\n            case Format.U8_RGBA_NORM:\n            case Format.U8_RGBA_RT:\n                // WebGL1 renderbuffer only support RGBA4 RGB565 RGB5_A1\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/renderbufferStorage#parameters\n                // But texImage2D allows RGBA\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texImage2D\n                return isWebGL2(this.gl)\n                    ? GL.RGBA8\n                    : isRenderbufferStorage\n                        ? GL.RGBA4\n                        : GL.RGBA;\n            case Format.U8_RGBA:\n                return GL.RGBA;\n            case Format.U8_RGBA_SRGB:\n            case Format.U8_RGBA_RT_SRGB:\n                return GL.SRGB8_ALPHA8;\n            case Format.U16_R:\n                return GL.R16UI;\n            case Format.U16_R_NORM:\n                return this.EXT_texture_norm16.R16_EXT;\n            case Format.U16_RG_NORM:\n                return this.EXT_texture_norm16.RG16_EXT;\n            case Format.U16_RGBA_NORM:\n                return this.EXT_texture_norm16.RGBA16_EXT;\n            case Format.U16_RGBA_5551:\n                return GL.RGB5_A1;\n            case Format.U16_RGB_565:\n                return GL.RGB565;\n            case Format.U32_R:\n                return GL.R32UI;\n            case Format.S8_RGBA_NORM:\n                return GL.RGBA8_SNORM;\n            case Format.S8_RG_NORM:\n                return GL.RG8_SNORM;\n            case Format.BC1:\n                return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n            case Format.BC1_SRGB:\n                return this.WEBGL_compressed_texture_s3tc_srgb\n                    .COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n            case Format.BC2:\n                return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n            case Format.BC2_SRGB:\n                return this.WEBGL_compressed_texture_s3tc_srgb\n                    .COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n            case Format.BC3:\n                return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n            case Format.BC3_SRGB:\n                return this.WEBGL_compressed_texture_s3tc_srgb\n                    .COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n            case Format.BC4_UNORM:\n                return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;\n            case Format.BC4_SNORM:\n                return this.EXT_texture_compression_rgtc\n                    .COMPRESSED_SIGNED_RED_RGTC1_EXT;\n            case Format.BC5_UNORM:\n                return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;\n            case Format.BC5_SNORM:\n                return this.EXT_texture_compression_rgtc\n                    .COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;\n            case Format.D32F_S8:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH32F_STENCIL8\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_STENCIL\n                        : GL.DEPTH_COMPONENT16;\n            case Format.D24_S8:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH24_STENCIL8\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_STENCIL\n                        : GL.DEPTH_COMPONENT16;\n            case Format.D32F:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH_COMPONENT32F\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_COMPONENT\n                        : GL.DEPTH_COMPONENT16;\n            case Format.D24:\n                return isWebGL2(this.gl)\n                    ? GL.DEPTH_COMPONENT24\n                    : this.WEBGL_depth_texture\n                        ? GL.DEPTH_COMPONENT\n                        : GL.DEPTH_COMPONENT16;\n            default:\n                throw new Error('whoops');\n        }\n    };\n    Device_GL.prototype.translateTextureType = function (fmt) {\n        var typeFlags = getFormatTypeFlags(fmt);\n        switch (typeFlags) {\n            case FormatTypeFlags.U8:\n                return GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.U16:\n                return GL.UNSIGNED_SHORT;\n            case FormatTypeFlags.U32:\n                return GL.UNSIGNED_INT;\n            case FormatTypeFlags.S8:\n                return GL.BYTE;\n            case FormatTypeFlags.F16:\n                return GL.HALF_FLOAT;\n            case FormatTypeFlags.F32:\n                return GL.FLOAT;\n            case FormatTypeFlags.U16_PACKED_5551:\n                return GL.UNSIGNED_SHORT_5_5_5_1;\n            case FormatTypeFlags.D32F:\n                return isWebGL2(this.gl)\n                    ? GL.FLOAT\n                    : this.WEBGL_depth_texture\n                        ? GL.UNSIGNED_INT\n                        : GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.D24:\n                return isWebGL2(this.gl)\n                    ? GL.UNSIGNED_INT_24_8\n                    : this.WEBGL_depth_texture\n                        ? GL.UNSIGNED_SHORT\n                        : GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.D24S8:\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n                return isWebGL2(this.gl)\n                    ? GL.UNSIGNED_INT_24_8\n                    : this.WEBGL_depth_texture\n                        ? GL.UNSIGNED_INT_24_8_WEBGL\n                        : GL.UNSIGNED_BYTE;\n            case FormatTypeFlags.D32FS8:\n                return GL.FLOAT_32_UNSIGNED_INT_24_8_REV;\n            default:\n                throw new Error('whoops');\n        }\n    };\n    /**\n     * Only works in WebGL2\n     * @see https://webgl2fundamentals.org/webgl/lessons/webgl-data-textures.html\n     */\n    Device_GL.prototype.translateInternalTextureFormat = function (fmt) {\n        switch (fmt) {\n            case Format.F32_R:\n                return GL.R32F;\n            case Format.F32_RG:\n                return GL.RG32F;\n            case Format.F32_RGB:\n                return GL.RGB32F;\n            case Format.F32_RGBA:\n                return GL.RGBA32F;\n            case Format.F16_R:\n                return GL.R16F;\n            case Format.F16_RG:\n                return GL.RG16F;\n            case Format.F16_RGB:\n                return GL.RGB16F;\n            case Format.F16_RGBA:\n                return GL.RGBA16F;\n        }\n        return this.translateTextureFormat(fmt);\n    };\n    Device_GL.prototype.translateTextureFormat = function (fmt) {\n        if (isTextureFormatCompressed(fmt) ||\n            fmt === Format.F32_LUMINANCE ||\n            fmt === Format.U8_LUMINANCE) {\n            return this.translateTextureInternalFormat(fmt);\n        }\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/WEBGL_depth_texture\n        var supportDepthTexture = isWebGL2(this.gl) || (!isWebGL2(this.gl) && !!this.WEBGL_depth_texture);\n        switch (fmt) {\n            case Format.D24_S8:\n            case Format.D32F_S8:\n                return supportDepthTexture ? GL.DEPTH_STENCIL : GL.RGBA;\n            case Format.D24:\n            case Format.D32F:\n                return supportDepthTexture ? GL.DEPTH_COMPONENT : GL.RGBA;\n        }\n        var isInteger = isFormatSizedInteger(fmt);\n        var compFlags = getFormatCompFlags(fmt);\n        switch (compFlags) {\n            case FormatCompFlags.A:\n                return GL.ALPHA;\n            case FormatCompFlags.R:\n                return isInteger ? GL.RED_INTEGER : GL.RED;\n            case FormatCompFlags.RG:\n                return isInteger ? GL.RG_INTEGER : GL.RG;\n            case FormatCompFlags.RGB:\n                return isInteger ? GL.RGB_INTEGER : GL.RGB;\n            case FormatCompFlags.RGBA:\n                // TODO: Chrome throw error when readPixels RGBA_INTEGER and UNSIGNED_BYTE\n                // @see https://github.com/KhronosGroup/WebGL/issues/2747\n                // return isInteger ? GL.RGBA_INTEGER : GL.RGBA;\n                return GL.RGBA;\n        }\n    };\n    Device_GL.prototype.setActiveTexture = function (texture) {\n        if (this.currentActiveTexture !== texture) {\n            this.gl.activeTexture(texture);\n            this.currentActiveTexture = texture;\n        }\n    };\n    Device_GL.prototype.bindVAO = function (vao) {\n        if (this.currentBoundVAO !== vao) {\n            if (isWebGL2(this.gl)) {\n                this.gl.bindVertexArray(vao);\n            }\n            else {\n                this.OES_vertex_array_object.bindVertexArrayOES(vao);\n            }\n            this.currentBoundVAO = vao;\n        }\n    };\n    Device_GL.prototype.programCompiled = function (program) {\n        assert(program.compileState !== ProgramCompileState_GL.NeedsCompile);\n        if (program.compileState === ProgramCompileState_GL.Compiling) {\n            program.compileState = ProgramCompileState_GL.NeedsBind;\n            if (this.shaderDebug) {\n                this.checkProgramCompilationForErrors(program);\n            }\n        }\n    };\n    Device_GL.prototype.useProgram = function (program) {\n        if (this.currentProgram === program)\n            return;\n        this.programCompiled(program);\n        this.gl.useProgram(program.gl_program);\n        this.currentProgram = program;\n    };\n    Device_GL.prototype.ensureResourceExists = function (resource) {\n        if (resource === null) {\n            var error = this.gl.getError();\n            throw new Error(\"Created resource is null; GL error encountered: \".concat(error));\n        }\n        else {\n            return resource;\n        }\n    };\n    Device_GL.prototype.createBuffer = function (descriptor) {\n        return new Buffer_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createTexture = function (descriptor) {\n        return new Texture_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createSampler = function (descriptor) {\n        return new Sampler_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createRenderTarget = function (descriptor) {\n        return new RenderTarget_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createRenderTargetFromTexture = function (texture) {\n        var _a = texture, format = _a.format, width = _a.width, height = _a.height, mipLevelCount = _a.mipLevelCount;\n        // Render targets cannot have a mip chain currently.\n        assert(mipLevelCount === 1);\n        return this.createRenderTarget({\n            format: format,\n            width: width,\n            height: height,\n            sampleCount: 1,\n            texture: texture,\n        });\n    };\n    Device_GL.prototype.createProgram = function (descriptor) {\n        var _a, _b, _c;\n        var rawVertexGLSL = (_a = descriptor.vertex) === null || _a === void 0 ? void 0 : _a.glsl;\n        // preprocess GLSL first\n        if ((_b = descriptor.vertex) === null || _b === void 0 ? void 0 : _b.glsl) {\n            descriptor.vertex.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'vert', descriptor.vertex.glsl);\n        }\n        if ((_c = descriptor.fragment) === null || _c === void 0 ? void 0 : _c.glsl) {\n            descriptor.fragment.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'frag', descriptor.fragment.glsl);\n        }\n        return this.createProgramSimple(descriptor, rawVertexGLSL);\n    };\n    Device_GL.prototype.createProgramSimple = function (descriptor, rawVertexGLSL) {\n        var program = new Program_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        }, rawVertexGLSL);\n        return program;\n    };\n    Device_GL.prototype.createBindings = function (descriptor) {\n        return new Bindings_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createInputLayout = function (descriptor) {\n        return new InputLayout_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createRenderPipeline = function (descriptor) {\n        return new RenderPipeline_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createComputePass = function () {\n        return new ComputePass_GL();\n    };\n    Device_GL.prototype.createComputePipeline = function (descriptor) {\n        return new ComputePipeline_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_GL.prototype.createReadback = function () {\n        return new Readback_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n        });\n    };\n    Device_GL.prototype.createQueryPool = function (type, elemCount) {\n        return new QueryPool_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                type: type,\n                elemCount: elemCount,\n            },\n        });\n    };\n    Device_GL.prototype.formatRenderPassDescriptor = function (descriptor) {\n        var _a, _b, _c, _d, _e, _f;\n        var colorAttachment = descriptor.colorAttachment;\n        descriptor.depthClearValue = (_a = descriptor.depthClearValue) !== null && _a !== void 0 ? _a : 'load';\n        descriptor.stencilClearValue = (_b = descriptor.stencilClearValue) !== null && _b !== void 0 ? _b : 'load';\n        for (var i = 0; i < colorAttachment.length; i++) {\n            if (!descriptor.colorAttachmentLevel) {\n                descriptor.colorAttachmentLevel = [];\n            }\n            descriptor.colorAttachmentLevel[i] =\n                (_c = descriptor.colorAttachmentLevel[i]) !== null && _c !== void 0 ? _c : 0;\n            if (!descriptor.colorResolveToLevel) {\n                descriptor.colorResolveToLevel = [];\n            }\n            descriptor.colorResolveToLevel[i] =\n                (_d = descriptor.colorResolveToLevel[i]) !== null && _d !== void 0 ? _d : 0;\n            if (!descriptor.colorClearColor) {\n                descriptor.colorClearColor = [];\n            }\n            descriptor.colorClearColor[i] = (_e = descriptor.colorClearColor[i]) !== null && _e !== void 0 ? _e : 'load';\n            if (!descriptor.colorStore) {\n                descriptor.colorStore = [];\n            }\n            descriptor.colorStore[i] = (_f = descriptor.colorStore[i]) !== null && _f !== void 0 ? _f : false;\n        }\n    };\n    Device_GL.prototype.createRenderBundle = function () {\n        return new RenderBundle_GL({\n            id: this.getNextUniqueId(),\n            device: this,\n        });\n    };\n    Device_GL.prototype.beginBundle = function (bundle) {\n        this.renderBundle = bundle;\n    };\n    Device_GL.prototype.endBundle = function () {\n        this.renderBundle = undefined;\n    };\n    Device_GL.prototype.executeBundles = function (renderBundles) {\n        renderBundles.forEach(function (renderBundle) {\n            renderBundle.replay();\n        });\n    };\n    Device_GL.prototype.createRenderPass = function (descriptor) {\n        if (this.currentRenderPassDescriptor !== null) {\n            // Save current renderpass descriptor.\n            this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor);\n        }\n        this.currentRenderPassDescriptor = descriptor;\n        // Format renderpass descriptor\n        this.formatRenderPassDescriptor(descriptor);\n        var colorAttachment = descriptor.colorAttachment, colorAttachmentLevel = descriptor.colorAttachmentLevel, colorClearColor = descriptor.colorClearColor, colorResolveTo = descriptor.colorResolveTo, colorResolveToLevel = descriptor.colorResolveToLevel, depthStencilAttachment = descriptor.depthStencilAttachment, depthClearValue = descriptor.depthClearValue, stencilClearValue = descriptor.stencilClearValue, depthStencilResolveTo = descriptor.depthStencilResolveTo;\n        var skipBlit = colorResolveTo &&\n            colorResolveTo.length === 1 &&\n            colorResolveTo[0] === this.scTexture;\n        this.setRenderPassParametersBegin(colorAttachment.length, skipBlit);\n        for (var i = 0; i < colorAttachment.length; i++) {\n            this.setRenderPassParametersColor(i, colorAttachment[i], colorAttachmentLevel[i], colorResolveTo[i], colorResolveToLevel[i], skipBlit);\n        }\n        this.setRenderPassParametersDepthStencil(depthStencilAttachment, depthStencilResolveTo, skipBlit);\n        this.validateCurrentAttachments();\n        for (var i = 0; i < colorAttachment.length; i++) {\n            var clearColor = colorClearColor[i];\n            if (clearColor === 'load')\n                continue;\n            this.setRenderPassParametersClearColor(i, clearColor.r, clearColor.g, clearColor.b, clearColor.a);\n        }\n        this.setRenderPassParametersClearDepthStencil(depthClearValue, stencilClearValue);\n        return this;\n    };\n    Device_GL.prototype.submitPass = function (pass) {\n        assert(this.currentRenderPassDescriptor !== null);\n        this.endPass();\n        if (this.currentRenderPassDescriptorStack.length) {\n            // Restore previous renderpass descriptor.\n            this.currentRenderPassDescriptor =\n                this.currentRenderPassDescriptorStack.pop();\n        }\n        else {\n            this.currentRenderPassDescriptor = null;\n        }\n    };\n    Device_GL.prototype.copySubTexture2D = function (dst_, dstX, dstY, src_, srcX, srcY) {\n        var gl = this.gl;\n        var dst = dst_;\n        var src = src_;\n        assert(src.mipLevelCount === 1);\n        assert(dst.mipLevelCount === 1);\n        if (isWebGL2(gl)) {\n            if (dst === this.scTexture) {\n                gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.scPlatformFramebuffer);\n            }\n            else {\n                gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, this.resolveColorDrawFramebuffer);\n                this.bindFramebufferAttachment(gl.DRAW_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, dst, 0);\n            }\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.resolveColorReadFramebuffer);\n            this.bindFramebufferAttachment(gl.READ_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, src, 0);\n            gl.blitFramebuffer(srcX, srcY, srcX + src.width, srcY + src.height, dstX, dstY, dstX + src.width, dstY + src.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n        }\n        else {\n            if (dst === this.scTexture) {\n                var rt = this.createRenderTargetFromTexture(src_);\n                this.submitBlitRenderPass(rt, dst);\n            }\n        }\n    };\n    Device_GL.prototype.queryLimits = function () {\n        return this;\n    };\n    Device_GL.prototype.queryTextureFormatSupported = function (format, width, height) {\n        switch (format) {\n            case Format.BC1_SRGB:\n            case Format.BC2_SRGB:\n            case Format.BC3_SRGB:\n                if (this.WEBGL_compressed_texture_s3tc_srgb !== null)\n                    return isBlockCompressSized(width, height, 4, 4);\n                return false;\n            case Format.BC1:\n            case Format.BC2:\n            case Format.BC3:\n                if (this.WEBGL_compressed_texture_s3tc !== null)\n                    return isBlockCompressSized(width, height, 4, 4);\n                return false;\n            case Format.BC4_UNORM:\n            case Format.BC4_SNORM:\n            case Format.BC5_UNORM:\n            case Format.BC5_SNORM:\n                if (this.EXT_texture_compression_rgtc !== null)\n                    return isBlockCompressSized(width, height, 4, 4);\n                return false;\n            case Format.U16_R_NORM:\n            case Format.U16_RG_NORM:\n            case Format.U16_RGBA_NORM:\n                return this.EXT_texture_norm16 !== null;\n            case Format.F32_R:\n            case Format.F32_RG:\n            case Format.F32_RGB:\n            case Format.F32_RGBA:\n                return this.OES_texture_float_linear !== null;\n            case Format.F16_R:\n            case Format.F16_RG:\n            case Format.F16_RGB:\n            case Format.F16_RGBA:\n                return this.OES_texture_half_float_linear !== null;\n            default:\n                return true;\n        }\n    };\n    Device_GL.prototype.queryProgramReady = function (program) {\n        var gl = this.gl;\n        if (program.compileState === ProgramCompileState_GL.NeedsCompile) {\n            // This should not happen.\n            throw new Error('whoops');\n        }\n        if (program.compileState === ProgramCompileState_GL.Compiling) {\n            var complete = void 0;\n            if (this.KHR_parallel_shader_compile !== null) {\n                complete = gl.getProgramParameter(program.gl_program, this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR);\n            }\n            else {\n                // If we don't have async shader compilation, assume all compilation is done immediately :/\n                complete = true;\n            }\n            if (complete) {\n                this.programCompiled(program);\n            }\n            return complete;\n        }\n        return (program.compileState === ProgramCompileState_GL.NeedsBind ||\n            program.compileState === ProgramCompileState_GL.ReadyToUse);\n    };\n    Device_GL.prototype.queryPlatformAvailable = function () {\n        return this.gl.isContextLost();\n    };\n    Device_GL.prototype.queryVendorInfo = function () {\n        return this;\n    };\n    Device_GL.prototype.queryRenderPass = function (o) {\n        return this.currentRenderPassDescriptor;\n    };\n    Device_GL.prototype.queryRenderTarget = function (o) {\n        var renderTarget = o;\n        return renderTarget;\n    };\n    //#endregion\n    //#region Debugging\n    Device_GL.prototype.setResourceName = function (o, name) {\n        o.name = name;\n        if (o.type === ResourceType.Buffer) {\n            var gl_buffer_pages = o.gl_buffer_pages;\n            for (var i = 0; i < gl_buffer_pages.length; i++)\n                assignPlatformName(gl_buffer_pages[i], \"\".concat(name, \" Page \").concat(i));\n        }\n        else if (o.type === ResourceType.Texture) {\n            assignPlatformName(getPlatformTexture(o), name);\n        }\n        else if (o.type === ResourceType.Sampler) {\n            assignPlatformName(getPlatformSampler$1(o), name);\n        }\n        else if (o.type === ResourceType.RenderTarget) {\n            var gl_renderbuffer = o.gl_renderbuffer;\n            if (gl_renderbuffer !== null)\n                assignPlatformName(gl_renderbuffer, name);\n        }\n        else if (o.type === ResourceType.InputLayout) {\n            assignPlatformName(o.vao, name);\n        }\n    };\n    Device_GL.prototype.setResourceLeakCheck = function (o, v) {\n        if (this.resourceCreationTracker !== null)\n            this.resourceCreationTracker.setResourceLeakCheck(o, v);\n    };\n    Device_GL.prototype.checkForLeaks = function () {\n        if (this.resourceCreationTracker !== null)\n            this.resourceCreationTracker.checkForLeaks();\n    };\n    Device_GL.prototype.pushDebugGroup = function (name) { };\n    Device_GL.prototype.popDebugGroup = function () { };\n    Device_GL.prototype.insertDebugMarker = function (markerLabel) { };\n    // pushDebugGroup(debugGroup: DebugGroup): void {\n    //   this.debugGroupStack.push(debugGroup);\n    // }\n    // popDebugGroup(): void {\n    //   this.debugGroupStack.pop();\n    // }\n    Device_GL.prototype.programPatched = function (o, descriptor) {\n        assert(this.shaderDebug);\n        // const program = o as Program_GL;\n        // const gl = this.gl;\n        // gl.deleteProgram(program.gl_program);\n        // program.descriptor = descriptor;\n        // program.gl_program = this.ensureResourceExists(gl.createProgram());\n        // program.compileState = ProgramCompileState_GL.NeedsCompile;\n        // this.tryCompileProgram(program);\n        // this.checkProgramCompilationForErrors(program);\n    };\n    Device_GL.prototype.getBufferData = function (buffer, dstBuffer, wordOffset) {\n        if (wordOffset === void 0) { wordOffset = 0; }\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            gl.bindBuffer(gl.COPY_READ_BUFFER, getPlatformBuffer$1(buffer, wordOffset * 4));\n            gl.getBufferSubData(gl.COPY_READ_BUFFER, wordOffset * 4, dstBuffer);\n        }\n    };\n    //#endregion\n    Device_GL.prototype.debugGroupStatisticsDrawCall = function (count) {\n        if (count === void 0) { count = 1; }\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].drawCallCount += count;\n    };\n    Device_GL.prototype.debugGroupStatisticsBufferUpload = function (count) {\n        if (count === void 0) { count = 1; }\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].bufferUploadCount += count;\n    };\n    Device_GL.prototype.debugGroupStatisticsTextureBind = function (count) {\n        if (count === void 0) { count = 1; }\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].textureBindCount += count;\n    };\n    Device_GL.prototype.debugGroupStatisticsTriangles = function (count) {\n        for (var i = this.debugGroupStack.length - 1; i >= 0; i--)\n            this.debugGroupStack[i].triangleCount += count;\n    };\n    Device_GL.prototype.reportShaderError = function (shader, str) {\n        var gl = this.gl;\n        var status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n        if (!status) {\n            console.error(prependLineNo(str));\n            var debug_shaders = gl.getExtension('WEBGL_debug_shaders');\n            if (debug_shaders)\n                console.error(debug_shaders.getTranslatedShaderSource(shader));\n            console.error(gl.getShaderInfoLog(shader));\n        }\n        return status;\n    };\n    Device_GL.prototype.checkProgramCompilationForErrors = function (program) {\n        var gl = this.gl;\n        var prog = program.gl_program;\n        if (!gl.getProgramParameter(prog, gl.LINK_STATUS)) {\n            var descriptor = program.descriptor;\n            if (!this.reportShaderError(program.gl_shader_vert, descriptor.vertex.glsl))\n                return;\n            if (!this.reportShaderError(program.gl_shader_frag, descriptor.fragment.glsl))\n                return;\n            // Neither shader had an error, report the program info log.\n            console.error(gl.getProgramInfoLog(program.gl_program));\n        }\n    };\n    Device_GL.prototype.bindFramebufferAttachment = function (framebuffer, binding, attachment, level) {\n        var gl = this.gl;\n        if (isNil(attachment)) {\n            gl.framebufferRenderbuffer(framebuffer, binding, gl.RENDERBUFFER, null);\n        }\n        else if (attachment.type === ResourceType.RenderTarget) {\n            if (attachment.gl_renderbuffer !== null) {\n                gl.framebufferRenderbuffer(framebuffer, binding, gl.RENDERBUFFER, attachment.gl_renderbuffer);\n            }\n            else if (attachment.texture !== null) {\n                gl.framebufferTexture2D(framebuffer, binding, GL.TEXTURE_2D, getPlatformTexture(attachment.texture), level);\n            }\n        }\n        else if (attachment.type === ResourceType.Texture) {\n            var texture = getPlatformTexture(attachment);\n            if (attachment.dimension === TextureDimension.TEXTURE_2D) {\n                gl.framebufferTexture2D(framebuffer, binding, GL.TEXTURE_2D, texture, level);\n            }\n            else if (isWebGL2(gl) &&\n                attachment.dimension === TextureDimension.TEXTURE_2D_ARRAY) ;\n        }\n    };\n    Device_GL.prototype.bindFramebufferDepthStencilAttachment = function (framebuffer, attachment) {\n        var gl = this.gl;\n        var flags = !isNil(attachment)\n            ? getFormatFlags(attachment.format)\n            : FormatFlags.Depth | FormatFlags.Stencil;\n        var depth = !!(flags & FormatFlags.Depth);\n        var stencil = !!(flags & FormatFlags.Stencil);\n        if (depth && stencil) {\n            var supportDepthTexture = isWebGL2(this.gl) || (!isWebGL2(this.gl) && !!this.WEBGL_depth_texture);\n            if (supportDepthTexture) {\n                this.bindFramebufferAttachment(framebuffer, gl.DEPTH_STENCIL_ATTACHMENT, attachment, 0);\n            }\n            else {\n                this.bindFramebufferAttachment(framebuffer, gl.DEPTH_ATTACHMENT, attachment, 0);\n            }\n        }\n        else if (depth) {\n            this.bindFramebufferAttachment(framebuffer, gl.DEPTH_ATTACHMENT, attachment, 0);\n            this.bindFramebufferAttachment(framebuffer, gl.STENCIL_ATTACHMENT, null, 0);\n        }\n        else if (stencil) {\n            this.bindFramebufferAttachment(framebuffer, gl.STENCIL_ATTACHMENT, attachment, 0);\n            this.bindFramebufferAttachment(framebuffer, gl.DEPTH_ATTACHMENT, null, 0);\n        }\n    };\n    Device_GL.prototype.validateCurrentAttachments = function () {\n        var sampleCount = -1, width = -1, height = -1;\n        for (var i = 0; i < this.currentColorAttachments.length; i++) {\n            var attachment = this.currentColorAttachments[i];\n            if (attachment === null)\n                continue;\n            if (sampleCount === -1) {\n                sampleCount = attachment.sampleCount;\n                width = attachment.width;\n                height = attachment.height;\n            }\n            else {\n                assert(sampleCount === attachment.sampleCount);\n                assert(width === attachment.width);\n                assert(height === attachment.height);\n            }\n        }\n        if (this.currentDepthStencilAttachment) {\n            if (sampleCount === -1) {\n                sampleCount = this.currentDepthStencilAttachment.sampleCount;\n            }\n            else {\n                assert(sampleCount === this.currentDepthStencilAttachment.sampleCount);\n                assert(width === this.currentDepthStencilAttachment.width);\n                assert(height === this.currentDepthStencilAttachment.height);\n            }\n        }\n        this.currentSampleCount = sampleCount;\n    };\n    Device_GL.prototype.setRenderPassParametersBegin = function (numColorAttachments, toScreen) {\n        if (toScreen === void 0) { toScreen = false; }\n        var gl = this.gl;\n        if (!toScreen) {\n            if (isWebGL2(gl)) {\n                gl.bindFramebuffer(GL.DRAW_FRAMEBUFFER, this.renderPassDrawFramebuffer);\n            }\n            else {\n                if (!this.inBlitRenderPass) {\n                    gl.bindFramebuffer(GL.FRAMEBUFFER, this.renderPassDrawFramebuffer);\n                }\n            }\n            if (isWebGL2(gl)) {\n                gl.drawBuffers([\n                    GL.COLOR_ATTACHMENT0,\n                    GL.COLOR_ATTACHMENT1,\n                    GL.COLOR_ATTACHMENT2,\n                    GL.COLOR_ATTACHMENT3,\n                ]);\n            }\n            else {\n                if (!this.inBlitRenderPass && this.WEBGL_draw_buffers) {\n                    // MRT @see https://github.com/shrekshao/MoveWebGL1EngineToWebGL2/blob/master/Move-a-WebGL-1-Engine-To-WebGL-2-Blog-1.md#multiple-render-targets\n                    this.WEBGL_draw_buffers.drawBuffersWEBGL([\n                        GL.COLOR_ATTACHMENT0_WEBGL,\n                        GL.COLOR_ATTACHMENT1_WEBGL,\n                        GL.COLOR_ATTACHMENT2_WEBGL,\n                        GL.COLOR_ATTACHMENT3_WEBGL, // gl_FragData[3]\n                    ]);\n                }\n            }\n            if (!this.inBlitRenderPass) {\n                for (var i = numColorAttachments; i < this.currentColorAttachments.length; i++) {\n                    var target = isWebGL2(gl) ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER;\n                    var attachment = isWebGL2(gl)\n                        ? GL.COLOR_ATTACHMENT0\n                        : GL.COLOR_ATTACHMENT0_WEBGL;\n                    gl.framebufferRenderbuffer(target, attachment + i, GL.RENDERBUFFER, null);\n                    gl.framebufferTexture2D(target, attachment + i, GL.TEXTURE_2D, null, 0);\n                }\n            }\n        }\n        this.currentColorAttachments.length = numColorAttachments;\n    };\n    Device_GL.prototype.setRenderPassParametersColor = function (i, colorAttachment, attachmentLevel, colorResolveTo, resolveToLevel, skipBlit) {\n        if (skipBlit === void 0) { skipBlit = false; }\n        var gl = this.gl;\n        var gl2 = isWebGL2(gl);\n        if (this.currentColorAttachments[i] !== colorAttachment ||\n            this.currentColorAttachmentLevels[i] !== attachmentLevel) {\n            this.currentColorAttachments[i] = colorAttachment;\n            this.currentColorAttachmentLevels[i] = attachmentLevel;\n            if (!skipBlit && (gl2 || (!gl2 && this.WEBGL_draw_buffers))) {\n                this.bindFramebufferAttachment(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, (gl2 ? GL.COLOR_ATTACHMENT0 : GL.COLOR_ATTACHMENT0_WEBGL) + i, colorAttachment, attachmentLevel);\n            }\n            this.resolveColorAttachmentsChanged = true;\n        }\n        if (this.currentColorResolveTos[i] !== colorResolveTo ||\n            this.currentColorResolveToLevels[i] !== resolveToLevel) {\n            this.currentColorResolveTos[i] = colorResolveTo;\n            this.currentColorResolveToLevels[i] = resolveToLevel;\n            if (colorResolveTo !== null) {\n                this.resolveColorAttachmentsChanged = true;\n            }\n        }\n    };\n    Device_GL.prototype.setRenderPassParametersDepthStencil = function (depthStencilAttachment, depthStencilResolveTo, skipBlit) {\n        if (skipBlit === void 0) { skipBlit = false; }\n        var gl = this.gl;\n        if (this.currentDepthStencilAttachment !== depthStencilAttachment) {\n            this.currentDepthStencilAttachment =\n                depthStencilAttachment;\n            if (!skipBlit && !this.inBlitRenderPass) {\n                this.bindFramebufferDepthStencilAttachment(isWebGL2(gl) ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.currentDepthStencilAttachment);\n            }\n            this.resolveDepthStencilAttachmentsChanged = true;\n        }\n        if (this.currentDepthStencilResolveTo !== depthStencilResolveTo) {\n            this.currentDepthStencilResolveTo = depthStencilResolveTo;\n            if (depthStencilResolveTo) {\n                this.resolveDepthStencilAttachmentsChanged = true;\n            }\n        }\n    };\n    Device_GL.prototype.setRenderPassParametersClearColor = function (slot, r, g, b, a) {\n        var gl = this.gl;\n        if (this.OES_draw_buffers_indexed !== null) {\n            var attachment = this.currentMegaState.attachmentsState[slot];\n            if (attachment && attachment.channelWriteMask !== ChannelWriteMask.ALL) {\n                this.OES_draw_buffers_indexed.colorMaskiOES(slot, true, true, true, true);\n                attachment.channelWriteMask = ChannelWriteMask.ALL;\n            }\n        }\n        else {\n            var attachment = this.currentMegaState.attachmentsState[0];\n            if (attachment && attachment.channelWriteMask !== ChannelWriteMask.ALL) {\n                gl.colorMask(true, true, true, true);\n                attachment.channelWriteMask = ChannelWriteMask.ALL;\n            }\n        }\n        this.setScissorRectEnabled(false);\n        if (isWebGL2(gl)) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/clearBuffer\n            gl.clearBufferfv(gl.COLOR, slot, [r, g, b, a]);\n        }\n        else {\n            gl.clearColor(r, g, b, a);\n            gl.clear(gl.COLOR_BUFFER_BIT);\n        }\n    };\n    Device_GL.prototype.setRenderPassParametersClearDepthStencil = function (depthClearValue, stencilClearValue) {\n        if (depthClearValue === void 0) { depthClearValue = 'load'; }\n        if (stencilClearValue === void 0) { stencilClearValue = 'load'; }\n        var gl = this.gl;\n        if (depthClearValue !== 'load') {\n            assert(!!this.currentDepthStencilAttachment);\n            // GL clears obey the masks... bad API or worst API?\n            if (!this.currentMegaState.depthWrite) {\n                gl.depthMask(true);\n                this.currentMegaState.depthWrite = true;\n            }\n            if (isWebGL2(gl)) {\n                gl.clearBufferfv(gl.DEPTH, 0, [depthClearValue]);\n            }\n            else {\n                gl.clearDepth(depthClearValue);\n                gl.clear(gl.DEPTH_BUFFER_BIT);\n            }\n        }\n        if (stencilClearValue !== 'load') {\n            assert(!!this.currentDepthStencilAttachment);\n            if (!this.currentMegaState.stencilWrite) {\n                gl.enable(gl.STENCIL_TEST);\n                gl.stencilMask(0xff);\n                this.currentMegaState.stencilWrite = true;\n            }\n            if (isWebGL2(gl)) {\n                gl.clearBufferiv(gl.STENCIL, 0, [stencilClearValue]);\n            }\n            else {\n                gl.clearStencil(stencilClearValue);\n                gl.clear(gl.STENCIL_BUFFER_BIT);\n            }\n        }\n    };\n    Device_GL.prototype.setBindings = function (bindings_) {\n        var _this = this;\n        var _a;\n        if (this.renderBundle) {\n            this.renderBundle.push(function () { return _this.setBindings(bindings_); });\n            return;\n        }\n        var gl = this.gl;\n        var _b = bindings_, uniformBufferBindings = _b.uniformBufferBindings, samplerBindings = _b.samplerBindings, bindingLayouts = _b.bindingLayouts;\n        assert(0 < bindingLayouts.bindingLayoutTables.length);\n        var bindingLayoutTable = bindingLayouts.bindingLayoutTables[0];\n        // Ignore extra bindings.\n        assert(uniformBufferBindings.length >= bindingLayoutTable.numUniformBuffers);\n        assert(samplerBindings.length >= bindingLayoutTable.numSamplers);\n        for (var i = 0; i < uniformBufferBindings.length; i++) {\n            var binding = uniformBufferBindings[i];\n            if (binding.size === 0)\n                continue;\n            var index = bindingLayoutTable.firstUniformBuffer + i;\n            var buffer = binding.buffer;\n            var byteOffset = binding.offset || 0;\n            var byteSize = binding.size || buffer.byteSize;\n            if (buffer !== this.currentUniformBuffers[index] ||\n                byteOffset !== this.currentUniformBufferByteOffsets[index] ||\n                byteSize !== this.currentUniformBufferByteSizes[index]) {\n                var platformBufferByteOffset = byteOffset % buffer.pageByteSize;\n                var platformBuffer = buffer.gl_buffer_pages[(byteOffset / buffer.pageByteSize) | 0];\n                assert(platformBufferByteOffset + byteSize <= buffer.pageByteSize);\n                if (isWebGL2(gl)) {\n                    gl.bindBufferRange(gl.UNIFORM_BUFFER, index, platformBuffer, platformBufferByteOffset, byteSize);\n                }\n                this.currentUniformBuffers[index] = buffer;\n                this.currentUniformBufferByteOffsets[index] = byteOffset;\n                this.currentUniformBufferByteSizes[index] = byteSize;\n            }\n        }\n        for (var i = 0; i < bindingLayoutTable.numSamplers; i++) {\n            var binding = samplerBindings[i];\n            var samplerIndex = bindingLayoutTable.firstSampler + i;\n            var gl_sampler = binding !== null && binding.sampler !== null\n                ? getPlatformSampler$1(binding.sampler)\n                : null;\n            var gl_texture = binding !== null && binding.texture !== null\n                ? getPlatformTexture(binding.texture)\n                : null;\n            if (this.currentSamplers[samplerIndex] !== gl_sampler) {\n                if (isWebGL2(gl)) {\n                    gl.bindSampler(samplerIndex, gl_sampler);\n                }\n                this.currentSamplers[samplerIndex] = gl_sampler;\n            }\n            if (this.currentTextures[samplerIndex] !== gl_texture) {\n                this.setActiveTexture(gl.TEXTURE0 + samplerIndex);\n                if (gl_texture !== null) {\n                    var _c = assertExists(binding)\n                        .texture, gl_target = _c.gl_target, width = _c.width, height = _c.height;\n                    // update index\n                    binding.texture.textureIndex = samplerIndex;\n                    gl.bindTexture(gl_target, gl_texture);\n                    // In WebGL1 set tex's parameters @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/texParameter\n                    if (!isWebGL2(gl)) {\n                        (_a = binding.sampler) === null || _a === void 0 ? void 0 : _a.setTextureParameters(gl_target, width, height);\n                    }\n                    this.debugGroupStatisticsTextureBind();\n                }\n                else {\n                    var samplerEntry = __assign(__assign({}, binding), defaultBindingLayoutSamplerDescriptor);\n                    var dimension = samplerEntry.dimension, formatKind = samplerEntry.formatKind;\n                    var gl_target = translateTextureDimension$1(dimension);\n                    gl.bindTexture(gl_target, this.getFallbackTexture(__assign({ gl_target: gl_target, formatKind: formatKind }, samplerEntry)));\n                }\n                this.currentTextures[samplerIndex] = gl_texture;\n            }\n        }\n    };\n    Device_GL.prototype.setViewport = function (x, y, w, h) {\n        var gl = this.gl;\n        gl.viewport(x, y, w, h);\n    };\n    Device_GL.prototype.setScissorRect = function (x, y, w, h) {\n        var gl = this.gl;\n        this.setScissorRectEnabled(true);\n        gl.scissor(x, y, w, h);\n    };\n    Device_GL.prototype.applyAttachmentStateIndexed = function (i, currentAttachmentState, newAttachmentState) {\n        var gl = this.gl;\n        var dbi = this.OES_draw_buffers_indexed;\n        if (currentAttachmentState.channelWriteMask !==\n            newAttachmentState.channelWriteMask) {\n            dbi.colorMaskiOES(i, !!(newAttachmentState.channelWriteMask & ChannelWriteMask.RED), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.GREEN), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.BLUE), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.ALPHA));\n            currentAttachmentState.channelWriteMask =\n                newAttachmentState.channelWriteMask;\n        }\n        var blendModeChanged = currentAttachmentState.rgbBlendState.blendMode !==\n            newAttachmentState.rgbBlendState.blendMode ||\n            currentAttachmentState.alphaBlendState.blendMode !==\n                newAttachmentState.alphaBlendState.blendMode;\n        var blendFuncChanged = currentAttachmentState.rgbBlendState.blendSrcFactor !==\n            newAttachmentState.rgbBlendState.blendSrcFactor ||\n            currentAttachmentState.alphaBlendState.blendSrcFactor !==\n                newAttachmentState.alphaBlendState.blendSrcFactor ||\n            currentAttachmentState.rgbBlendState.blendDstFactor !==\n                newAttachmentState.rgbBlendState.blendDstFactor ||\n            currentAttachmentState.alphaBlendState.blendDstFactor !==\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        if (blendFuncChanged || blendModeChanged) {\n            if (isBlendStateNone(currentAttachmentState.rgbBlendState) &&\n                isBlendStateNone(currentAttachmentState.alphaBlendState))\n                dbi.enableiOES(i, gl.BLEND);\n            else if (isBlendStateNone(newAttachmentState.rgbBlendState) &&\n                isBlendStateNone(newAttachmentState.alphaBlendState))\n                dbi.disableiOES(i, gl.BLEND);\n        }\n        if (blendModeChanged) {\n            dbi.blendEquationSeparateiOES(i, newAttachmentState.rgbBlendState.blendMode, newAttachmentState.alphaBlendState.blendMode);\n            currentAttachmentState.rgbBlendState.blendMode =\n                newAttachmentState.rgbBlendState.blendMode;\n            currentAttachmentState.alphaBlendState.blendMode =\n                newAttachmentState.alphaBlendState.blendMode;\n        }\n        if (blendFuncChanged) {\n            dbi.blendFuncSeparateiOES(i, newAttachmentState.rgbBlendState.blendSrcFactor, newAttachmentState.rgbBlendState.blendDstFactor, newAttachmentState.alphaBlendState.blendSrcFactor, newAttachmentState.alphaBlendState.blendDstFactor);\n            currentAttachmentState.rgbBlendState.blendSrcFactor =\n                newAttachmentState.rgbBlendState.blendSrcFactor;\n            currentAttachmentState.alphaBlendState.blendSrcFactor =\n                newAttachmentState.alphaBlendState.blendSrcFactor;\n            currentAttachmentState.rgbBlendState.blendDstFactor =\n                newAttachmentState.rgbBlendState.blendDstFactor;\n            currentAttachmentState.alphaBlendState.blendDstFactor =\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        }\n    };\n    Device_GL.prototype.applyAttachmentState = function (currentAttachmentState, newAttachmentState) {\n        var gl = this.gl;\n        if (currentAttachmentState.channelWriteMask !==\n            newAttachmentState.channelWriteMask) {\n            gl.colorMask(!!(newAttachmentState.channelWriteMask & ChannelWriteMask.RED), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.GREEN), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.BLUE), !!(newAttachmentState.channelWriteMask & ChannelWriteMask.ALPHA));\n            currentAttachmentState.channelWriteMask =\n                newAttachmentState.channelWriteMask;\n        }\n        var blendModeChanged = currentAttachmentState.rgbBlendState.blendMode !==\n            newAttachmentState.rgbBlendState.blendMode ||\n            currentAttachmentState.alphaBlendState.blendMode !==\n                newAttachmentState.alphaBlendState.blendMode;\n        var blendFuncChanged = currentAttachmentState.rgbBlendState.blendSrcFactor !==\n            newAttachmentState.rgbBlendState.blendSrcFactor ||\n            currentAttachmentState.alphaBlendState.blendSrcFactor !==\n                newAttachmentState.alphaBlendState.blendSrcFactor ||\n            currentAttachmentState.rgbBlendState.blendDstFactor !==\n                newAttachmentState.rgbBlendState.blendDstFactor ||\n            currentAttachmentState.alphaBlendState.blendDstFactor !==\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        if (blendFuncChanged || blendModeChanged) {\n            if (isBlendStateNone(currentAttachmentState.rgbBlendState) &&\n                isBlendStateNone(currentAttachmentState.alphaBlendState)) {\n                gl.enable(gl.BLEND);\n            }\n            else if (isBlendStateNone(newAttachmentState.rgbBlendState) &&\n                isBlendStateNone(newAttachmentState.alphaBlendState)) {\n                gl.disable(gl.BLEND);\n            }\n        }\n        if (blendModeChanged) {\n            gl.blendEquationSeparate(newAttachmentState.rgbBlendState.blendMode, newAttachmentState.alphaBlendState.blendMode);\n            currentAttachmentState.rgbBlendState.blendMode =\n                newAttachmentState.rgbBlendState.blendMode;\n            currentAttachmentState.alphaBlendState.blendMode =\n                newAttachmentState.alphaBlendState.blendMode;\n        }\n        if (blendFuncChanged) {\n            gl.blendFuncSeparate(newAttachmentState.rgbBlendState.blendSrcFactor, newAttachmentState.rgbBlendState.blendDstFactor, newAttachmentState.alphaBlendState.blendSrcFactor, newAttachmentState.alphaBlendState.blendDstFactor);\n            currentAttachmentState.rgbBlendState.blendSrcFactor =\n                newAttachmentState.rgbBlendState.blendSrcFactor;\n            currentAttachmentState.alphaBlendState.blendSrcFactor =\n                newAttachmentState.alphaBlendState.blendSrcFactor;\n            currentAttachmentState.rgbBlendState.blendDstFactor =\n                newAttachmentState.rgbBlendState.blendDstFactor;\n            currentAttachmentState.alphaBlendState.blendDstFactor =\n                newAttachmentState.alphaBlendState.blendDstFactor;\n        }\n    };\n    Device_GL.prototype.setMegaState = function (newMegaState) {\n        var gl = this.gl;\n        var currentMegaState = this.currentMegaState;\n        if (this.OES_draw_buffers_indexed !== null) {\n            for (var i = 0; i < newMegaState.attachmentsState.length; i++)\n                this.applyAttachmentStateIndexed(i, currentMegaState.attachmentsState[0], newMegaState.attachmentsState[0]);\n        }\n        else {\n            assert(newMegaState.attachmentsState.length === 1);\n            this.applyAttachmentState(currentMegaState.attachmentsState[0], newMegaState.attachmentsState[0]);\n        }\n        if (!colorEqual(currentMegaState.blendConstant, newMegaState.blendConstant)) {\n            gl.blendColor(newMegaState.blendConstant.r, newMegaState.blendConstant.g, newMegaState.blendConstant.b, newMegaState.blendConstant.a);\n            colorCopy(currentMegaState.blendConstant, newMegaState.blendConstant);\n        }\n        if (currentMegaState.depthCompare !== newMegaState.depthCompare) {\n            gl.depthFunc(newMegaState.depthCompare);\n            currentMegaState.depthCompare = newMegaState.depthCompare;\n        }\n        if (!!currentMegaState.depthWrite !== !!newMegaState.depthWrite) {\n            gl.depthMask(newMegaState.depthWrite);\n            currentMegaState.depthWrite = newMegaState.depthWrite;\n        }\n        if (!!currentMegaState.stencilWrite !== !!newMegaState.stencilWrite) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilMask\n            gl.stencilMask(newMegaState.stencilWrite ? 0xff : 0x00);\n            currentMegaState.stencilWrite = newMegaState.stencilWrite;\n        }\n        var shouldApplyStencil = false;\n        if (!stencilFaceStateEquals(currentMegaState.stencilFront, newMegaState.stencilFront)) {\n            shouldApplyStencil = true;\n            var _a = newMegaState.stencilFront, passOp = _a.passOp, failOp = _a.failOp, depthFailOp = _a.depthFailOp, compare = _a.compare;\n            if (currentMegaState.stencilFront.passOp !== passOp ||\n                currentMegaState.stencilFront.failOp !== failOp ||\n                currentMegaState.stencilFront.depthFailOp !== depthFailOp) {\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOpSeparate\n                gl.stencilOpSeparate(gl.FRONT, failOp, depthFailOp, passOp);\n                currentMegaState.stencilFront.passOp = passOp;\n                currentMegaState.stencilFront.failOp = failOp;\n                currentMegaState.stencilFront.depthFailOp = depthFailOp;\n            }\n            if (currentMegaState.stencilFront.compare !== compare) {\n                this.setStencilReference(0);\n                currentMegaState.stencilFront.compare = compare;\n            }\n        }\n        if (!stencilFaceStateEquals(currentMegaState.stencilBack, newMegaState.stencilBack)) {\n            shouldApplyStencil = true;\n            var _b = newMegaState.stencilBack, passOp = _b.passOp, failOp = _b.failOp, depthFailOp = _b.depthFailOp, compare = _b.compare;\n            if (currentMegaState.stencilBack.passOp !== passOp ||\n                currentMegaState.stencilBack.failOp !== failOp ||\n                currentMegaState.stencilBack.depthFailOp !== depthFailOp) {\n                // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/stencilOpSeparate\n                gl.stencilOpSeparate(gl.BACK, failOp, depthFailOp, passOp);\n                currentMegaState.stencilBack.passOp = passOp;\n                currentMegaState.stencilBack.failOp = failOp;\n                currentMegaState.stencilBack.depthFailOp = depthFailOp;\n            }\n            if (currentMegaState.stencilBack.compare !== compare) {\n                this.setStencilReference(0);\n                currentMegaState.stencilBack.compare = compare;\n            }\n        }\n        if (currentMegaState.stencilFront.mask !== newMegaState.stencilFront.mask ||\n            currentMegaState.stencilBack.mask !== newMegaState.stencilBack.mask) {\n            shouldApplyStencil = true;\n            currentMegaState.stencilFront.mask = newMegaState.stencilFront.mask;\n            currentMegaState.stencilBack.mask = newMegaState.stencilBack.mask;\n        }\n        if (shouldApplyStencil) {\n            this.applyStencil();\n        }\n        if (currentMegaState.cullMode !== newMegaState.cullMode) {\n            if (currentMegaState.cullMode === CullMode.NONE) {\n                gl.enable(gl.CULL_FACE);\n            }\n            else if (newMegaState.cullMode === CullMode.NONE) {\n                gl.disable(gl.CULL_FACE);\n            }\n            if (newMegaState.cullMode === CullMode.BACK) {\n                gl.cullFace(gl.BACK);\n            }\n            else if (newMegaState.cullMode === CullMode.FRONT) {\n                gl.cullFace(gl.FRONT);\n            }\n            else if (newMegaState.cullMode === CullMode.FRONT_AND_BACK) {\n                gl.cullFace(gl.FRONT_AND_BACK);\n            }\n            currentMegaState.cullMode = newMegaState.cullMode;\n        }\n        if (currentMegaState.frontFace !== newMegaState.frontFace) {\n            gl.frontFace(newMegaState.frontFace);\n            currentMegaState.frontFace = newMegaState.frontFace;\n        }\n        if (currentMegaState.polygonOffset !== newMegaState.polygonOffset) {\n            if (newMegaState.polygonOffset) {\n                gl.polygonOffset(1, 1);\n                gl.enable(gl.POLYGON_OFFSET_FILL);\n            }\n            else {\n                gl.disable(gl.POLYGON_OFFSET_FILL);\n            }\n            currentMegaState.polygonOffset = newMegaState.polygonOffset;\n        }\n    };\n    Device_GL.prototype.validatePipelineFormats = function (pipeline) {\n        for (var i = 0; i < this.currentColorAttachments.length; i++) {\n            var attachment = this.currentColorAttachments[i];\n            if (attachment === null)\n                continue;\n            // assert(attachment.format === pipeline.colorAttachmentFormats[i]);\n        }\n        if (this.currentDepthStencilAttachment) {\n            assert(this.currentDepthStencilAttachment.format ===\n                pipeline.depthStencilAttachmentFormat);\n        }\n        if (this.currentSampleCount !== -1) {\n            assert(this.currentSampleCount === pipeline.sampleCount);\n        }\n    };\n    Device_GL.prototype.setPipeline = function (o) {\n        var _this = this;\n        if (this.renderBundle) {\n            this.renderBundle.push(function () { return _this.setPipeline(o); });\n            return;\n        }\n        this.currentPipeline = o;\n        this.validatePipelineFormats(this.currentPipeline);\n        // We allow users to use \"non-ready\" pipelines for emergencies. In this case, there can be a bit of stuttering.\n        // assert(this.queryPipelineReady(this.currentPipeline));\n        this.setMegaState(this.currentPipeline.megaState);\n        var program = this.currentPipeline.program;\n        this.useProgram(program);\n        if (program.compileState === ProgramCompileState_GL.NeedsBind) {\n            var gl = this.gl;\n            var prog = program.gl_program;\n            var deviceProgram = program.descriptor;\n            var uniformBlocks = findall(deviceProgram.vertex.glsl, UNIFROM_BLOCK_REGEXP);\n            if (isWebGL2(gl)) {\n                for (var i = 0; i < uniformBlocks.length; i++) {\n                    var _a = __read(uniformBlocks[i], 2), blockName = _a[1];\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/getUniformBlockIndex\n                    var blockIdx = gl.getUniformBlockIndex(prog, blockName);\n                    if (blockIdx !== -1 && blockIdx !== 0xffffffff) {\n                        // @see https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/uniformBlockBinding\n                        gl.uniformBlockBinding(prog, blockIdx, i);\n                    }\n                }\n            }\n            var samplers = findall(deviceProgram.fragment.glsl, /^uniform .*sampler\\S+ (\\w+);\\s* \\/\\/ BINDING=(\\d+)$/gm);\n            for (var i = 0; i < samplers.length; i++) {\n                var _b = __read(samplers[i], 3), name_1 = _b[1], location_1 = _b[2];\n                var samplerUniformLocation = gl.getUniformLocation(prog, name_1);\n                gl.uniform1i(samplerUniformLocation, parseInt(location_1));\n            }\n            program.compileState = ProgramCompileState_GL.ReadyToUse;\n        }\n    };\n    Device_GL.prototype.setVertexInput = function (inputLayout_, vertexBuffers, indexBuffer) {\n        var e_1, _a;\n        var _this = this;\n        var _b;\n        if (this.renderBundle) {\n            this.renderBundle.push(function () {\n                return _this.setVertexInput(inputLayout_, vertexBuffers, indexBuffer);\n            });\n            return;\n        }\n        if (inputLayout_ !== null) {\n            assert(this.currentPipeline.inputLayout === inputLayout_);\n            var inputLayout = inputLayout_;\n            this.bindVAO(inputLayout.vao);\n            var gl = this.gl;\n            for (var i = 0; i < inputLayout.vertexBufferDescriptors.length; i++) {\n                var vertexBufferDescriptor = inputLayout.vertexBufferDescriptors[i];\n                var arrayStride = vertexBufferDescriptor.arrayStride, attributes = vertexBufferDescriptor.attributes;\n                try {\n                    for (var attributes_1 = (e_1 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                        var attribute = attributes_1_1.value;\n                        var shaderLocation = attribute.shaderLocation, offset = attribute.offset;\n                        // find location by name in WebGL1\n                        var location_2 = isWebGL2(gl)\n                            ? shaderLocation\n                            : (_b = inputLayout.program.attributes[shaderLocation]) === null || _b === void 0 ? void 0 : _b.location;\n                        if (!isNil(location_2)) {\n                            var vertexBuffer = vertexBuffers[i];\n                            if (vertexBuffer === null)\n                                continue;\n                            // @ts-ignore\n                            var format = attribute.vertexFormat;\n                            gl.bindBuffer(gl.ARRAY_BUFFER, getPlatformBuffer$1(vertexBuffer.buffer));\n                            var bufferOffset = (vertexBuffer.offset || 0) + offset;\n                            gl.vertexAttribPointer(location_2, format.size, format.type, format.normalized, arrayStride, bufferOffset);\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (attributes_1_1 && !attributes_1_1.done && (_a = attributes_1.return)) _a.call(attributes_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n            assert((indexBuffer !== null) === (inputLayout.indexBufferFormat !== null));\n            if (indexBuffer !== null) {\n                var buffer = indexBuffer.buffer;\n                assert(buffer.usage === BufferUsage.INDEX);\n                gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, getPlatformBuffer$1(buffer));\n                this.currentIndexBufferByteOffset = indexBuffer.offset || 0;\n            }\n            else {\n                this.currentIndexBufferByteOffset = null;\n            }\n        }\n        else {\n            assert(this.currentPipeline.inputLayout === null);\n            assert(indexBuffer === null);\n            this.bindVAO(null);\n            this.currentIndexBufferByteOffset = 0;\n        }\n    };\n    Device_GL.prototype.setStencilReference = function (value) {\n        if (this.currentStencilRef === value) {\n            return;\n        }\n        this.currentStencilRef = value;\n        this.applyStencil();\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-draw\n     */\n    Device_GL.prototype.draw = function (vertexCount, instanceCount, firstVertex, firstInstance) {\n        var _a;\n        var _this = this;\n        if (this.renderBundle) {\n            this.renderBundle.push(function () {\n                return _this.draw(vertexCount, instanceCount, firstVertex, firstInstance);\n            });\n            return;\n        }\n        var gl = this.gl;\n        var pipeline = this.currentPipeline;\n        if (instanceCount) {\n            var params = [\n                pipeline.drawMode,\n                firstVertex || 0,\n                vertexCount,\n                instanceCount,\n            ];\n            if (isWebGL2(gl)) {\n                gl.drawArraysInstanced.apply(gl, __spreadArray([], __read(params), false));\n            }\n            else {\n                (_a = this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(_a, __spreadArray([], __read(params), false));\n            }\n        }\n        else {\n            gl.drawArrays(pipeline.drawMode, firstVertex, vertexCount);\n        }\n        this.debugGroupStatisticsDrawCall();\n        this.debugGroupStatisticsTriangles((vertexCount / 3) * Math.max(instanceCount, 1));\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindexed\n     */\n    Device_GL.prototype.drawIndexed = function (indexCount, instanceCount, firstIndex, baseVertex, firstInstance) {\n        var _a;\n        var _this = this;\n        if (this.renderBundle) {\n            this.renderBundle.push(function () {\n                return _this.drawIndexed(indexCount, instanceCount, firstIndex, baseVertex, firstInstance);\n            });\n            return;\n        }\n        var gl = this.gl;\n        var pipeline = this.currentPipeline, inputLayout = assertExists(pipeline.inputLayout);\n        var byteOffset = assertExists(this.currentIndexBufferByteOffset) +\n            firstIndex * inputLayout.indexBufferCompByteSize;\n        if (instanceCount) {\n            var params = [\n                pipeline.drawMode,\n                indexCount,\n                inputLayout.indexBufferType,\n                byteOffset,\n                instanceCount,\n            ];\n            if (isWebGL2(gl)) {\n                gl.drawElementsInstanced.apply(gl, __spreadArray([], __read(params), false));\n            }\n            else {\n                (_a = this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(_a, __spreadArray([], __read(params), false));\n            }\n        }\n        else {\n            gl.drawElements(pipeline.drawMode, indexCount, inputLayout.indexBufferType, byteOffset);\n        }\n        this.debugGroupStatisticsDrawCall();\n        this.debugGroupStatisticsTriangles((indexCount / 3) * Math.max(instanceCount, 1));\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindirect\n     */\n    Device_GL.prototype.drawIndirect = function (indirectBuffer, indirectOffset) { };\n    Device_GL.prototype.drawIndexedIndirect = function (indirectBuffer, indirectOffset) { };\n    Device_GL.prototype.beginOcclusionQuery = function (queryIndex) {\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            var queryPool = this.currentRenderPassDescriptor\n                .occlusionQueryPool;\n            gl.beginQuery(queryPool.gl_query_type, queryPool.gl_query[queryIndex]);\n        }\n    };\n    Device_GL.prototype.endOcclusionQuery = function () {\n        var gl = this.gl;\n        if (isWebGL2(gl)) {\n            var queryPool = this.currentRenderPassDescriptor\n                .occlusionQueryPool;\n            gl.endQuery(queryPool.gl_query_type);\n        }\n    };\n    Device_GL.prototype.pipelineQueryReady = function (o) {\n        var pipeline = o;\n        return this.queryProgramReady(pipeline.program);\n    };\n    Device_GL.prototype.pipelineForceReady = function (o) {\n        // No need to do anything; it will be forced to compile when used naturally.\n    };\n    Device_GL.prototype.endPass = function () {\n        var gl = this.gl;\n        var gl2 = isWebGL2(gl);\n        var skipBlit = this.currentColorResolveTos.length === 1 &&\n            this.currentColorResolveTos[0] === this.scTexture;\n        var didUnbindDraw = false;\n        for (var i = 0; i < this.currentColorAttachments.length; i++) {\n            var colorResolveFrom = this.currentColorAttachments[i];\n            if (colorResolveFrom !== null) {\n                var colorResolveTo = this.currentColorResolveTos[i];\n                var didBindRead = false;\n                if (colorResolveTo !== null) {\n                    assert(colorResolveFrom.width === colorResolveTo.width &&\n                        colorResolveFrom.height === colorResolveTo.height);\n                    // assert(colorResolveFrom.format === colorResolveTo.format);\n                    this.setScissorRectEnabled(false);\n                    if (!skipBlit) {\n                        if (gl2) {\n                            gl.bindFramebuffer(gl.READ_FRAMEBUFFER, this.resolveColorReadFramebuffer);\n                        }\n                        if (this.resolveColorAttachmentsChanged) {\n                            if (gl2) {\n                                this.bindFramebufferAttachment(gl.READ_FRAMEBUFFER, gl.COLOR_ATTACHMENT0, colorResolveFrom, this.currentColorAttachmentLevels[i]);\n                            }\n                        }\n                    }\n                    didBindRead = true;\n                    if (!skipBlit) {\n                        // Special case: Blitting to the on-screen.\n                        if (colorResolveTo === this.scTexture) {\n                            gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.scPlatformFramebuffer);\n                        }\n                        else {\n                            gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveColorDrawFramebuffer);\n                            if (this.resolveColorAttachmentsChanged)\n                                gl.framebufferTexture2D(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, colorResolveTo.gl_texture, this.currentColorResolveToLevels[i]);\n                        }\n                    }\n                    if (!skipBlit) {\n                        if (gl2) {\n                            gl.blitFramebuffer(0, 0, colorResolveFrom.width, colorResolveFrom.height, 0, 0, colorResolveTo.width, colorResolveTo.height, gl.COLOR_BUFFER_BIT, gl.LINEAR);\n                            gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n                        }\n                        else {\n                            // need an extra render pass in WebGL1\n                            this.submitBlitRenderPass(colorResolveFrom, colorResolveTo);\n                        }\n                    }\n                    didUnbindDraw = true;\n                }\n                if (!this.currentRenderPassDescriptor.colorStore[i]) {\n                    if (!skipBlit && !didBindRead) {\n                        gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveColorReadFramebuffer);\n                        if (this.resolveColorAttachmentsChanged)\n                            this.bindFramebufferAttachment(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, colorResolveFrom, this.currentColorAttachmentLevels[i]);\n                    }\n                    // if (gl2) {\n                    //   gl.invalidateFramebuffer(gl.READ_FRAMEBUFFER, [\n                    //     gl.COLOR_ATTACHMENT0,\n                    //   ]);\n                    // }\n                }\n                if (!skipBlit) {\n                    gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n                }\n            }\n        }\n        this.resolveColorAttachmentsChanged = false;\n        var depthStencilResolveFrom = this.currentDepthStencilAttachment;\n        if (depthStencilResolveFrom) {\n            var depthStencilResolveTo = this.currentDepthStencilResolveTo;\n            var didBindRead = false;\n            if (depthStencilResolveTo) {\n                assert(depthStencilResolveFrom.width === depthStencilResolveTo.width &&\n                    depthStencilResolveFrom.height === depthStencilResolveTo.height);\n                this.setScissorRectEnabled(false);\n                if (!skipBlit) {\n                    gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveDepthStencilReadFramebuffer);\n                    gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveDepthStencilDrawFramebuffer);\n                    if (this.resolveDepthStencilAttachmentsChanged) {\n                        this.bindFramebufferDepthStencilAttachment(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, depthStencilResolveFrom);\n                        this.bindFramebufferDepthStencilAttachment(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, depthStencilResolveTo);\n                    }\n                }\n                didBindRead = true;\n                if (!skipBlit) {\n                    if (gl2) {\n                        gl.blitFramebuffer(0, 0, depthStencilResolveFrom.width, depthStencilResolveFrom.height, 0, 0, depthStencilResolveTo.width, depthStencilResolveTo.height, gl.DEPTH_BUFFER_BIT, gl.NEAREST);\n                    }\n                    gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n                }\n                didUnbindDraw = true;\n            }\n            if (!skipBlit && !this.currentRenderPassDescriptor.depthStencilStore) {\n                if (!didBindRead) {\n                    gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, this.resolveDepthStencilReadFramebuffer);\n                    if (this.resolveDepthStencilAttachmentsChanged)\n                        this.bindFramebufferDepthStencilAttachment(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, depthStencilResolveFrom);\n                    didBindRead = true;\n                }\n                if (gl2) {\n                    gl.invalidateFramebuffer(gl.READ_FRAMEBUFFER, [\n                        gl.DEPTH_STENCIL_ATTACHMENT,\n                    ]);\n                }\n            }\n            if (!skipBlit && didBindRead)\n                gl.bindFramebuffer(gl2 ? GL.READ_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n            this.resolveDepthStencilAttachmentsChanged = false;\n        }\n        if (!skipBlit && !didUnbindDraw) {\n            // If we did not unbind from a resolve, then we need to unbind our render pass draw FBO here.\n            gl.bindFramebuffer(gl2 ? GL.DRAW_FRAMEBUFFER : GL.FRAMEBUFFER, null);\n        }\n    };\n    Device_GL.prototype.setScissorRectEnabled = function (v) {\n        if (this.currentScissorEnabled === v) {\n            return;\n        }\n        var gl = this.gl;\n        if (v) {\n            gl.enable(gl.SCISSOR_TEST);\n        }\n        else {\n            gl.disable(gl.SCISSOR_TEST);\n        }\n        this.currentScissorEnabled = v;\n    };\n    Device_GL.prototype.applyStencil = function () {\n        if (isNil(this.currentStencilRef)) {\n            return;\n        }\n        this.gl.stencilFuncSeparate(GL.FRONT, this.currentMegaState.stencilFront.compare, this.currentStencilRef, this.currentMegaState.stencilFront.mask || 0xff);\n        this.gl.stencilFuncSeparate(GL.BACK, this.currentMegaState.stencilBack.compare, this.currentStencilRef, this.currentMegaState.stencilBack.mask || 0xff);\n    };\n    Device_GL.prototype.getFallbackTexture = function (samplerEntry) {\n        var gl_target = samplerEntry.gl_target, formatKind = samplerEntry.formatKind;\n        if (gl_target === GL.TEXTURE_2D)\n            return formatKind === SamplerFormatKind.Depth\n                ? this.fallbackTexture2DDepth\n                : this.fallbackTexture2D;\n        else if (gl_target === GL.TEXTURE_2D_ARRAY)\n            return this.fallbackTexture2DArray;\n        else if (gl_target === GL.TEXTURE_3D)\n            return this.fallbackTexture3D;\n        else if (gl_target === GL.TEXTURE_CUBE_MAP)\n            return this.fallbackTextureCube;\n        else\n            throw new Error('whoops');\n    };\n    Device_GL.prototype.submitBlitRenderPass = function (resolveFrom, resolveTo) {\n        if (!this.blitRenderPipeline) {\n            this.blitProgram = this.createProgram({\n                vertex: {\n                    glsl: \"layout(location = 0) in vec2 a_Position;\\nout vec2 v_TexCoord;\\nvoid main() {\\n  v_TexCoord = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n\\n  #ifdef VIEWPORT_ORIGIN_TL\\n    v_TexCoord.y = 1.0 - v_TexCoord.y;\\n  #endif\\n}\",\n                },\n                fragment: {\n                    glsl: \"uniform sampler2D u_Texture;\\nin vec2 v_TexCoord;\\nout vec4 outputColor;\\nvoid main() {\\n  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);\\n}\",\n                },\n            });\n            this.blitVertexBuffer = this.createBuffer({\n                usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n                viewOrSize: new Float32Array([-4, -4, 4, -4, 0, 4]),\n            });\n            this.blitInputLayout = this.createInputLayout({\n                vertexBufferDescriptors: [\n                    {\n                        arrayStride: 4 * 2,\n                        stepMode: VertexStepMode.VERTEX,\n                        attributes: [\n                            {\n                                format: Format.F32_RG,\n                                offset: 4 * 0,\n                                shaderLocation: 0,\n                            },\n                        ],\n                    },\n                ],\n                indexBufferFormat: null,\n                program: this.blitProgram,\n            });\n            this.blitRenderPipeline = this.createRenderPipeline({\n                topology: PrimitiveTopology.TRIANGLES,\n                sampleCount: 1,\n                program: this.blitProgram,\n                colorAttachmentFormats: [Format.U8_RGBA_RT],\n                depthStencilAttachmentFormat: null,\n                inputLayout: this.blitInputLayout,\n                megaStateDescriptor: copyMegaState(defaultMegaState),\n            });\n            this.blitBindings = this.createBindings({\n                samplerBindings: [\n                    {\n                        sampler: null,\n                        texture: resolveFrom.texture,\n                    },\n                ],\n                uniformBufferBindings: [],\n            });\n            this.blitProgram.setUniformsLegacy({\n                u_Texture: resolveFrom,\n            });\n        }\n        // save currentRenderPassDescriptor since we're already in a render pass\n        var currentRenderPassDescriptor = this.currentRenderPassDescriptor;\n        this.currentRenderPassDescriptor = null;\n        this.inBlitRenderPass = true;\n        var blitRenderPass = this.createRenderPass({\n            colorAttachment: [resolveFrom],\n            colorResolveTo: [resolveTo],\n            colorClearColor: [TransparentWhite],\n        });\n        var _a = this.getCanvas(), width = _a.width, height = _a.height;\n        blitRenderPass.setPipeline(this.blitRenderPipeline);\n        blitRenderPass.setBindings(this.blitBindings);\n        blitRenderPass.setVertexInput(this.blitInputLayout, [{ buffer: this.blitVertexBuffer }], null);\n        blitRenderPass.setViewport(0, 0, width, height);\n        // disable blending for blit\n        this.gl.disable(this.gl.BLEND);\n        blitRenderPass.draw(3, 0);\n        this.gl.enable(this.gl.BLEND);\n        // restore\n        this.currentRenderPassDescriptor = currentRenderPassDescriptor;\n        this.inBlitRenderPass = false;\n    };\n    return Device_GL;\n}());\n\nvar WebGLDeviceContribution = /** @class */ (function () {\n    function WebGLDeviceContribution(pluginOptions) {\n        this.pluginOptions = pluginOptions;\n    }\n    WebGLDeviceContribution.prototype.createSwapChain = function ($canvas) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, targets, xrCompatible, _b, antialias, _c, preserveDrawingBuffer, _d, premultipliedAlpha, shaderDebug, trackResources, options, gl;\n            return __generator(this, function (_e) {\n                _a = this.pluginOptions, targets = _a.targets, xrCompatible = _a.xrCompatible, _b = _a.antialias, antialias = _b === void 0 ? false : _b, _c = _a.preserveDrawingBuffer, preserveDrawingBuffer = _c === void 0 ? false : _c, _d = _a.premultipliedAlpha, premultipliedAlpha = _d === void 0 ? true : _d, shaderDebug = _a.shaderDebug, trackResources = _a.trackResources;\n                options = {\n                    // alpha: true,\n                    antialias: antialias,\n                    // @see https://stackoverflow.com/questions/27746091/preservedrawingbuffer-false-is-it-worth-the-effort\n                    preserveDrawingBuffer: preserveDrawingBuffer,\n                    // @see https://webglfundamentals.org/webgl/lessons/webgl-qna-how-to-use-the-stencil-buffer.html\n                    stencil: true,\n                    // @see https://webglfundamentals.org/webgl/lessons/webgl-and-alpha.html\n                    premultipliedAlpha: premultipliedAlpha,\n                    xrCompatible: xrCompatible,\n                };\n                this.handleContextEvents($canvas);\n                if (targets.includes('webgl2')) {\n                    gl =\n                        $canvas.getContext('webgl2', options) ||\n                            $canvas.getContext('experimental-webgl2', options);\n                }\n                if (!gl && targets.includes('webgl1')) {\n                    gl =\n                        $canvas.getContext('webgl', options) ||\n                            $canvas.getContext('experimental-webgl', options);\n                }\n                return [2 /*return*/, new Device_GL(gl, {\n                        shaderDebug: shaderDebug,\n                        trackResources: trackResources,\n                    })];\n            });\n        });\n    };\n    WebGLDeviceContribution.prototype.handleContextEvents = function ($canvas) {\n        var _a = this.pluginOptions, onContextLost = _a.onContextLost, onContextRestored = _a.onContextRestored, onContextCreationError = _a.onContextCreationError;\n        // bind context event listeners\n        if (onContextCreationError) {\n            // @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/webglcontextcreationerror_event\n            $canvas.addEventListener('webglcontextcreationerror', onContextCreationError, false);\n        }\n        if (onContextLost) {\n            $canvas.addEventListener('webglcontextlost', onContextLost, false);\n        }\n        if (onContextRestored) {\n            $canvas.addEventListener('webglcontextrestored', onContextRestored, false);\n        }\n    };\n    return WebGLDeviceContribution;\n}());\n\nlet wasm;\n\nconst cachedTextDecoder =\n  typeof TextDecoder !== 'undefined'\n    ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true })\n    : {\n        decode: () => {\n          throw Error('TextDecoder not available');\n        },\n      };\n\nif (typeof TextDecoder !== 'undefined') {\n  cachedTextDecoder.decode();\n}\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n  if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n    cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n  }\n  return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n  ptr = ptr >>> 0;\n  return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nlet heap_next = heap.length;\n\nfunction addHeapObject(obj) {\n  if (heap_next === heap.length) heap.push(heap.length + 1);\n  const idx = heap_next;\n  heap_next = heap[idx];\n\n  heap[idx] = obj;\n  return idx;\n}\n\nfunction getObject(idx) {\n  return heap[idx];\n}\n\nfunction dropObject(idx) {\n  if (idx < 132) return;\n  heap[idx] = heap_next;\n  heap_next = idx;\n}\n\nfunction takeObject(idx) {\n  const ret = getObject(idx);\n  dropObject(idx);\n  return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst cachedTextEncoder =\n  typeof TextEncoder !== 'undefined'\n    ? new TextEncoder('utf-8')\n    : {\n        encode: () => {\n          throw Error('TextEncoder not available');\n        },\n      };\n\nconst encodeString =\n  typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n        return cachedTextEncoder.encodeInto(arg, view);\n      }\n    : function (arg, view) {\n        const buf = cachedTextEncoder.encode(arg);\n        view.set(buf);\n        return {\n          read: arg.length,\n          written: buf.length,\n        };\n      };\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n  if (realloc === undefined) {\n    const buf = cachedTextEncoder.encode(arg);\n    const ptr = malloc(buf.length, 1) >>> 0;\n    getUint8Memory0()\n      .subarray(ptr, ptr + buf.length)\n      .set(buf);\n    WASM_VECTOR_LEN = buf.length;\n    return ptr;\n  }\n\n  let len = arg.length;\n  let ptr = malloc(len, 1) >>> 0;\n\n  const mem = getUint8Memory0();\n\n  let offset = 0;\n\n  for (; offset < len; offset++) {\n    const code = arg.charCodeAt(offset);\n    if (code > 0x7f) break;\n    mem[ptr + offset] = code;\n  }\n\n  if (offset !== len) {\n    if (offset !== 0) {\n      arg = arg.slice(offset);\n    }\n    ptr = realloc(ptr, len, (len = offset + arg.length * 3), 1) >>> 0;\n    const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n    const ret = encodeString(arg, view);\n\n    offset += ret.written;\n  }\n\n  WASM_VECTOR_LEN = offset;\n  return ptr;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n  if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n    cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n  }\n  return cachedInt32Memory0;\n}\n/**\n * @param {string} source\n * @param {string} stage\n * @param {boolean} validation_enabled\n * @returns {string}\n */\nfunction glsl_compile(source, stage, validation_enabled) {\n  let deferred3_0;\n  let deferred3_1;\n  try {\n    const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n    const ptr0 = passStringToWasm0(\n      source,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len0 = WASM_VECTOR_LEN;\n    const ptr1 = passStringToWasm0(\n      stage,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len1 = WASM_VECTOR_LEN;\n    wasm.glsl_compile(retptr, ptr0, len0, ptr1, len1, validation_enabled);\n    var r0 = getInt32Memory0()[retptr / 4 + 0];\n    var r1 = getInt32Memory0()[retptr / 4 + 1];\n    deferred3_0 = r0;\n    deferred3_1 = r1;\n    return getStringFromWasm0(r0, r1);\n  } finally {\n    wasm.__wbindgen_add_to_stack_pointer(16);\n    wasm.__wbindgen_free(deferred3_0, deferred3_1, 1);\n  }\n}\n\n/**\n */\nclass WGSLComposer {\n  static __wrap(ptr) {\n    ptr = ptr >>> 0;\n    const obj = Object.create(WGSLComposer.prototype);\n    obj.__wbg_ptr = ptr;\n\n    return obj;\n  }\n\n  __destroy_into_raw() {\n    const ptr = this.__wbg_ptr;\n    this.__wbg_ptr = 0;\n\n    return ptr;\n  }\n\n  free() {\n    const ptr = this.__destroy_into_raw();\n    wasm.__wbg_wgslcomposer_free(ptr);\n  }\n  /**\n   */\n  constructor() {\n    const ret = wasm.wgslcomposer_new();\n    return WGSLComposer.__wrap(ret);\n  }\n  /**\n   * @param {string} source\n   */\n  load_composable(source) {\n    const ptr0 = passStringToWasm0(\n      source,\n      wasm.__wbindgen_malloc,\n      wasm.__wbindgen_realloc,\n    );\n    const len0 = WASM_VECTOR_LEN;\n    wasm.wgslcomposer_load_composable(this.__wbg_ptr, ptr0, len0);\n  }\n  /**\n   * @param {string} source\n   * @returns {string}\n   */\n  wgsl_compile(source) {\n    let deferred2_0;\n    let deferred2_1;\n    try {\n      const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n      const ptr0 = passStringToWasm0(\n        source,\n        wasm.__wbindgen_malloc,\n        wasm.__wbindgen_realloc,\n      );\n      const len0 = WASM_VECTOR_LEN;\n      wasm.wgslcomposer_wgsl_compile(retptr, this.__wbg_ptr, ptr0, len0);\n      var r0 = getInt32Memory0()[retptr / 4 + 0];\n      var r1 = getInt32Memory0()[retptr / 4 + 1];\n      deferred2_0 = r0;\n      deferred2_1 = r1;\n      return getStringFromWasm0(r0, r1);\n    } finally {\n      wasm.__wbindgen_add_to_stack_pointer(16);\n      wasm.__wbindgen_free(deferred2_0, deferred2_1, 1);\n    }\n  }\n}\n\nasync function __wbg_load(module, imports) {\n  if (typeof Response === 'function' && module instanceof Response) {\n    if (typeof WebAssembly.instantiateStreaming === 'function') {\n      try {\n        return await WebAssembly.instantiateStreaming(module, imports);\n      } catch (e) {\n        if (module.headers.get('Content-Type') != 'application/wasm') {\n          console.warn(\n            '`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n',\n            e,\n          );\n        } else {\n          throw e;\n        }\n      }\n    }\n\n    const bytes = await module.arrayBuffer();\n    return await WebAssembly.instantiate(bytes, imports);\n  } else {\n    const instance = await WebAssembly.instantiate(module, imports);\n\n    if (instance instanceof WebAssembly.Instance) {\n      return { instance, module };\n    } else {\n      return instance;\n    }\n  }\n}\n\nfunction __wbg_get_imports() {\n  const imports = {};\n  imports.wbg = {};\n  imports.wbg.__wbindgen_string_new = function (arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n  };\n  imports.wbg.__wbindgen_object_drop_ref = function (arg0) {\n    takeObject(arg0);\n  };\n  imports.wbg.__wbg_log_1d3ae0273d8f4f8a = function (arg0) {\n    console.log(getObject(arg0));\n  };\n  imports.wbg.__wbg_log_576ca876af0d4a77 = function (arg0, arg1) {\n    console.log(getObject(arg0), getObject(arg1));\n  };\n  imports.wbg.__wbindgen_throw = function (arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n  };\n\n  return imports;\n}\n\nfunction __wbg_finalize_init(instance, module) {\n  wasm = instance.exports;\n  __wbg_init.__wbindgen_wasm_module = module;\n  cachedInt32Memory0 = null;\n  cachedUint8Memory0 = null;\n\n  return wasm;\n}\n\nasync function __wbg_init(input) {\n  if (wasm !== undefined) return wasm;\n  const imports = __wbg_get_imports();\n\n  if (\n    typeof input === 'string' ||\n    (typeof Request === 'function' && input instanceof Request) ||\n    (typeof URL === 'function' && input instanceof URL)\n  ) {\n    input = fetch(input);\n  }\n\n  const { instance, module } = await __wbg_load(await input, imports);\n\n  return __wbg_finalize_init(instance, module);\n}\n\n/**\n * @see https://github.com/gpuweb/cts/blob/main/src/webgpu/constants.ts\n */\nvar GPUTextureUsage$1;\n(function (GPUTextureUsage) {\n    GPUTextureUsage[GPUTextureUsage[\"COPY_SRC\"] = 1] = \"COPY_SRC\";\n    GPUTextureUsage[GPUTextureUsage[\"COPY_DST\"] = 2] = \"COPY_DST\";\n    GPUTextureUsage[GPUTextureUsage[\"TEXTURE_BINDING\"] = 4] = \"TEXTURE_BINDING\";\n    // SAMPLED= 0x04,\n    GPUTextureUsage[GPUTextureUsage[\"STORAGE_BINDING\"] = 8] = \"STORAGE_BINDING\";\n    GPUTextureUsage[GPUTextureUsage[\"STORAGE\"] = 8] = \"STORAGE\";\n    GPUTextureUsage[GPUTextureUsage[\"RENDER_ATTACHMENT\"] = 16] = \"RENDER_ATTACHMENT\";\n})(GPUTextureUsage$1 || (GPUTextureUsage$1 = {}));\n// @see https://www.w3.org/TR/webgpu/#typedefdef-gpumapmodeflags\nvar GPUMapMode;\n(function (GPUMapMode) {\n    GPUMapMode[GPUMapMode[\"READ\"] = 1] = \"READ\";\n    GPUMapMode[GPUMapMode[\"WRITE\"] = 2] = \"WRITE\";\n})(GPUMapMode || (GPUMapMode = {}));\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/GPUTexture/usage#value\n */\nfunction translateTextureUsage(usage) {\n    var gpuUsage = 0;\n    if (usage & TextureUsage.SAMPLED)\n        gpuUsage |=\n            GPUTextureUsage$1.TEXTURE_BINDING |\n                GPUTextureUsage$1.COPY_DST |\n                GPUTextureUsage$1.COPY_SRC;\n    if (usage & TextureUsage.STORAGE)\n        gpuUsage |=\n            GPUTextureUsage$1.TEXTURE_BINDING |\n                GPUTextureUsage$1.STORAGE_BINDING |\n                GPUTextureUsage$1.COPY_SRC |\n                GPUTextureUsage$1.COPY_DST;\n    if (usage & TextureUsage.RENDER_TARGET)\n        gpuUsage |=\n            GPUTextureUsage$1.RENDER_ATTACHMENT |\n                GPUTextureUsage$1.TEXTURE_BINDING |\n                GPUTextureUsage$1.COPY_SRC |\n                GPUTextureUsage$1.COPY_DST;\n    return gpuUsage;\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gputextureformat\n */\nfunction translateTextureFormat(format) {\n    // 8-bit formats\n    if (format === Format.U8_R_NORM)\n        return 'r8unorm';\n    else if (format === Format.S8_R_NORM)\n        return 'r8snorm';\n    // 16-bit formats\n    else if (format === Format.U8_RG_NORM)\n        return 'rg8unorm';\n    else if (format === Format.S8_RG_NORM)\n        return 'rg8snorm';\n    // 32-bit formats\n    else if (format === Format.U32_R)\n        return 'r32uint';\n    else if (format === Format.S32_R)\n        return 'r32sint';\n    else if (format === Format.F32_R)\n        return 'r32float';\n    else if (format === Format.U16_RG)\n        return 'rg16uint';\n    else if (format === Format.S16_RG)\n        return 'rg16sint';\n    else if (format === Format.F16_RG)\n        return 'rg16float';\n    else if (format === Format.U8_RGBA_RT)\n        return 'bgra8unorm';\n    else if (format === Format.U8_RGBA_RT_SRGB)\n        return 'bgra8unorm-srgb';\n    else if (format === Format.U8_RGBA_NORM)\n        return 'rgba8unorm';\n    else if (format === Format.U8_RGBA_SRGB)\n        return 'rgba8unorm-srgb';\n    else if (format === Format.S8_RGBA_NORM)\n        return 'rgba8snorm';\n    // 64-bit formats\n    else if (format === Format.U32_RG)\n        return 'rg32uint';\n    else if (format === Format.S32_RG)\n        return 'rg32sint';\n    else if (format === Format.F32_RG)\n        return 'rg32float';\n    else if (format === Format.U16_RGBA)\n        return 'rgba16uint';\n    else if (format === Format.S16_RGBA)\n        return 'rgba16sint';\n    else if (format === Format.F16_RGBA)\n        return 'rgba16float';\n    // 128-bit formats\n    else if (format === Format.F32_RGBA)\n        return 'rgba32float';\n    else if (format === Format.U32_RGBA)\n        return 'rgba32uint';\n    else if (format === Format.S32_RGBA)\n        return 'rgba32sint';\n    // depth stencil formats\n    else if (format === Format.D24)\n        return 'depth24plus';\n    else if (format === Format.D24_S8)\n        return 'depth24plus-stencil8';\n    else if (format === Format.D32F)\n        return 'depth32float';\n    else if (format === Format.D32F_S8)\n        return 'depth32float-stencil8';\n    // bc\n    else if (format === Format.BC1)\n        return 'bc1-rgba-unorm';\n    else if (format === Format.BC1_SRGB)\n        return 'bc1-rgba-unorm-srgb';\n    else if (format === Format.BC2)\n        return 'bc2-rgba-unorm';\n    else if (format === Format.BC2_SRGB)\n        return 'bc2-rgba-unorm-srgb';\n    else if (format === Format.BC3)\n        return 'bc3-rgba-unorm';\n    else if (format === Format.BC3_SRGB)\n        return 'bc3-rgba-unorm-srgb';\n    else if (format === Format.BC4_SNORM)\n        return 'bc4-r-snorm';\n    else if (format === Format.BC4_UNORM)\n        return 'bc4-r-unorm';\n    else if (format === Format.BC5_SNORM)\n        return 'bc5-rg-snorm';\n    else if (format === Format.BC5_UNORM)\n        return 'bc5-rg-unorm';\n    else\n        throw 'whoops';\n}\nfunction translateTextureDimension(dimension) {\n    if (dimension === TextureDimension.TEXTURE_2D)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_3D)\n        return '3d';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gputextureviewdimension\n */\nfunction translateTextureViewDimension(dimension) {\n    if (dimension === TextureDimension.TEXTURE_2D)\n        return '2d';\n    else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n        return 'cube';\n    else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n        return '2d-array';\n    else if (dimension === TextureDimension.TEXTURE_3D)\n        return '3d';\n    else\n        throw new Error('whoops');\n}\nfunction translateBufferUsage(usage_) {\n    var usage = 0;\n    if (usage_ & BufferUsage.INDEX)\n        usage |= GPUBufferUsage.INDEX;\n    if (usage_ & BufferUsage.VERTEX)\n        usage |= GPUBufferUsage.VERTEX;\n    if (usage_ & BufferUsage.UNIFORM)\n        usage |= GPUBufferUsage.UNIFORM;\n    if (usage_ & BufferUsage.STORAGE)\n        usage |= GPUBufferUsage.STORAGE;\n    if (usage_ & BufferUsage.COPY_SRC)\n        usage |= GPUBufferUsage.COPY_SRC;\n    if (usage_ & BufferUsage.INDIRECT)\n        usage |= GPUBufferUsage.INDIRECT;\n    usage |= GPUBufferUsage.COPY_DST;\n    return usage;\n}\nfunction translateAddressMode(wrapMode) {\n    if (wrapMode === AddressMode.CLAMP_TO_EDGE)\n        return 'clamp-to-edge';\n    else if (wrapMode === AddressMode.REPEAT)\n        return 'repeat';\n    else if (wrapMode === AddressMode.MIRRORED_REPEAT)\n        return 'mirror-repeat';\n    else\n        throw new Error('whoops');\n}\nfunction translateMinMagFilter(texFilter) {\n    if (texFilter === FilterMode.BILINEAR)\n        return 'linear';\n    else if (texFilter === FilterMode.POINT)\n        return 'nearest';\n    else\n        throw new Error('whoops');\n}\n// @see https://www.w3.org/TR/webgpu/#enumdef-gpumipmapfiltermode\nfunction translateMipFilter(mipmapFilter) {\n    if (mipmapFilter === MipmapFilterMode.LINEAR)\n        return 'linear';\n    else if (mipmapFilter === MipmapFilterMode.NEAREST)\n        return 'nearest';\n    else if (mipmapFilter === MipmapFilterMode.NO_MIP)\n        return 'nearest';\n    else\n        throw new Error('whoops');\n}\nfunction getPlatformBuffer(buffer_) {\n    var buffer = buffer_;\n    return buffer.gpuBuffer;\n}\nfunction getPlatformSampler(sampler_) {\n    var sampler = sampler_;\n    return sampler.gpuSampler;\n}\nfunction getPlatformQuerySet(queryPool_) {\n    var queryPool = queryPool_;\n    return queryPool.querySet;\n}\nfunction translateQueryPoolType(type) {\n    if (type === QueryPoolType.OcclusionConservative)\n        return 'occlusion';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#primitive-state\n */\nfunction translateTopology(topology) {\n    switch (topology) {\n        case PrimitiveTopology.TRIANGLES:\n            return 'triangle-list';\n        case PrimitiveTopology.POINTS:\n            return 'point-list';\n        case PrimitiveTopology.TRIANGLE_STRIP:\n            return 'triangle-strip';\n        case PrimitiveTopology.LINES:\n            return 'line-list';\n        case PrimitiveTopology.LINE_STRIP:\n            return 'line-strip';\n        default:\n            throw new Error('Unknown primitive topology mode');\n    }\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpucullmode\n */\nfunction translateCullMode(cullMode) {\n    if (cullMode === CullMode.NONE)\n        return 'none';\n    else if (cullMode === CullMode.FRONT)\n        return 'front';\n    else if (cullMode === CullMode.BACK)\n        return 'back';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpufrontface\n */\nfunction translateFrontFace(frontFaceMode) {\n    if (frontFaceMode === FrontFace.CCW)\n        return 'ccw';\n    else if (frontFaceMode === FrontFace.CW)\n        return 'cw';\n    else\n        throw new Error('whoops');\n}\nfunction translatePrimitiveState(topology, megaStateDescriptor) {\n    return {\n        topology: translateTopology(topology),\n        cullMode: translateCullMode(megaStateDescriptor.cullMode),\n        frontFace: translateFrontFace(megaStateDescriptor.frontFace),\n    };\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendfactor\n */\nfunction translateBlendFactor(factor) {\n    if (factor === BlendFactor.ZERO)\n        return 'zero';\n    else if (factor === BlendFactor.ONE)\n        return 'one';\n    else if (factor === BlendFactor.SRC)\n        return 'src';\n    else if (factor === BlendFactor.ONE_MINUS_SRC)\n        return 'one-minus-src';\n    else if (factor === BlendFactor.DST)\n        return 'dst';\n    else if (factor === BlendFactor.ONE_MINUS_DST)\n        return 'one-minus-dst';\n    else if (factor === BlendFactor.SRC_ALPHA)\n        return 'src-alpha';\n    else if (factor === BlendFactor.ONE_MINUS_SRC_ALPHA)\n        return 'one-minus-src-alpha';\n    else if (factor === BlendFactor.DST_ALPHA)\n        return 'dst-alpha';\n    else if (factor === BlendFactor.ONE_MINUS_DST_ALPHA)\n        return 'one-minus-dst-alpha';\n    else if (factor === BlendFactor.CONST)\n        return 'constant';\n    else if (factor === BlendFactor.ONE_MINUS_CONSTANT)\n        return 'one-minus-constant';\n    else if (factor === BlendFactor.SRC_ALPHA_SATURATE)\n        return 'src-alpha-saturated';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#enumdef-gpublendoperation\n */\nfunction translateBlendMode(mode) {\n    if (mode === BlendMode.ADD)\n        return 'add';\n    else if (mode === BlendMode.SUBSTRACT)\n        return 'subtract';\n    else if (mode === BlendMode.REVERSE_SUBSTRACT)\n        return 'reverse-subtract';\n    else if (mode === BlendMode.MIN)\n        return 'min';\n    else if (mode === BlendMode.MAX)\n        return 'max';\n    else\n        throw new Error('whoops');\n}\nfunction translateBlendComponent(ch) {\n    return {\n        operation: translateBlendMode(ch.blendMode),\n        srcFactor: translateBlendFactor(ch.blendSrcFactor),\n        dstFactor: translateBlendFactor(ch.blendDstFactor),\n    };\n}\nfunction blendComponentIsNil(ch) {\n    return (ch.blendMode === BlendMode.ADD &&\n        ch.blendSrcFactor === BlendFactor.ONE &&\n        ch.blendDstFactor === BlendFactor.ZERO);\n}\nfunction translateBlendState(attachmentState) {\n    if (blendComponentIsNil(attachmentState.rgbBlendState) &&\n        blendComponentIsNil(attachmentState.alphaBlendState)) {\n        return undefined;\n    }\n    else {\n        return {\n            color: translateBlendComponent(attachmentState.rgbBlendState),\n            alpha: translateBlendComponent(attachmentState.alphaBlendState),\n        };\n    }\n}\nfunction translateColorState(attachmentState, format) {\n    return {\n        format: translateTextureFormat(format),\n        blend: translateBlendState(attachmentState),\n        writeMask: attachmentState.channelWriteMask,\n    };\n}\nfunction translateTargets(colorAttachmentFormats, megaStateDescriptor) {\n    return megaStateDescriptor.attachmentsState.map(function (attachmentState, i) {\n        return translateColorState(attachmentState, colorAttachmentFormats[i]);\n    });\n}\n// @see https://www.w3.org/TR/webgpu/#enumdef-gpucomparefunction\nfunction translateCompareFunction(compareFunction) {\n    if (compareFunction === CompareFunction.NEVER)\n        return 'never';\n    else if (compareFunction === CompareFunction.LESS)\n        return 'less';\n    else if (compareFunction === CompareFunction.EQUAL)\n        return 'equal';\n    else if (compareFunction === CompareFunction.LEQUAL)\n        return 'less-equal';\n    else if (compareFunction === CompareFunction.GREATER)\n        return 'greater';\n    else if (compareFunction === CompareFunction.NOTEQUAL)\n        return 'not-equal';\n    else if (compareFunction === CompareFunction.GEQUAL)\n        return 'greater-equal';\n    else if (compareFunction === CompareFunction.ALWAYS)\n        return 'always';\n    else\n        throw new Error('whoops');\n}\nfunction translateStencilOperation(stencilOp) {\n    if (stencilOp === StencilOp.KEEP)\n        return 'keep';\n    else if (stencilOp === StencilOp.REPLACE)\n        return 'replace';\n    else if (stencilOp === StencilOp.ZERO)\n        return 'zero';\n    else if (stencilOp === StencilOp.DECREMENT_CLAMP)\n        return 'decrement-clamp';\n    else if (stencilOp === StencilOp.DECREMENT_WRAP)\n        return 'decrement-wrap';\n    else if (stencilOp === StencilOp.INCREMENT_CLAMP)\n        return 'increment-clamp';\n    else if (stencilOp === StencilOp.INCREMENT_WRAP)\n        return 'increment-wrap';\n    else if (stencilOp === StencilOp.INVERT)\n        return 'invert';\n    else\n        throw new Error('whoops');\n}\n/**\n * @see https://www.w3.org/TR/webgpu/#dictdef-gpudepthstencilstate\n */\nfunction translateDepthStencilState(format, megaStateDescriptor) {\n    if (isNil(format))\n        return undefined;\n    return {\n        /**\n         * @see https://www.w3.org/TR/webgpu/#dom-gpudepthstencilstate-format\n         */\n        format: translateTextureFormat(format),\n        depthWriteEnabled: !!megaStateDescriptor.depthWrite,\n        depthCompare: translateCompareFunction(megaStateDescriptor.depthCompare),\n        depthBias: megaStateDescriptor.polygonOffset ? 1 : 0,\n        depthBiasSlopeScale: megaStateDescriptor.polygonOffset ? 1 : 0,\n        stencilFront: {\n            compare: translateCompareFunction(megaStateDescriptor.stencilFront.compare),\n            passOp: translateStencilOperation(megaStateDescriptor.stencilFront.passOp),\n            failOp: translateStencilOperation(megaStateDescriptor.stencilFront.failOp),\n            depthFailOp: translateStencilOperation(megaStateDescriptor.stencilFront.depthFailOp),\n        },\n        stencilBack: {\n            compare: translateCompareFunction(megaStateDescriptor.stencilBack.compare),\n            passOp: translateStencilOperation(megaStateDescriptor.stencilBack.passOp),\n            failOp: translateStencilOperation(megaStateDescriptor.stencilBack.failOp),\n            depthFailOp: translateStencilOperation(megaStateDescriptor.stencilBack.depthFailOp),\n        },\n        stencilReadMask: 0xffffffff,\n        stencilWriteMask: 0xffffffff,\n        // stencilReadMask: 0xffffffff,\n        // stencilWriteMask: megaStateDescriptor.stencilWrite ? 0xff : 0x00,\n    };\n}\nfunction translateIndexFormat(format) {\n    if (format === null)\n        return undefined;\n    else if (format === Format.U16_R)\n        return 'uint16';\n    else if (format === Format.U32_R)\n        return 'uint32';\n    else\n        throw new Error('whoops');\n}\nfunction translateVertexStepMode(stepMode) {\n    if (stepMode === VertexStepMode.VERTEX)\n        return 'vertex';\n    else if (stepMode === VertexStepMode.INSTANCE)\n        return 'instance';\n    else\n        throw new Error('whoops');\n}\nfunction translateVertexFormat(format) {\n    if (format === Format.U8_R)\n        return 'uint8x2';\n    else if (format === Format.U8_RG)\n        return 'uint8x2';\n    else if (format === Format.U8_RGB)\n        return 'uint8x4';\n    else if (format === Format.U8_RGBA)\n        return 'uint8x4';\n    else if (format === Format.U8_RG_NORM)\n        return 'unorm8x2';\n    else if (format === Format.U8_RGBA_NORM)\n        return 'unorm8x4';\n    else if (format === Format.S8_RGB_NORM)\n        return 'snorm8x4';\n    else if (format === Format.S8_RGBA_NORM)\n        return 'snorm8x4';\n    else if (format === Format.U16_RG_NORM)\n        return 'unorm16x2';\n    else if (format === Format.U16_RGBA_NORM)\n        return 'unorm16x4';\n    else if (format === Format.S16_RG_NORM)\n        return 'snorm16x2';\n    else if (format === Format.S16_RGBA_NORM)\n        return 'snorm16x4';\n    else if (format === Format.S16_RG)\n        return 'uint16x2';\n    else if (format === Format.F16_RG)\n        return 'float16x2';\n    else if (format === Format.F16_RGBA)\n        return 'float16x4';\n    else if (format === Format.F32_R)\n        return 'float32';\n    else if (format === Format.F32_RG)\n        return 'float32x2';\n    else if (format === Format.F32_RGB)\n        return 'float32x3';\n    else if (format === Format.F32_RGBA)\n        return 'float32x4';\n    else\n        throw 'whoops';\n}\nfunction isFormatTextureCompressionBC(format) {\n    var formatTypeFlags = getFormatTypeFlags(format);\n    switch (formatTypeFlags) {\n        case FormatTypeFlags.BC1:\n        case FormatTypeFlags.BC2:\n        case FormatTypeFlags.BC3:\n        case FormatTypeFlags.BC4_SNORM:\n        case FormatTypeFlags.BC4_UNORM:\n        case FormatTypeFlags.BC5_SNORM:\n        case FormatTypeFlags.BC5_UNORM:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction getFormatBlockSize(format) {\n    var formatTypeFlags = getFormatTypeFlags(format);\n    switch (formatTypeFlags) {\n        case FormatTypeFlags.BC1:\n        case FormatTypeFlags.BC2:\n        case FormatTypeFlags.BC3:\n        case FormatTypeFlags.BC4_SNORM:\n        case FormatTypeFlags.BC4_UNORM:\n        case FormatTypeFlags.BC5_SNORM:\n        case FormatTypeFlags.BC5_UNORM:\n            return 4;\n        default:\n            return 1;\n    }\n}\nfunction allocateAndCopyTypedBuffer(type, sizeOrDstBuffer, sizeInBytes, copyBuffer) {\n    if (sizeInBytes === void 0) { sizeInBytes = false; }\n    switch (type) {\n        case Format.S8_R:\n        case Format.S8_R_NORM:\n        case Format.S8_RG_NORM:\n        case Format.S8_RGB_NORM:\n        case Format.S8_RGBA_NORM: {\n            var buffer_1 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Int8Array(sizeOrDstBuffer)\n                : new Int8Array(sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_1.set(new Int8Array(copyBuffer));\n            }\n            return buffer_1;\n        }\n        case Format.U8_R:\n        case Format.U8_R_NORM:\n        case Format.U8_RG:\n        case Format.U8_RG_NORM:\n        case Format.U8_RGB:\n        case Format.U8_RGB_NORM:\n        case Format.U8_RGB_SRGB:\n        case Format.U8_RGBA:\n        case Format.U8_RGBA_NORM:\n        case Format.U8_RGBA_SRGB: {\n            var buffer_2 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Uint8Array(sizeOrDstBuffer)\n                : new Uint8Array(sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_2.set(new Uint8Array(copyBuffer));\n            }\n            return buffer_2;\n        }\n        case Format.S16_R:\n        case Format.S16_RG:\n        case Format.S16_RG_NORM:\n        case Format.S16_RGB_NORM:\n        case Format.S16_RGBA:\n        case Format.S16_RGBA_NORM: {\n            var buffer_3 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Int16Array(sizeOrDstBuffer)\n                : new Int16Array(sizeInBytes ? sizeOrDstBuffer / 2 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_3.set(new Int16Array(copyBuffer));\n            }\n            return buffer_3;\n        }\n        case Format.U16_R:\n        case Format.U16_RGB:\n        case Format.U16_RGBA_5551:\n        case Format.U16_RGBA_NORM:\n        case Format.U16_RG_NORM:\n        case Format.U16_R_NORM: {\n            var buffer_4 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Uint16Array(sizeOrDstBuffer)\n                : new Uint16Array(sizeInBytes ? sizeOrDstBuffer / 2 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_4.set(new Uint16Array(copyBuffer));\n            }\n            return buffer_4;\n        }\n        case Format.S32_R: {\n            var buffer_5 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Int32Array(sizeOrDstBuffer)\n                : new Int32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_5.set(new Int32Array(copyBuffer));\n            }\n            return buffer_5;\n        }\n        case Format.U32_R:\n        case Format.U32_RG: {\n            var buffer_6 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Uint32Array(sizeOrDstBuffer)\n                : new Uint32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_6.set(new Uint32Array(copyBuffer));\n            }\n            return buffer_6;\n        }\n        case Format.F32_R:\n        case Format.F32_RG:\n        case Format.F32_RGB:\n        case Format.F32_RGBA: {\n            var buffer_7 = sizeOrDstBuffer instanceof ArrayBuffer\n                ? new Float32Array(sizeOrDstBuffer)\n                : new Float32Array(sizeInBytes ? sizeOrDstBuffer / 4 : sizeOrDstBuffer);\n            if (copyBuffer) {\n                buffer_7.set(new Float32Array(copyBuffer));\n            }\n            return buffer_7;\n        }\n    }\n    var buffer = sizeOrDstBuffer instanceof ArrayBuffer\n        ? new Uint8Array(sizeOrDstBuffer)\n        : new Uint8Array(sizeOrDstBuffer);\n    if (copyBuffer) {\n        buffer.set(new Uint8Array(copyBuffer));\n    }\n    return buffer;\n}\n/**\n * Converts a half float to a number\n * @param value half float to convert\n * @returns converted half float\n */\nfunction halfFloat2Number(value) {\n    var s = (value & 0x8000) >> 15;\n    var e = (value & 0x7c00) >> 10;\n    var f = value & 0x03ff;\n    if (e === 0) {\n        return (s ? -1 : 1) * Math.pow(2, -14) * (f / Math.pow(2, 10));\n    }\n    else if (e == 0x1f) {\n        return f ? NaN : (s ? -1 : 1) * Infinity;\n    }\n    return (s ? -1 : 1) * Math.pow(2, e - 15) * (1 + f / Math.pow(2, 10));\n}\nfunction getBlockInformationFromFormat(format) {\n    switch (format) {\n        // 8 bits formats\n        case 'r8unorm':\n        case 'r8snorm':\n        case 'r8uint':\n        case 'r8sint':\n            return { width: 1, height: 1, length: 1 };\n        // 16 bits formats\n        case 'r16uint':\n        case 'r16sint':\n        case 'r16float':\n        case 'rg8unorm':\n        case 'rg8snorm':\n        case 'rg8uint':\n        case 'rg8sint':\n            return { width: 1, height: 1, length: 2 };\n        // 32 bits formats\n        case 'r32uint':\n        case 'r32sint':\n        case 'r32float':\n        case 'rg16uint':\n        case 'rg16sint':\n        case 'rg16float':\n        case 'rgba8unorm':\n        case 'rgba8unorm-srgb':\n        case 'rgba8snorm':\n        case 'rgba8uint':\n        case 'rgba8sint':\n        case 'bgra8unorm':\n        case 'bgra8unorm-srgb':\n        case 'rgb9e5ufloat':\n        case 'rgb10a2unorm':\n        case 'rg11b10ufloat':\n            return { width: 1, height: 1, length: 4 };\n        // 64 bits formats\n        case 'rg32uint':\n        case 'rg32sint':\n        case 'rg32float':\n        case 'rgba16uint':\n        case 'rgba16sint':\n        case 'rgba16float':\n            return { width: 1, height: 1, length: 8 };\n        // 128 bits formats\n        case 'rgba32uint':\n        case 'rgba32sint':\n        case 'rgba32float':\n            return { width: 1, height: 1, length: 16 };\n        // Depth and stencil formats\n        case 'stencil8':\n            throw new Error('No fixed size for Stencil8 format!');\n        case 'depth16unorm':\n            return { width: 1, height: 1, length: 2 };\n        case 'depth24plus':\n            throw new Error('No fixed size for Depth24Plus format!');\n        case 'depth24plus-stencil8':\n            throw new Error('No fixed size for Depth24PlusStencil8 format!');\n        case 'depth32float':\n            return { width: 1, height: 1, length: 4 };\n        // case 'depth24unorm-stencil8':\n        //   return { width: 1, height: 1, length: 4 };\n        case 'depth32float-stencil8':\n            return { width: 1, height: 1, length: 5 };\n        // BC compressed formats usable if \"texture-compression-bc\" is both\n        // supported by the device/user agent and enabled in requestDevice.\n        case 'bc7-rgba-unorm':\n        case 'bc7-rgba-unorm-srgb':\n        case 'bc6h-rgb-ufloat':\n        case 'bc6h-rgb-float':\n        case 'bc2-rgba-unorm':\n        case 'bc2-rgba-unorm-srgb':\n        case 'bc3-rgba-unorm':\n        case 'bc3-rgba-unorm-srgb':\n        case 'bc5-rg-unorm':\n        case 'bc5-rg-snorm':\n            return { width: 4, height: 4, length: 16 };\n        case 'bc4-r-unorm':\n        case 'bc4-r-snorm':\n        case 'bc1-rgba-unorm':\n        case 'bc1-rgba-unorm-srgb':\n            return { width: 4, height: 4, length: 8 };\n        default:\n            return { width: 1, height: 1, length: 4 };\n    }\n}\n\nvar ResourceBase_WebGPU = /** @class */ (function (_super) {\n    __extends(ResourceBase_WebGPU, _super);\n    function ResourceBase_WebGPU(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.device = device;\n        return _this;\n    }\n    ResourceBase_WebGPU.prototype.destroy = function () { };\n    return ResourceBase_WebGPU;\n}(EventEmitter));\n\nvar Bindings_WebGPU = /** @class */ (function (_super) {\n    __extends(Bindings_WebGPU, _super);\n    function Bindings_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Bindings;\n        var pipeline = descriptor.pipeline;\n        assert(!!pipeline);\n        var uniformBufferBindings = descriptor.uniformBufferBindings, storageBufferBindings = descriptor.storageBufferBindings, samplerBindings = descriptor.samplerBindings, storageTextureBindings = descriptor.storageTextureBindings;\n        _this.numUniformBuffers = (uniformBufferBindings === null || uniformBufferBindings === void 0 ? void 0 : uniformBufferBindings.length) || 0;\n        // entries orders: Uniform Sampler StorageBuffer StorageTexture\n        var gpuBindGroupEntries = [[], [], [], []];\n        var numBindings = 0;\n        if (uniformBufferBindings && uniformBufferBindings.length) {\n            for (var i = 0; i < uniformBufferBindings.length; i++) {\n                var _d = descriptor.uniformBufferBindings[i], binding = _d.binding, size = _d.size, offset = _d.offset, buffer = _d.buffer;\n                var gpuBufferBinding = {\n                    buffer: getPlatformBuffer(buffer),\n                    offset: offset !== null && offset !== void 0 ? offset : 0,\n                    size: size,\n                };\n                gpuBindGroupEntries[0].push({\n                    binding: binding !== null && binding !== void 0 ? binding : numBindings++,\n                    resource: gpuBufferBinding,\n                });\n            }\n        }\n        if (samplerBindings && samplerBindings.length) {\n            numBindings = 0;\n            for (var i = 0; i < samplerBindings.length; i++) {\n                var samplerEntry = __assign(__assign({}, samplerBindings[i]), defaultBindingLayoutSamplerDescriptor);\n                var binding = descriptor.samplerBindings[i];\n                var texture = binding.texture !== null\n                    ? binding.texture\n                    : _this.device['getFallbackTexture'](samplerEntry);\n                samplerEntry.dimension = texture.dimension;\n                samplerEntry.formatKind = getFormatSamplerKind(texture.format);\n                var gpuTextureView = texture.gpuTextureView;\n                gpuBindGroupEntries[1].push({\n                    binding: (_b = binding.textureBinding) !== null && _b !== void 0 ? _b : numBindings++,\n                    resource: gpuTextureView,\n                });\n                if (binding.samplerBinding !== -1) {\n                    var sampler = binding.sampler !== null\n                        ? binding.sampler\n                        : _this.device['getFallbackSampler'](samplerEntry);\n                    var gpuSampler = getPlatformSampler(sampler);\n                    gpuBindGroupEntries[1].push({\n                        binding: (_c = binding.samplerBinding) !== null && _c !== void 0 ? _c : numBindings++,\n                        resource: gpuSampler,\n                    });\n                }\n            }\n        }\n        if (storageBufferBindings && storageBufferBindings.length) {\n            numBindings = 0;\n            for (var i = 0; i < storageBufferBindings.length; i++) {\n                var _e = descriptor.storageBufferBindings[i], binding = _e.binding, size = _e.size, offset = _e.offset, buffer = _e.buffer;\n                var gpuBufferBinding = {\n                    buffer: getPlatformBuffer(buffer),\n                    offset: offset !== null && offset !== void 0 ? offset : 0,\n                    size: size,\n                };\n                gpuBindGroupEntries[2].push({\n                    binding: binding !== null && binding !== void 0 ? binding : numBindings++,\n                    resource: gpuBufferBinding,\n                });\n            }\n        }\n        if (storageTextureBindings && storageTextureBindings.length) {\n            numBindings = 0;\n            for (var i = 0; i < storageTextureBindings.length; i++) {\n                var _f = descriptor.storageTextureBindings[i], binding = _f.binding, texture = _f.texture;\n                var gpuTextureView = texture.gpuTextureView;\n                gpuBindGroupEntries[3].push({\n                    binding: binding !== null && binding !== void 0 ? binding : numBindings++,\n                    resource: gpuTextureView,\n                });\n            }\n        }\n        var lastGroupIndex = gpuBindGroupEntries.findLastIndex(function (group) { return !!group.length; });\n        _this.gpuBindGroup = gpuBindGroupEntries.map(function (gpuBindGroupEntries, i) {\n            return (i <= lastGroupIndex &&\n                _this.device.device.createBindGroup({\n                    layout: pipeline.getBindGroupLayout(i),\n                    entries: gpuBindGroupEntries,\n                }));\n        });\n        return _this;\n    }\n    return Bindings_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Buffer_WebGPU = /** @class */ (function (_super) {\n    __extends(Buffer_WebGPU, _super);\n    function Buffer_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Buffer;\n        var usage = descriptor.usage, viewOrSize = descriptor.viewOrSize;\n        var useMapRead = !!(usage & BufferUsage.MAP_READ);\n        _this.usage = translateBufferUsage(usage);\n        // Buffer usages (BufferUsage::(MapRead|CopyDst|Storage)) is invalid. If a buffer usage contains BufferUsage::MapRead the only other allowed usage is BufferUsage::CopyDst.\n        // @see https://www.w3.org/TR/webgpu/#dom-gpubufferusage-copy_dst\n        if (useMapRead) {\n            _this.usage = BufferUsage.MAP_READ | BufferUsage.COPY_DST;\n        }\n        var mapBuffer = !isNumber(viewOrSize);\n        // this.size = isView(viewOrSize) ? viewOrSize.byteLength : viewOrSize * 4;\n        _this.view = !isNumber(viewOrSize) ? viewOrSize : null;\n        // 4 bytes alignments (because of the upload which requires this)\n        _this.size = isNumber(viewOrSize)\n            ? align(viewOrSize, 4)\n            : align(viewOrSize.byteLength, 4);\n        if (!isNumber(viewOrSize)) {\n            _this.gpuBuffer = _this.device.device.createBuffer({\n                usage: _this.usage,\n                size: _this.size,\n                mappedAtCreation: true,\n            });\n            var ctor = (viewOrSize && viewOrSize.constructor) || Float32Array;\n            // @ts-ignore\n            new ctor(_this.gpuBuffer.getMappedRange()).set(viewOrSize);\n            _this.gpuBuffer.unmap();\n        }\n        else {\n            _this.gpuBuffer = _this.device.device.createBuffer({\n                usage: _this.usage,\n                size: _this.size,\n                mappedAtCreation: useMapRead ? mapBuffer : false,\n            });\n        }\n        return _this;\n    }\n    Buffer_WebGPU.prototype.setSubData = function (dstByteOffset, src, srcByteOffset, byteLength) {\n        if (srcByteOffset === void 0) { srcByteOffset = 0; }\n        if (byteLength === void 0) { byteLength = 0; }\n        var buffer = this.gpuBuffer;\n        byteLength = byteLength || src.byteLength;\n        byteLength = Math.min(byteLength, this.size - dstByteOffset);\n        // After Migration to Canary\n        var chunkStart = src.byteOffset + srcByteOffset;\n        var chunkEnd = chunkStart + byteLength;\n        // 4 bytes alignments for upload\n        var alignedLength = (byteLength + 3) & ~3;\n        if (alignedLength !== byteLength) {\n            var tempView = new Uint8Array(src.buffer.slice(chunkStart, chunkEnd));\n            src = new Uint8Array(alignedLength);\n            src.set(tempView);\n            srcByteOffset = 0;\n            chunkStart = 0;\n            chunkEnd = alignedLength;\n            byteLength = alignedLength;\n        }\n        // Chunk\n        var maxChunk = 1024 * 1024 * 15;\n        var offset = 0;\n        while (chunkEnd - (chunkStart + offset) > maxChunk) {\n            this.device.device.queue.writeBuffer(buffer, dstByteOffset + offset, src.buffer, chunkStart + offset, maxChunk);\n            offset += maxChunk;\n        }\n        this.device.device.queue.writeBuffer(buffer, dstByteOffset + offset, src.buffer, chunkStart + offset, byteLength - offset);\n    };\n    Buffer_WebGPU.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        // @see https://www.w3.org/TR/webgpu/#dom-gpubuffer-destroy\n        this.gpuBuffer.destroy();\n    };\n    return Buffer_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar ComputePass_WebGPU = /** @class */ (function () {\n    function ComputePass_WebGPU() {\n        this.gpuComputePassEncoder = null;\n    }\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucomputepassencoder-dispatchworkgroups\n     */\n    ComputePass_WebGPU.prototype.dispatchWorkgroups = function (workgroupCountX, workgroupCountY, workgroupCountZ) {\n        this.gpuComputePassEncoder.dispatchWorkgroups(workgroupCountX, workgroupCountY, workgroupCountZ);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucomputepassencoder-dispatchworkgroupsindirect\n     */\n    ComputePass_WebGPU.prototype.dispatchWorkgroupsIndirect = function (indirectBuffer, indirectOffset) {\n        this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(indirectBuffer.gpuBuffer, indirectOffset);\n    };\n    ComputePass_WebGPU.prototype.finish = function () {\n        this.gpuComputePassEncoder.end();\n        this.gpuComputePassEncoder = null;\n        this.frameCommandEncoder = null;\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpucommandencoder-begincomputepass\n     */\n    ComputePass_WebGPU.prototype.beginComputePass = function (commandEncoder) {\n        assert(this.gpuComputePassEncoder === null);\n        this.frameCommandEncoder = commandEncoder;\n        this.gpuComputePassEncoder = this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor);\n    };\n    ComputePass_WebGPU.prototype.setPipeline = function (pipeline_) {\n        var pipeline = pipeline_;\n        var gpuComputePipeline = assertExists(pipeline.gpuComputePipeline);\n        this.gpuComputePassEncoder.setPipeline(gpuComputePipeline);\n    };\n    ComputePass_WebGPU.prototype.setBindings = function (bindings_) {\n        var _this = this;\n        var bindings = bindings_;\n        bindings.gpuBindGroup.forEach(function (gpuBindGroup, i) {\n            if (gpuBindGroup) {\n                _this.gpuComputePassEncoder.setBindGroup(i, bindings.gpuBindGroup[i]);\n            }\n        });\n    };\n    ComputePass_WebGPU.prototype.pushDebugGroup = function (name) {\n        this.gpuComputePassEncoder.pushDebugGroup(name);\n    };\n    ComputePass_WebGPU.prototype.popDebugGroup = function () {\n        this.gpuComputePassEncoder.popDebugGroup();\n    };\n    ComputePass_WebGPU.prototype.insertDebugMarker = function (markerLabel) {\n        this.gpuComputePassEncoder.insertDebugMarker(markerLabel);\n    };\n    return ComputePass_WebGPU;\n}());\n\nvar ComputePipeline_WebGPU = /** @class */ (function (_super) {\n    __extends(ComputePipeline_WebGPU, _super);\n    function ComputePipeline_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.ComputePipeline;\n        _this.gpuComputePipeline = null;\n        _this.descriptor = descriptor;\n        var program = descriptor.program;\n        var computeStage = program.computeStage;\n        if (computeStage === null)\n            return _this;\n        var gpuComputePipeline = {\n            layout: 'auto',\n            compute: __assign({}, computeStage),\n        };\n        // @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createrenderpipeline\n        _this.gpuComputePipeline =\n            _this.device.device.createComputePipeline(gpuComputePipeline);\n        if (_this.name !== undefined) {\n            _this.gpuComputePipeline.label = _this.name;\n        }\n        return _this;\n    }\n    ComputePipeline_WebGPU.prototype.getBindGroupLayout = function (index) {\n        return this.gpuComputePipeline.getBindGroupLayout(index);\n    };\n    return ComputePipeline_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar InputLayout_WebGPU = /** @class */ (function (_super) {\n    __extends(InputLayout_WebGPU, _super);\n    function InputLayout_WebGPU(_a) {\n        var e_1, _b, e_2, _c;\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.InputLayout;\n        var buffers = [];\n        try {\n            for (var _d = __values(descriptor.vertexBufferDescriptors), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var vertexBufferDescriptor = _e.value;\n                var arrayStride = vertexBufferDescriptor.arrayStride, stepMode = vertexBufferDescriptor.stepMode, attributes = vertexBufferDescriptor.attributes;\n                buffers.push({\n                    arrayStride: arrayStride,\n                    stepMode: translateVertexStepMode(stepMode),\n                    attributes: [],\n                });\n                try {\n                    for (var attributes_1 = (e_2 = void 0, __values(attributes)), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                        var attribute = attributes_1_1.value;\n                        // TODO: divisor\n                        var shaderLocation = attribute.shaderLocation, format = attribute.format, offset = attribute.offset;\n                        buffers[buffers.length - 1].attributes.push({\n                            shaderLocation: shaderLocation,\n                            format: translateVertexFormat(format),\n                            offset: offset,\n                        });\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (attributes_1_1 && !attributes_1_1.done && (_c = attributes_1.return)) _c.call(attributes_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        _this.indexFormat = translateIndexFormat(descriptor.indexBufferFormat);\n        _this.buffers = buffers;\n        return _this;\n    }\n    return InputLayout_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Program_WebGPU = /** @class */ (function (_super) {\n    __extends(Program_WebGPU, _super);\n    function Program_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Program;\n        _this.vertexStage = null;\n        _this.fragmentStage = null;\n        _this.computeStage = null;\n        _this.descriptor = descriptor;\n        if (descriptor.vertex) {\n            _this.vertexStage = _this.createShaderStage(descriptor.vertex, 'vertex');\n        }\n        if (descriptor.fragment) {\n            _this.fragmentStage = _this.createShaderStage(descriptor.fragment, 'fragment');\n        }\n        if (descriptor.compute) {\n            // Only support WGSL now\n            _this.computeStage = _this.createShaderStage(descriptor.compute, 'compute');\n        }\n        return _this;\n    }\n    // eslint-disable-next-line\n    Program_WebGPU.prototype.setUniformsLegacy = function (uniforms) {\n    };\n    Program_WebGPU.prototype.createShaderStage = function (_a, shaderStage) {\n        var e_1, _b;\n        var glsl = _a.glsl, wgsl = _a.wgsl, entryPoint = _a.entryPoint, postprocess = _a.postprocess;\n        var validationEnabled = false;\n        // Use user-defined WGSL first.\n        var code = wgsl;\n        if (!code) {\n            try {\n                code = this.device['glsl_compile'](glsl, shaderStage, validationEnabled);\n            }\n            catch (e) {\n                console.error(e, glsl);\n                throw new Error('whoops');\n            }\n        }\n        var _loop_1 = function (depthTextureName) {\n            if (!code.includes(depthTextureName))\n                return \"continue\";\n            code = code.replace(\"var T_\".concat(depthTextureName, \": texture_2d<f32>;\"), \"var T_\".concat(depthTextureName, \": texture_depth_2d;\"));\n            code = code.replace(new RegExp(\"textureSample\\\\(T_\".concat(depthTextureName, \"(.*)\\\\);$\"), 'gm'), function (sub, cap) {\n                return \"vec4<f32>(textureSample(T_\".concat(depthTextureName).concat(cap, \"), 0.0, 0.0, 0.0);\");\n            });\n        };\n        try {\n            // Workaround for https://github.com/gfx-rs/naga/issues/1355\n            for (var _c = __values(['u_TextureFramebufferDepth']), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var depthTextureName = _d.value;\n                _loop_1(depthTextureName);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (postprocess) {\n            code = postprocess(code);\n        }\n        // @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createshadermodule\n        var shaderModule = this.device.device.createShaderModule({ code: code });\n        return { module: shaderModule, entryPoint: entryPoint || 'main' };\n    };\n    return Program_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar QueryPool_WebGPU = /** @class */ (function (_super) {\n    __extends(QueryPool_WebGPU, _super);\n    function QueryPool_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.QueryPool;\n        var elemCount = descriptor.elemCount, type = descriptor.type;\n        _this.querySet = _this.device.device.createQuerySet({\n            type: translateQueryPoolType(type),\n            count: elemCount,\n        });\n        _this.resolveBuffer = _this.device.device.createBuffer({\n            size: elemCount * 8,\n            usage: GPUBufferUsage.QUERY_RESOLVE | GPUBufferUsage.COPY_SRC,\n        });\n        _this.cpuBuffer = _this.device.device.createBuffer({\n            size: elemCount * 8,\n            usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ,\n        });\n        _this.results = null;\n        return _this;\n    }\n    QueryPool_WebGPU.prototype.queryResultOcclusion = function (dstOffs) {\n        if (this.results === null)\n            return null;\n        return this.results[dstOffs] !== BigInt(0);\n    };\n    QueryPool_WebGPU.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.querySet.destroy();\n        this.resolveBuffer.destroy();\n        this.cpuBuffer.destroy();\n    };\n    return QueryPool_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Readback_WebGPU = /** @class */ (function (_super) {\n    __extends(Readback_WebGPU, _super);\n    function Readback_WebGPU(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Readback;\n        return _this;\n    }\n    Readback_WebGPU.prototype.readTexture = function (t, x, y, width, height, dst, dstOffset, length) {\n        if (dstOffset === void 0) { dstOffset = 0; }\n        return __awaiter(this, void 0, void 0, function () {\n            var texture, faceIndex, blockInformation, bytesPerRow, bytesPerRowAligned, size, buffer, commandEncoder;\n            return __generator(this, function (_a) {\n                texture = t;\n                faceIndex = 0;\n                blockInformation = getBlockInformationFromFormat(texture.gpuTextureformat);\n                bytesPerRow = Math.ceil(width / blockInformation.width) * blockInformation.length;\n                bytesPerRowAligned = Math.ceil(bytesPerRow / 256) * 256;\n                size = bytesPerRowAligned * height;\n                buffer = this.device.createBuffer({\n                    usage: BufferUsage.STORAGE | BufferUsage.MAP_READ | BufferUsage.COPY_DST,\n                    hint: BufferFrequencyHint.STATIC,\n                    viewOrSize: size,\n                });\n                commandEncoder = this.device.device.createCommandEncoder();\n                // @see https://www.w3.org/TR/webgpu/#dom-gpucommandencoder-copytexturetobuffer\n                commandEncoder.copyTextureToBuffer({\n                    texture: texture.gpuTexture,\n                    mipLevel: 0,\n                    origin: {\n                        x: x,\n                        y: y,\n                        z: Math.max(faceIndex, 0),\n                    },\n                }, {\n                    buffer: buffer.gpuBuffer,\n                    offset: 0,\n                    bytesPerRow: bytesPerRowAligned,\n                }, {\n                    width: width,\n                    height: height,\n                    depthOrArrayLayers: 1,\n                });\n                this.device.device.queue.submit([commandEncoder.finish()]);\n                return [2 /*return*/, this.readBuffer(buffer, 0, dst.byteLength === size ? dst : null, dstOffset, size, texture.format, true, false, bytesPerRow, bytesPerRowAligned, height)];\n            });\n        });\n    };\n    Readback_WebGPU.prototype.readTextureSync = function (t, x, y, width, height, dst, dstOffset, length) {\n        throw new Error('ERROR_MSG_METHOD_NOT_IMPLEMENTED');\n    };\n    Readback_WebGPU.prototype.readBuffer = function (b, srcByteOffset, dstArrayBufferView, dstOffset, _size, type, noDataConversion, destroy, bytesPerRow, bytesPerRowAligned, height) {\n        var _this = this;\n        if (srcByteOffset === void 0) { srcByteOffset = 0; }\n        if (dstArrayBufferView === void 0) { dstArrayBufferView = null; }\n        if (_size === void 0) { _size = 0; }\n        if (type === void 0) { type = Format.U8_RGB; }\n        if (noDataConversion === void 0) { noDataConversion = false; }\n        if (bytesPerRow === void 0) { bytesPerRow = 0; }\n        if (bytesPerRowAligned === void 0) { bytesPerRowAligned = 0; }\n        if (height === void 0) { height = 0; }\n        var buffer = b;\n        var size = _size || buffer.size;\n        var dst = dstArrayBufferView || buffer.view;\n        var floatFormat = \n        // @ts-ignore\n        (dst && dst.constructor && dst.constructor.BYTES_PER_ELEMENT) ||\n            getFormatCompByteSize(type);\n        var gpuReadBuffer = buffer;\n        // can read buffer directly?\n        if (!(buffer.usage & BufferUsage.MAP_READ &&\n            buffer.usage & BufferUsage.COPY_DST)) {\n            var commandEncoder = this.device.device.createCommandEncoder();\n            gpuReadBuffer = this.device.createBuffer({\n                usage: BufferUsage.STORAGE | BufferUsage.MAP_READ | BufferUsage.COPY_DST,\n                hint: BufferFrequencyHint.STATIC,\n                viewOrSize: size,\n            });\n            // Encode commands for copying buffer to buffer.\n            commandEncoder.copyBufferToBuffer(buffer.gpuBuffer /* source buffer */, srcByteOffset /* source offset */, gpuReadBuffer.gpuBuffer /* destination buffer */, 0 /* destination offset */, size /* size */);\n            this.device.device.queue.submit([commandEncoder.finish()]);\n        }\n        return new Promise(function (resolve, reject) {\n            gpuReadBuffer.gpuBuffer\n                .mapAsync(GPUMapMode.READ, srcByteOffset, size)\n                .then(function () {\n                var copyArrayBuffer = gpuReadBuffer.gpuBuffer.getMappedRange(srcByteOffset, size);\n                var data = dst;\n                if (noDataConversion) {\n                    if (data === null) {\n                        data = allocateAndCopyTypedBuffer(type, size, true, copyArrayBuffer);\n                    }\n                    else {\n                        // @ts-ignore\n                        data = allocateAndCopyTypedBuffer(type, data.buffer, undefined, copyArrayBuffer);\n                    }\n                }\n                else {\n                    if (data === null) {\n                        switch (floatFormat) {\n                            case 1: // byte format\n                                data = new Uint8Array(size);\n                                data.set(new Uint8Array(copyArrayBuffer));\n                                break;\n                            case 2: // half float\n                                // TODO WEBGPU use computer shaders (or render pass) to make the conversion?\n                                data = _this.getHalfFloatAsFloatRGBAArrayBuffer(size / 2, copyArrayBuffer);\n                                break;\n                            case 4: // float\n                                data = new Float32Array(size / 4);\n                                data.set(new Float32Array(copyArrayBuffer));\n                                break;\n                        }\n                    }\n                    else {\n                        switch (floatFormat) {\n                            case 1: // byte format\n                                data = new Uint8Array(data.buffer);\n                                data.set(new Uint8Array(copyArrayBuffer));\n                                break;\n                            case 2: // half float\n                                // TODO WEBGPU use computer shaders (or render pass) to make the conversion?\n                                data = _this.getHalfFloatAsFloatRGBAArrayBuffer(size / 2, copyArrayBuffer, dst);\n                                break;\n                            case 4: // float\n                                var ctor = (dst && dst.constructor) || Float32Array;\n                                // @ts-ignore\n                                data = new ctor(data.buffer);\n                                // @ts-ignore\n                                data.set(new ctor(copyArrayBuffer));\n                                break;\n                        }\n                    }\n                }\n                if (bytesPerRow !== bytesPerRowAligned) {\n                    // TODO WEBGPU use computer shaders (or render pass) to build the final buffer data?\n                    if (floatFormat === 1 && !noDataConversion) {\n                        // half float have been converted to float above\n                        bytesPerRow *= 2;\n                        bytesPerRowAligned *= 2;\n                    }\n                    var data2 = new Uint8Array(data.buffer);\n                    var offset = bytesPerRow, offset2 = 0;\n                    for (var y = 1; y < height; ++y) {\n                        offset2 = y * bytesPerRowAligned;\n                        for (var x = 0; x < bytesPerRow; ++x) {\n                            data2[offset++] = data2[offset2++];\n                        }\n                    }\n                    if (floatFormat !== 0 && !noDataConversion) {\n                        data = new Float32Array(data2.buffer, 0, offset / 4);\n                    }\n                    else {\n                        data = new Uint8Array(data2.buffer, 0, offset);\n                    }\n                }\n                gpuReadBuffer.gpuBuffer.unmap();\n                resolve(data);\n            }, function (reason) { return reject(reason); });\n        });\n    };\n    Readback_WebGPU.prototype.getHalfFloatAsFloatRGBAArrayBuffer = function (dataLength, arrayBuffer, destArray) {\n        if (!destArray) {\n            destArray = new Float32Array(dataLength);\n        }\n        var srcData = new Uint16Array(arrayBuffer);\n        while (dataLength--) {\n            destArray[dataLength] = halfFloat2Number(srcData[dataLength]);\n        }\n        return destArray;\n    };\n    return Readback_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar RenderPass_WebGPU = /** @class */ (function () {\n    function RenderPass_WebGPU(device) {\n        this.device = device;\n        this.gpuRenderPassEncoder = null;\n        this.gfxColorAttachment = [];\n        this.gfxColorAttachmentLevel = [];\n        this.gfxColorResolveTo = [];\n        this.gfxColorResolveToLevel = [];\n        this.gfxDepthStencilAttachment = null;\n        this.gfxDepthStencilResolveTo = null;\n        this.gpuColorAttachments = [];\n        this.gpuDepthStencilAttachment = {\n            view: null,\n            depthLoadOp: 'load',\n            depthStoreOp: 'store',\n            stencilLoadOp: 'load',\n            stencilStoreOp: 'store',\n        };\n        this.gpuRenderPassDescriptor = {\n            colorAttachments: this.gpuColorAttachments,\n            depthStencilAttachment: this.gpuDepthStencilAttachment,\n        };\n    }\n    RenderPass_WebGPU.prototype.getEncoder = function () {\n        var _a;\n        return (((_a = this.renderBundle) === null || _a === void 0 ? void 0 : _a['renderBundleEncoder']) || this.gpuRenderPassEncoder);\n    };\n    RenderPass_WebGPU.prototype.getTextureView = function (target, level) {\n        assert(level < target.mipLevelCount);\n        if (target.mipLevelCount === 1)\n            return target.gpuTextureView;\n        else\n            return target.gpuTexture.createView({\n                baseMipLevel: level,\n                mipLevelCount: 1,\n            });\n    };\n    RenderPass_WebGPU.prototype.setRenderPassDescriptor = function (descriptor) {\n        var _a, _b, _c, _d, _e, _f;\n        this.descriptor = descriptor;\n        this.gpuRenderPassDescriptor.colorAttachments = this.gpuColorAttachments;\n        var numColorAttachments = descriptor.colorAttachment.length;\n        this.gfxColorAttachment.length = numColorAttachments;\n        this.gfxColorResolveTo.length = numColorAttachments;\n        for (var i = 0; i < descriptor.colorAttachment.length; i++) {\n            var colorAttachment = descriptor\n                .colorAttachment[i];\n            var colorResolveTo = descriptor\n                .colorResolveTo[i];\n            // Do some dumb juggling...\n            if (colorAttachment === null && colorResolveTo !== null) {\n                colorAttachment = colorResolveTo;\n                colorResolveTo = null;\n            }\n            this.gfxColorAttachment[i] = colorAttachment;\n            this.gfxColorResolveTo[i] = colorResolveTo;\n            this.gfxColorAttachmentLevel[i] =\n                ((_a = descriptor.colorAttachmentLevel) === null || _a === void 0 ? void 0 : _a[i]) || 0;\n            this.gfxColorResolveToLevel[i] = ((_b = descriptor.colorResolveToLevel) === null || _b === void 0 ? void 0 : _b[i]) || 0;\n            if (colorAttachment !== null) {\n                if (this.gpuColorAttachments[i] === undefined) {\n                    this.gpuColorAttachments[i] = {};\n                }\n                var dstAttachment = this.gpuColorAttachments[i];\n                dstAttachment.view = this.getTextureView(colorAttachment, ((_c = this.gfxColorAttachmentLevel) === null || _c === void 0 ? void 0 : _c[i]) || 0);\n                var clearColor = (_e = (_d = descriptor.colorClearColor) === null || _d === void 0 ? void 0 : _d[i]) !== null && _e !== void 0 ? _e : 'load';\n                if (clearColor === 'load') {\n                    dstAttachment.loadOp = 'load';\n                }\n                else {\n                    dstAttachment.loadOp = 'clear';\n                    dstAttachment.clearValue = clearColor;\n                }\n                dstAttachment.storeOp = ((_f = descriptor.colorStore) === null || _f === void 0 ? void 0 : _f[i])\n                    ? 'store'\n                    : 'discard';\n                dstAttachment.resolveTarget = undefined;\n                if (colorResolveTo !== null) {\n                    if (colorAttachment.sampleCount > 1) {\n                        dstAttachment.resolveTarget = this.getTextureView(colorResolveTo, this.gfxColorResolveToLevel[i]);\n                    }\n                    else {\n                        dstAttachment.storeOp = 'store';\n                    }\n                }\n            }\n            else {\n                // https://github.com/gpuweb/gpuweb/issues/1250\n                this.gpuColorAttachments.length = i;\n                this.gfxColorAttachment.length = i;\n                this.gfxColorResolveTo.length = i;\n                break;\n            }\n        }\n        this.gfxDepthStencilAttachment =\n            descriptor.depthStencilAttachment;\n        this.gfxDepthStencilResolveTo =\n            descriptor.depthStencilResolveTo;\n        if (descriptor.depthStencilAttachment) {\n            var dsAttachment = descriptor.depthStencilAttachment;\n            var dstAttachment = this.gpuDepthStencilAttachment;\n            dstAttachment.view = dsAttachment.gpuTextureView;\n            var hasDepth = !!(getFormatFlags(dsAttachment.format) & FormatFlags.Depth);\n            if (hasDepth) {\n                if (descriptor.depthClearValue === 'load') {\n                    dstAttachment.depthLoadOp = 'load';\n                }\n                else {\n                    dstAttachment.depthLoadOp = 'clear';\n                    dstAttachment.depthClearValue = descriptor.depthClearValue;\n                }\n                if (descriptor.depthStencilStore ||\n                    this.gfxDepthStencilResolveTo !== null)\n                    dstAttachment.depthStoreOp = 'store';\n                else\n                    dstAttachment.depthStoreOp = 'discard';\n            }\n            else {\n                dstAttachment.depthLoadOp = undefined;\n                dstAttachment.depthStoreOp = undefined;\n            }\n            var hasStencil = !!(getFormatFlags(dsAttachment.format) & FormatFlags.Stencil);\n            if (hasStencil) {\n                if (descriptor.stencilClearValue === 'load') {\n                    dstAttachment.stencilLoadOp = 'load';\n                }\n                else {\n                    dstAttachment.stencilLoadOp = 'clear';\n                    dstAttachment.stencilClearValue = descriptor.stencilClearValue;\n                }\n                if (descriptor.depthStencilStore ||\n                    this.gfxDepthStencilResolveTo !== null)\n                    dstAttachment.stencilStoreOp = 'store';\n                else\n                    dstAttachment.stencilStoreOp = 'discard';\n            }\n            else {\n                dstAttachment.stencilLoadOp = undefined;\n                dstAttachment.stencilStoreOp = undefined;\n            }\n            this.gpuRenderPassDescriptor.depthStencilAttachment =\n                this.gpuDepthStencilAttachment;\n        }\n        else {\n            this.gpuRenderPassDescriptor.depthStencilAttachment = undefined;\n        }\n        this.gpuRenderPassDescriptor.occlusionQuerySet = !isNil(descriptor.occlusionQueryPool)\n            ? getPlatformQuerySet(descriptor.occlusionQueryPool)\n            : undefined;\n    };\n    RenderPass_WebGPU.prototype.beginRenderPass = function (commandEncoder, renderPassDescriptor) {\n        assert(this.gpuRenderPassEncoder === null);\n        this.setRenderPassDescriptor(renderPassDescriptor);\n        this.frameCommandEncoder = commandEncoder;\n        this.gpuRenderPassEncoder = this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor);\n    };\n    RenderPass_WebGPU.prototype.flipY = function (y, h) {\n        var height = this.device['swapChainHeight'];\n        return height - y - h;\n    };\n    RenderPass_WebGPU.prototype.setViewport = function (x, y, w, h, minDepth, maxDepth) {\n        if (minDepth === void 0) { minDepth = 0; }\n        if (maxDepth === void 0) { maxDepth = 1; }\n        this.gpuRenderPassEncoder.setViewport(x, this.flipY(y, h), w, h, minDepth, maxDepth);\n    };\n    RenderPass_WebGPU.prototype.setScissorRect = function (x, y, w, h) {\n        this.gpuRenderPassEncoder.setScissorRect(x, this.flipY(y, h), w, h);\n    };\n    RenderPass_WebGPU.prototype.setPipeline = function (pipeline_) {\n        var pipeline = pipeline_;\n        var gpuRenderPipeline = assertExists(pipeline.gpuRenderPipeline);\n        this.getEncoder().setPipeline(gpuRenderPipeline);\n    };\n    RenderPass_WebGPU.prototype.setVertexInput = function (inputLayout_, vertexBuffers, indexBuffer) {\n        if (inputLayout_ === null)\n            return;\n        var encoder = this.getEncoder();\n        var inputLayout = inputLayout_;\n        if (indexBuffer !== null)\n            encoder.setIndexBuffer(getPlatformBuffer(indexBuffer.buffer), assertExists(inputLayout.indexFormat), indexBuffer.offset);\n        for (var i = 0; i < vertexBuffers.length; i++) {\n            var b = vertexBuffers[i];\n            if (b === null)\n                continue;\n            encoder.setVertexBuffer(i, getPlatformBuffer(b.buffer), b.offset);\n        }\n    };\n    RenderPass_WebGPU.prototype.setBindings = function (bindings_) {\n        var bindings = bindings_;\n        var encoder = this.getEncoder();\n        bindings.gpuBindGroup.forEach(function (gpuBindGroup, i) {\n            if (gpuBindGroup) {\n                encoder.setBindGroup(i, bindings.gpuBindGroup[i]);\n            }\n        });\n    };\n    RenderPass_WebGPU.prototype.setStencilReference = function (ref) {\n        this.gpuRenderPassEncoder.setStencilReference(ref);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-draw\n     */\n    RenderPass_WebGPU.prototype.draw = function (vertexCount, instanceCount, firstVertex, firstInstance) {\n        this.getEncoder().draw(vertexCount, instanceCount, firstVertex, firstInstance);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindexed\n     */\n    RenderPass_WebGPU.prototype.drawIndexed = function (indexCount, instanceCount, firstIndex, baseVertex, firstInstance) {\n        this.getEncoder().drawIndexed(indexCount, instanceCount, firstIndex, baseVertex, firstInstance);\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpurendercommandsmixin-drawindirect\n     */\n    RenderPass_WebGPU.prototype.drawIndirect = function (indirectBuffer, indirectOffset) {\n        this.getEncoder().drawIndirect(getPlatformBuffer(indirectBuffer), indirectOffset);\n    };\n    RenderPass_WebGPU.prototype.drawIndexedIndirect = function (indirectBuffer, indirectOffset) {\n        this.getEncoder().drawIndexedIndirect(getPlatformBuffer(indirectBuffer), indirectOffset);\n    };\n    RenderPass_WebGPU.prototype.beginOcclusionQuery = function (queryIndex) {\n        this.gpuRenderPassEncoder.beginOcclusionQuery(queryIndex);\n    };\n    RenderPass_WebGPU.prototype.endOcclusionQuery = function () {\n        this.gpuRenderPassEncoder.endOcclusionQuery();\n    };\n    RenderPass_WebGPU.prototype.pushDebugGroup = function (name) {\n        this.gpuRenderPassEncoder.pushDebugGroup(name);\n    };\n    RenderPass_WebGPU.prototype.popDebugGroup = function () {\n        this.gpuRenderPassEncoder.popDebugGroup();\n    };\n    RenderPass_WebGPU.prototype.insertDebugMarker = function (markerLabel) {\n        this.gpuRenderPassEncoder.insertDebugMarker(markerLabel);\n    };\n    RenderPass_WebGPU.prototype.beginBundle = function (renderBundle) {\n        this.renderBundle = renderBundle;\n    };\n    RenderPass_WebGPU.prototype.endBundle = function () {\n        this.renderBundle.finish();\n    };\n    RenderPass_WebGPU.prototype.executeBundles = function (renderBundles) {\n        this.gpuRenderPassEncoder.executeBundles(renderBundles.map(function (bundle) { return bundle.renderBundle; }));\n    };\n    RenderPass_WebGPU.prototype.finish = function () {\n        var _a;\n        (_a = this.gpuRenderPassEncoder) === null || _a === void 0 ? void 0 : _a.end();\n        this.gpuRenderPassEncoder = null;\n        // Fake a resolve with a copy for non-MSAA.\n        for (var i = 0; i < this.gfxColorAttachment.length; i++) {\n            var colorAttachment = this.gfxColorAttachment[i];\n            var colorResolveTo = this.gfxColorResolveTo[i];\n            if (colorAttachment !== null &&\n                colorResolveTo !== null &&\n                colorAttachment.sampleCount === 1) {\n                this.copyAttachment(colorResolveTo, this.gfxColorAttachmentLevel[i], colorAttachment, this.gfxColorResolveToLevel[i]);\n            }\n        }\n        if (this.gfxDepthStencilAttachment && this.gfxDepthStencilResolveTo) {\n            if (this.gfxDepthStencilAttachment.sampleCount > 1) ;\n            else {\n                this.copyAttachment(this.gfxDepthStencilResolveTo, 0, this.gfxDepthStencilAttachment, 0);\n            }\n        }\n        this.frameCommandEncoder = null;\n    };\n    RenderPass_WebGPU.prototype.copyAttachment = function (dst, dstLevel, src, srcLevel) {\n        assert(src.sampleCount === 1);\n        var srcCopy = {\n            texture: src.gpuTexture,\n            mipLevel: srcLevel,\n        };\n        var dstCopy = {\n            texture: dst.gpuTexture,\n            mipLevel: dstLevel,\n        };\n        assert(src.width >>> srcLevel === dst.width >>> dstLevel);\n        assert(src.height >>> srcLevel === dst.height >>> dstLevel);\n        assert(!!(src.usage & GPUTextureUsage$1.COPY_SRC));\n        assert(!!(dst.usage & GPUTextureUsage$1.COPY_DST));\n        this.frameCommandEncoder.copyTextureToTexture(srcCopy, dstCopy, [\n            dst.width,\n            dst.height,\n            1,\n        ]);\n    };\n    return RenderPass_WebGPU;\n}());\n\nvar RenderPipeline_WebGPU = /** @class */ (function (_super) {\n    __extends(RenderPipeline_WebGPU, _super);\n    function RenderPipeline_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderPipeline;\n        _this.isCreatingAsync = false;\n        _this.gpuRenderPipeline = null;\n        _this.descriptor = descriptor;\n        _this.device['createRenderPipelineInternal'](_this, false);\n        return _this;\n    }\n    RenderPipeline_WebGPU.prototype.getBindGroupLayout = function (index) {\n        return this.gpuRenderPipeline.getBindGroupLayout(index);\n    };\n    return RenderPipeline_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Sampler_WebGPU = /** @class */ (function (_super) {\n    __extends(Sampler_WebGPU, _super);\n    function Sampler_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor;\n        var _b, _c;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Sampler;\n        var lodMinClamp = descriptor.lodMinClamp;\n        var lodMaxClamp = descriptor.mipmapFilter === MipmapFilterMode.NO_MIP\n            ? descriptor.lodMinClamp\n            : descriptor.lodMaxClamp;\n        var maxAnisotropy = (_b = descriptor.maxAnisotropy) !== null && _b !== void 0 ? _b : 1;\n        if (maxAnisotropy > 1)\n            assert(descriptor.minFilter === FilterMode.BILINEAR &&\n                descriptor.magFilter === FilterMode.BILINEAR &&\n                descriptor.mipmapFilter === MipmapFilterMode.LINEAR);\n        _this.gpuSampler = _this.device.device.createSampler({\n            addressModeU: translateAddressMode(descriptor.addressModeU),\n            addressModeV: translateAddressMode(descriptor.addressModeV),\n            addressModeW: translateAddressMode((_c = descriptor.addressModeW) !== null && _c !== void 0 ? _c : descriptor.addressModeU),\n            lodMinClamp: lodMinClamp,\n            lodMaxClamp: lodMaxClamp,\n            minFilter: translateMinMagFilter(descriptor.minFilter),\n            magFilter: translateMinMagFilter(descriptor.magFilter),\n            mipmapFilter: translateMipFilter(descriptor.mipmapFilter),\n            compare: descriptor.compareFunction !== undefined\n                ? translateCompareFunction(descriptor.compareFunction)\n                : undefined,\n            maxAnisotropy: maxAnisotropy,\n        });\n        return _this;\n    }\n    return Sampler_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Texture_WebGPU = /** @class */ (function (_super) {\n    __extends(Texture_WebGPU, _super);\n    function Texture_WebGPU(_a) {\n        var id = _a.id, device = _a.device, descriptor = _a.descriptor, skipCreate = _a.skipCreate, sampleCount = _a.sampleCount;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.Texture;\n        _this.flipY = false;\n        var format = descriptor.format, dimension = descriptor.dimension, width = descriptor.width, height = descriptor.height, depthOrArrayLayers = descriptor.depthOrArrayLayers, mipLevelCount = descriptor.mipLevelCount, usage = descriptor.usage, pixelStore = descriptor.pixelStore;\n        _this.flipY = !!(pixelStore === null || pixelStore === void 0 ? void 0 : pixelStore.unpackFlipY);\n        _this.device.createTextureShared({\n            format: format,\n            dimension: dimension !== null && dimension !== void 0 ? dimension : TextureDimension.TEXTURE_2D,\n            width: width,\n            height: height,\n            depthOrArrayLayers: depthOrArrayLayers !== null && depthOrArrayLayers !== void 0 ? depthOrArrayLayers : 1,\n            mipLevelCount: mipLevelCount !== null && mipLevelCount !== void 0 ? mipLevelCount : 1,\n            usage: usage,\n            sampleCount: sampleCount !== null && sampleCount !== void 0 ? sampleCount : 1,\n        }, _this, skipCreate);\n        return _this;\n    }\n    Texture_WebGPU.prototype.textureFromImageBitmapOrCanvas = function (device, sources, depthOrArrayLayers) {\n        var width = sources[0].width;\n        var height = sources[0].height;\n        var textureDescriptor = {\n            // Unlike in WebGL, the size of our texture must be set at texture creation time.\n            // This means we have to wait until the image is loaded to create the texture, since we won't\n            // know the size until then.\n            size: { width: width, height: height, depthOrArrayLayers: depthOrArrayLayers },\n            format: 'rgba8unorm',\n            usage: GPUTextureUsage.TEXTURE_BINDING |\n                GPUTextureUsage.COPY_DST |\n                GPUTextureUsage.RENDER_ATTACHMENT,\n        };\n        var texture = device.createTexture(textureDescriptor);\n        for (var i = 0; i < sources.length; i++) {\n            device.queue.copyExternalImageToTexture({ source: sources[i], flipY: this.flipY }, { texture: texture, origin: [0, 0, i] }, [width, height]);\n        }\n        return [texture, width, height];\n    };\n    Texture_WebGPU.prototype.isImageBitmapOrCanvases = function (datas) {\n        var data = datas[0];\n        return (data instanceof ImageBitmap ||\n            data instanceof HTMLCanvasElement ||\n            data instanceof OffscreenCanvas);\n    };\n    Texture_WebGPU.prototype.isVideo = function (datas) {\n        var data = datas[0];\n        return data instanceof HTMLVideoElement;\n    };\n    /**\n     * @see https://toji.dev/webgpu-best-practices/img-textures\n     */\n    Texture_WebGPU.prototype.setImageData = function (datas, lod) {\n        var _a;\n        var _this = this;\n        var device = this.device.device;\n        var texture;\n        var width;\n        var height;\n        if (this.isImageBitmapOrCanvases(datas)) {\n            _a = __read(this.textureFromImageBitmapOrCanvas(device, datas, this.depthOrArrayLayers), 3), texture = _a[0], width = _a[1], height = _a[2];\n        }\n        else if (this.isVideo(datas)) {\n            // @see https://toji.dev/webgpu-best-practices/img-textures#creating-a-texture-from-an-htmlvideoelement-video-tag\n            texture = device.importExternalTexture({\n                source: datas[0],\n            });\n        }\n        else {\n            var blockInformation = getBlockInformationFromFormat(this.gpuTextureformat);\n            var bytesPerRow_1 = Math.ceil(this.width / blockInformation.width) *\n                blockInformation.length;\n            // TODO: support ArrayBufferView[]\n            datas.forEach(function (data) {\n                device.queue.writeTexture({ texture: _this.gpuTexture }, data, {\n                    bytesPerRow: bytesPerRow_1,\n                }, {\n                    width: _this.width,\n                    height: _this.height,\n                });\n            });\n        }\n        this.width = width;\n        this.height = height;\n        if (texture) {\n            this.gpuTexture = texture;\n        }\n        this.gpuTextureView = this.gpuTexture.createView({\n            dimension: translateTextureViewDimension(this.dimension),\n        });\n    };\n    Texture_WebGPU.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        // @see https://www.w3.org/TR/webgpu/#dom-gputexture-destroy\n        this.gpuTexture.destroy();\n    };\n    return Texture_WebGPU;\n}(ResourceBase_WebGPU));\n\n/**\n * It works by recording the draw calls during one frame and by replaying this recording for all subsequent frames.\n * So, the scene should be mostly static for this mode to work as expected.\n * @see https://doc.babylonjs.com/setup/support/webGPU/webGPUOptimization/webGPUSnapshotRendering\n */\nvar RenderBundle_WebGPU = /** @class */ (function (_super) {\n    __extends(RenderBundle_WebGPU, _super);\n    function RenderBundle_WebGPU(_a) {\n        var id = _a.id, device = _a.device;\n        var _this = _super.call(this, { id: id, device: device }) || this;\n        _this.type = ResourceType.RenderBundle;\n        _this.renderBundleEncoder = _this.device.device.createRenderBundleEncoder({\n            colorFormats: [_this.device['swapChainFormat']],\n        });\n        return _this;\n    }\n    RenderBundle_WebGPU.prototype.finish = function () {\n        this.renderBundle = this.renderBundleEncoder.finish();\n    };\n    return RenderBundle_WebGPU;\n}(ResourceBase_WebGPU));\n\nvar Device_WebGPU = /** @class */ (function () {\n    function Device_WebGPU(adapter, device, canvas, canvasContext, glsl_compile, wGSLComposer) {\n        this.swapChainWidth = 0;\n        this.swapChainHeight = 0;\n        this.swapChainTextureUsage = GPUTextureUsage$1.RENDER_ATTACHMENT | GPUTextureUsage$1.COPY_DST;\n        this._resourceUniqueId = 0;\n        this.renderPassPool = [];\n        this.computePassPool = [];\n        this.frameCommandEncoderPool = [];\n        this.featureTextureCompressionBC = false;\n        // VendorInfo\n        this.platformString = 'WebGPU';\n        this.glslVersion = \"#version 440\";\n        this.explicitBindingLocations = true;\n        this.separateSamplerTextures = true;\n        this.viewportOrigin = ViewportOrigin.UPPER_LEFT;\n        this.clipSpaceNearZ = ClipSpaceNearZ.ZERO;\n        this.supportsSyncPipelineCompilation = false;\n        this.supportMRT = true;\n        this.device = device;\n        this.canvas = canvas;\n        this.canvasContext = canvasContext;\n        this.glsl_compile = glsl_compile;\n        this.WGSLComposer = wGSLComposer;\n        this.fallbackTexture2D = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTexture2D, 'Fallback Texture2D');\n        this.fallbackTexture2DDepth = this.createFallbackTexture(TextureDimension.TEXTURE_2D, SamplerFormatKind.Depth);\n        this.setResourceName(this.fallbackTexture2DDepth, 'Fallback Depth Texture2D');\n        this.fallbackTexture2DArray = this.createFallbackTexture(TextureDimension.TEXTURE_2D_ARRAY, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTexture2DArray, 'Fallback Texture2DArray');\n        this.fallbackTexture3D = this.createFallbackTexture(TextureDimension.TEXTURE_3D, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTexture3D, 'Fallback Texture3D');\n        this.fallbackTextureCube = this.createFallbackTexture(TextureDimension.TEXTURE_CUBE_MAP, SamplerFormatKind.Float);\n        this.setResourceName(this.fallbackTextureCube, 'Fallback TextureCube');\n        this.fallbackSamplerFiltering = this.createSampler({\n            addressModeU: AddressMode.REPEAT,\n            addressModeV: AddressMode.REPEAT,\n            minFilter: FilterMode.POINT,\n            magFilter: FilterMode.POINT,\n            mipmapFilter: MipmapFilterMode.NEAREST,\n        });\n        this.setResourceName(this.fallbackSamplerFiltering, 'Fallback Sampler Filtering');\n        this.fallbackSamplerComparison = this.createSampler({\n            addressModeU: AddressMode.REPEAT,\n            addressModeV: AddressMode.REPEAT,\n            minFilter: FilterMode.POINT,\n            magFilter: FilterMode.POINT,\n            mipmapFilter: MipmapFilterMode.NEAREST,\n            compareFunction: CompareFunction.ALWAYS,\n        });\n        this.setResourceName(this.fallbackSamplerComparison, 'Fallback Sampler Comparison Filtering');\n        // Firefox doesn't support GPUDevice.features yet...\n        if (this.device.features) {\n            this.featureTextureCompressionBC = this.device.features.has('texture-compression-bc');\n        }\n        this.device.onuncapturederror = function (event) {\n            console.error(event.error);\n        };\n        this.swapChainFormat = navigator.gpu.getPreferredCanvasFormat();\n        // @see https://www.w3.org/TR/webgpu/#canvas-configuration\n        this.canvasContext.configure({\n            device: this.device,\n            format: this.swapChainFormat,\n            usage: this.swapChainTextureUsage,\n            // @see https://www.w3.org/TR/webgpu/#gpucanvasalphamode\n            // alphaMode: 'opaque',\n            alphaMode: 'premultiplied',\n        });\n    }\n    Device_WebGPU.prototype.destroy = function () { };\n    // SwapChain\n    Device_WebGPU.prototype.configureSwapChain = function (width, height) {\n        if (this.swapChainWidth === width && this.swapChainHeight === height)\n            return;\n        this.swapChainWidth = width;\n        this.swapChainHeight = height;\n    };\n    Device_WebGPU.prototype.getOnscreenTexture = function () {\n        // @see https://www.w3.org/TR/webgpu/#dom-gpucanvascontext-getcurrenttexture\n        var gpuTexture = this.canvasContext.getCurrentTexture();\n        var gpuTextureView = gpuTexture.createView();\n        var texture = new Texture_WebGPU({\n            id: 0,\n            device: this,\n            descriptor: {\n                format: Format.U8_RGBA_RT,\n                width: this.swapChainWidth,\n                height: this.swapChainHeight,\n                depthOrArrayLayers: 0,\n                dimension: TextureDimension.TEXTURE_2D,\n                mipLevelCount: 1,\n                usage: this.swapChainTextureUsage,\n            },\n            skipCreate: true,\n        });\n        texture.depthOrArrayLayers = 1;\n        texture.sampleCount = 1;\n        texture.gpuTexture = gpuTexture;\n        texture.gpuTextureView = gpuTextureView;\n        texture.name = 'Onscreen';\n        this.setResourceName(texture, 'Onscreen Texture');\n        return texture;\n    };\n    Device_WebGPU.prototype.getDevice = function () {\n        return this;\n    };\n    Device_WebGPU.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    Device_WebGPU.prototype.beginFrame = function () {\n        assert(this.frameCommandEncoderPool.length === 0);\n    };\n    Device_WebGPU.prototype.endFrame = function () {\n        assert(this.frameCommandEncoderPool.every(function (frameCommandEncoder) { return frameCommandEncoder !== null; }));\n        this.device.queue.submit(this.frameCommandEncoderPool.map(function (frameCommandEncoder) {\n            return frameCommandEncoder.finish();\n        }));\n        this.frameCommandEncoderPool = [];\n        // for (let i = 0; i < this.queryPoolsSubmitted.length; i++) {\n        //   const queryPool = this.queryPoolsSubmitted[i];\n        //   queryPool.cpuBuffer.mapAsync(GPUMapMode.READ).then(() => {\n        //     queryPool.results = new BigUint64Array(\n        //       queryPool.cpuBuffer.getMappedRange(),\n        //     );\n        //   });\n        // }\n        // this.queryPoolsSubmitted.length = 0;\n    };\n    Device_WebGPU.prototype.getNextUniqueId = function () {\n        return ++this._resourceUniqueId;\n    };\n    Device_WebGPU.prototype.createBuffer = function (descriptor) {\n        return new Buffer_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createTexture = function (descriptor) {\n        return new Texture_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    /**\n     * @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createsampler\n     * @see https://www.w3.org/TR/webgpu/#GPUSamplerDescriptor\n     */\n    Device_WebGPU.prototype.createSampler = function (descriptor) {\n        return new Sampler_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createRenderTarget = function (descriptor) {\n        var texture = new Texture_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: __assign(__assign({}, descriptor), { dimension: TextureDimension.TEXTURE_2D, mipLevelCount: 1, depthOrArrayLayers: 1, usage: TextureUsage.RENDER_TARGET }),\n            sampleCount: descriptor.sampleCount,\n        });\n        texture.depthOrArrayLayers = 1;\n        // @ts-ignore\n        texture.type = ResourceType.RenderTarget;\n        return texture;\n    };\n    Device_WebGPU.prototype.createRenderTargetFromTexture = function (texture) {\n        var _a = texture, format = _a.format, width = _a.width, height = _a.height, depthOrArrayLayers = _a.depthOrArrayLayers, sampleCount = _a.sampleCount, mipLevelCount = _a.mipLevelCount, gpuTexture = _a.gpuTexture, gpuTextureView = _a.gpuTextureView, usage = _a.usage;\n        assert(!!(usage & GPUTextureUsage$1.RENDER_ATTACHMENT));\n        var attachment = new Texture_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                format: format,\n                width: width,\n                height: height,\n                depthOrArrayLayers: depthOrArrayLayers,\n                dimension: TextureDimension.TEXTURE_2D,\n                mipLevelCount: mipLevelCount,\n                usage: usage,\n            },\n            skipCreate: true,\n        });\n        attachment.depthOrArrayLayers = depthOrArrayLayers;\n        attachment.sampleCount = sampleCount;\n        attachment.gpuTexture = gpuTexture;\n        attachment.gpuTextureView = gpuTextureView;\n        return attachment;\n    };\n    Device_WebGPU.prototype.createProgram = function (descriptor) {\n        var _a, _b;\n        // preprocess GLSL first\n        if ((_a = descriptor.vertex) === null || _a === void 0 ? void 0 : _a.glsl) {\n            descriptor.vertex.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'vert', descriptor.vertex.glsl);\n        }\n        if ((_b = descriptor.fragment) === null || _b === void 0 ? void 0 : _b.glsl) {\n            descriptor.fragment.glsl = preprocessShader_GLSL(this.queryVendorInfo(), 'frag', descriptor.fragment.glsl);\n        }\n        return new Program_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createProgramSimple = function (descriptor) {\n        return new Program_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createTextureShared = function (descriptor, texture, skipCreate) {\n        var size = {\n            width: descriptor.width,\n            height: descriptor.height,\n            depthOrArrayLayers: descriptor.depthOrArrayLayers,\n        };\n        var mipLevelCount = descriptor.mipLevelCount;\n        var format = translateTextureFormat(descriptor.format);\n        var dimension = translateTextureDimension(descriptor.dimension);\n        var usage = translateTextureUsage(descriptor.usage);\n        texture.gpuTextureformat = format;\n        texture.dimension = descriptor.dimension;\n        texture.format = descriptor.format;\n        texture.width = descriptor.width;\n        texture.height = descriptor.height;\n        texture.depthOrArrayLayers = descriptor.depthOrArrayLayers;\n        texture.mipLevelCount = mipLevelCount;\n        texture.usage = usage;\n        texture.sampleCount = descriptor.sampleCount;\n        if (!skipCreate) {\n            var gpuTexture = this.device.createTexture({\n                size: size,\n                mipLevelCount: mipLevelCount,\n                format: format,\n                dimension: dimension,\n                sampleCount: descriptor.sampleCount,\n                usage: usage,\n            });\n            var gpuTextureView = gpuTexture.createView();\n            texture.gpuTexture = gpuTexture;\n            texture.gpuTextureView = gpuTextureView;\n        }\n    };\n    Device_WebGPU.prototype.getFallbackSampler = function (samplerEntry) {\n        var formatKind = samplerEntry.formatKind;\n        if (formatKind === SamplerFormatKind.Depth && samplerEntry.comparison) {\n            return this.fallbackSamplerComparison;\n        }\n        else {\n            return this.fallbackSamplerFiltering;\n        }\n    };\n    Device_WebGPU.prototype.getFallbackTexture = function (samplerEntry) {\n        var dimension = samplerEntry.dimension, formatKind = samplerEntry.formatKind;\n        if (dimension === TextureDimension.TEXTURE_2D)\n            return formatKind === SamplerFormatKind.Depth\n                ? this.fallbackTexture2DDepth\n                : this.fallbackTexture2D;\n        else if (dimension === TextureDimension.TEXTURE_2D_ARRAY)\n            return this.fallbackTexture2DArray;\n        else if (dimension === TextureDimension.TEXTURE_3D)\n            return this.fallbackTexture3D;\n        else if (dimension === TextureDimension.TEXTURE_CUBE_MAP)\n            return this.fallbackTextureCube;\n        else\n            throw new Error('whoops');\n    };\n    Device_WebGPU.prototype.createFallbackTexture = function (dimension, formatKind) {\n        var depthOrArrayLayers = dimension === TextureDimension.TEXTURE_CUBE_MAP ? 6 : 1;\n        var format = formatKind === SamplerFormatKind.Float ? Format.U8_RGBA_NORM : Format.D24;\n        return this.createTexture({\n            dimension: dimension,\n            format: format,\n            usage: TextureUsage.SAMPLED,\n            width: 1,\n            height: 1,\n            depthOrArrayLayers: depthOrArrayLayers,\n            mipLevelCount: 1,\n        });\n    };\n    Device_WebGPU.prototype.createBindings = function (descriptor) {\n        return new Bindings_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createInputLayout = function (descriptor) {\n        return new InputLayout_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createComputePipeline = function (descriptor) {\n        return new ComputePipeline_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: descriptor,\n        });\n    };\n    Device_WebGPU.prototype.createRenderPipeline = function (descriptor) {\n        return new RenderPipeline_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: __assign({}, descriptor),\n        });\n    };\n    Device_WebGPU.prototype.createQueryPool = function (type, elemCount) {\n        return new QueryPool_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n            descriptor: {\n                type: type,\n                elemCount: elemCount,\n            },\n        });\n    };\n    Device_WebGPU.prototype.createRenderPipelineInternal = function (renderPipeline, async) {\n        // if (this.device.createRenderPipelineAsync === undefined) {\n        //   async = false;\n        // }\n        var _a;\n        // // If we're already in the process of creating a the pipeline async, no need to kick the process off again...\n        // if (async && renderPipeline.isCreatingAsync) {\n        //   return;\n        // }\n        if (renderPipeline.gpuRenderPipeline !== null) {\n            return;\n        }\n        var descriptor = renderPipeline.descriptor;\n        var program = descriptor.program;\n        var vertexStage = program.vertexStage, fragmentStage = program.fragmentStage;\n        if (vertexStage === null || fragmentStage === null)\n            return;\n        var _b = descriptor.megaStateDescriptor || {}, stencilBack = _b.stencilBack, stencilFront = _b.stencilFront, rest = __rest(_b, [\"stencilBack\", \"stencilFront\"]);\n        var copied = copyMegaState(defaultMegaState);\n        descriptor.megaStateDescriptor = __assign(__assign(__assign({}, copied), { stencilBack: __assign(__assign({}, copied.stencilBack), stencilBack), stencilFront: __assign(__assign({}, copied.stencilFront), stencilFront) }), rest);\n        var defaultAttachmentState = descriptor.megaStateDescriptor.attachmentsState[0];\n        descriptor.colorAttachmentFormats.forEach(function (format, i) {\n            if (!descriptor.megaStateDescriptor.attachmentsState[i]) {\n                descriptor.megaStateDescriptor.attachmentsState[i] =\n                    copyAttachmentState(undefined, defaultAttachmentState);\n            }\n        });\n        var primitive = translatePrimitiveState((_a = descriptor.topology) !== null && _a !== void 0 ? _a : PrimitiveTopology.TRIANGLES, descriptor.megaStateDescriptor);\n        var targets = translateTargets(descriptor.colorAttachmentFormats, descriptor.megaStateDescriptor);\n        var depthStencil = translateDepthStencilState(descriptor.depthStencilAttachmentFormat, descriptor.megaStateDescriptor);\n        var buffers = undefined;\n        if (descriptor.inputLayout !== null)\n            buffers = descriptor.inputLayout.buffers;\n        var sampleCount = descriptor.sampleCount;\n        // renderPipeline.isCreatingAsync = true;\n        var gpuRenderPipelineDescriptor = {\n            // layout,\n            layout: 'auto',\n            vertex: __assign(__assign({}, vertexStage), { buffers: buffers }),\n            primitive: primitive,\n            depthStencil: depthStencil,\n            multisample: {\n                count: sampleCount,\n            },\n            fragment: __assign(__assign({}, fragmentStage), { targets: targets }),\n        };\n        // TODO: async creation\n        // @see https://www.w3.org/TR/webgpu/#dom-gpudevice-createrenderpipeline\n        // renderPipeline.gpuRenderPipeline =\n        //   this.device.createRenderPipeline(gpuRenderPipeline);\n        // if (renderPipeline.name !== undefined)\n        //   renderPipeline.gpuRenderPipeline.label = renderPipeline.name;\n        // if (async) {\n        //   const gpuRenderPipeline = await this.device.createRenderPipelineAsync(\n        //     gpuRenderPipelineDescriptor,\n        //   );\n        //   // We might have created a sync pipeline while we were async building; no way to cancel the async\n        //   // pipeline build at this point, so just chuck it out :/\n        //   if (renderPipeline.gpuRenderPipeline === null)\n        //     renderPipeline.gpuRenderPipeline = gpuRenderPipeline;\n        // } else {\n        renderPipeline.gpuRenderPipeline = this.device.createRenderPipeline(gpuRenderPipelineDescriptor);\n        // }\n        // // if (renderPipeline.ResourceName !== undefined)\n        // //     renderPipeline.gpuRenderPipeline.label = renderPipeline.ResourceName;\n        // renderPipeline.isCreatingAsync = false;\n    };\n    Device_WebGPU.prototype.createReadback = function () {\n        return new Readback_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n        });\n    };\n    Device_WebGPU.prototype.createRenderBundle = function () {\n        return new RenderBundle_WebGPU({\n            id: this.getNextUniqueId(),\n            device: this,\n        });\n    };\n    Device_WebGPU.prototype.createRenderPass = function (renderPassDescriptor) {\n        var pass = this.renderPassPool.pop();\n        if (pass === undefined) {\n            pass = new RenderPass_WebGPU(this);\n        }\n        var frameCommandEncoder = this.frameCommandEncoderPool.pop();\n        if (frameCommandEncoder === undefined) {\n            frameCommandEncoder = this.device.createCommandEncoder();\n        }\n        pass.beginRenderPass(frameCommandEncoder, renderPassDescriptor);\n        return pass;\n    };\n    Device_WebGPU.prototype.createComputePass = function () {\n        var pass = this.computePassPool.pop();\n        if (pass === undefined)\n            pass = new ComputePass_WebGPU();\n        var frameCommandEncoder = this.frameCommandEncoderPool.pop();\n        if (frameCommandEncoder === undefined) {\n            frameCommandEncoder = this.device.createCommandEncoder();\n        }\n        pass.beginComputePass(frameCommandEncoder);\n        return pass;\n    };\n    Device_WebGPU.prototype.submitPass = function (_pass) {\n        var pass = _pass;\n        if (pass instanceof RenderPass_WebGPU) {\n            // release encoder\n            this.frameCommandEncoderPool.push(pass.frameCommandEncoder);\n            pass.finish();\n            this.renderPassPool.push(pass);\n            // if (pass.occlusionQueryPool !== null) {\n            //   this.queryPoolsSubmitted.push(pass.occlusionQueryPool);\n            // }\n        }\n        else if (pass instanceof ComputePass_WebGPU) {\n            this.frameCommandEncoderPool.push(pass.frameCommandEncoder);\n            pass.finish();\n            this.computePassPool.push(pass);\n        }\n    };\n    Device_WebGPU.prototype.copySubTexture2D = function (dst_, dstX, dstY, src_, srcX, srcY, depthOrArrayLayers) {\n        var cmd = this.device.createCommandEncoder();\n        var dst = dst_;\n        var src = src_;\n        var srcCopy = {\n            texture: src.gpuTexture,\n            origin: [srcX, srcY, 0],\n            mipLevel: 0,\n            aspect: 'all',\n        };\n        var dstCopy = {\n            texture: dst.gpuTexture,\n            origin: [dstX, dstY, 0],\n            mipLevel: 0,\n            aspect: 'all',\n        };\n        assert(!!(src.usage & GPUTextureUsage$1.COPY_SRC));\n        assert(!!(dst.usage & GPUTextureUsage$1.COPY_DST));\n        cmd.copyTextureToTexture(srcCopy, dstCopy, [\n            src.width,\n            src.height,\n            depthOrArrayLayers || 1,\n        ]);\n        this.device.queue.submit([cmd.finish()]);\n    };\n    Device_WebGPU.prototype.queryLimits = function () {\n        // GPUAdapter.limits\n        // @see https://www.w3.org/TR/webgpu/#gpu-supportedlimits\n        return {\n            uniformBufferMaxPageWordSize: this.device.limits.maxUniformBufferBindingSize >>> 2,\n            uniformBufferWordAlignment: this.device.limits.minUniformBufferOffsetAlignment >>> 2,\n            supportedSampleCounts: [1],\n            occlusionQueriesRecommended: true,\n            computeShadersSupported: true,\n        };\n    };\n    Device_WebGPU.prototype.queryTextureFormatSupported = function (format, width, height) {\n        if (isFormatTextureCompressionBC(format)) {\n            if (!this.featureTextureCompressionBC)\n                return false;\n            var bb = getFormatBlockSize(format);\n            if (width % bb !== 0 || height % bb !== 0)\n                return false;\n            return this.featureTextureCompressionBC;\n        }\n        switch (format) {\n            case Format.U16_RGBA_NORM:\n                return false;\n            case Format.F32_RGBA:\n                return false; // unfilterable\n        }\n        return true;\n    };\n    Device_WebGPU.prototype.queryPlatformAvailable = function () {\n        // TODO: should listen to lost event\n        return true;\n    };\n    Device_WebGPU.prototype.queryVendorInfo = function () {\n        return this;\n    };\n    Device_WebGPU.prototype.queryRenderPass = function (o) {\n        var pass = o;\n        return pass.descriptor;\n    };\n    Device_WebGPU.prototype.queryRenderTarget = function (o) {\n        var attachment = o;\n        return attachment;\n    };\n    Device_WebGPU.prototype.setResourceName = function (o, s) {\n        o.name = s;\n        if (o.type === ResourceType.Buffer) {\n            var r = o;\n            r.gpuBuffer.label = s;\n        }\n        else if (o.type === ResourceType.Texture) {\n            var r = o;\n            r.gpuTexture.label = s;\n            r.gpuTextureView.label = s;\n        }\n        else if (o.type === ResourceType.RenderTarget) {\n            var r = o;\n            r.gpuTexture.label = s;\n            r.gpuTextureView.label = s;\n        }\n        else if (o.type === ResourceType.Sampler) {\n            var r = o;\n            r.gpuSampler.label = s;\n        }\n        else if (o.type === ResourceType.RenderPipeline) {\n            var r = o;\n            if (r.gpuRenderPipeline !== null)\n                r.gpuRenderPipeline.label = s;\n        }\n    };\n    Device_WebGPU.prototype.setResourceLeakCheck = function (o, v) { };\n    Device_WebGPU.prototype.checkForLeaks = function () { };\n    Device_WebGPU.prototype.programPatched = function (o) { };\n    Device_WebGPU.prototype.pipelineQueryReady = function (o) {\n        var renderPipeline = o;\n        return renderPipeline.gpuRenderPipeline !== null;\n    };\n    Device_WebGPU.prototype.pipelineForceReady = function (o) {\n        var renderPipeline = o;\n        this.createRenderPipelineInternal(renderPipeline, false);\n    };\n    return Device_WebGPU;\n}());\n\nvar WebGPUDeviceContribution = /** @class */ (function () {\n    function WebGPUDeviceContribution(pluginOptions) {\n        this.pluginOptions = pluginOptions;\n    }\n    WebGPUDeviceContribution.prototype.createSwapChain = function ($canvas) {\n        return __awaiter(this, void 0, void 0, function () {\n            var adapter, xrCompatible, e_1, optionalFeatures, requiredFeatures, device, onContextLost_1, context;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // eslint-disable-next-line\n                        if (globalThis.navigator.gpu === undefined)\n                            return [2 /*return*/, null];\n                        adapter = null;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        xrCompatible = this.pluginOptions.xrCompatible;\n                        return [4 /*yield*/, globalThis.navigator.gpu.requestAdapter({\n                                xrCompatible: xrCompatible,\n                            })];\n                    case 2:\n                        // eslint-disable-next-line\n                        adapter = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        console.log(e_1);\n                        return [3 /*break*/, 4];\n                    case 4:\n                        if (adapter === null)\n                            return [2 /*return*/, null];\n                        optionalFeatures = [\n                            // 'depth24unorm-stencil8',\n                            'depth32float-stencil8',\n                            'texture-compression-bc',\n                            'float32-filterable',\n                        ];\n                        requiredFeatures = optionalFeatures.filter(function (feature) {\n                            return adapter.features.has(feature);\n                        });\n                        return [4 /*yield*/, adapter.requestDevice({ requiredFeatures: requiredFeatures })];\n                    case 5:\n                        device = _a.sent();\n                        if (device) {\n                            onContextLost_1 = this.pluginOptions.onContextLost;\n                            device.lost.then(function () {\n                                if (onContextLost_1) {\n                                    onContextLost_1();\n                                }\n                            });\n                        }\n                        if (device === null)\n                            return [2 /*return*/, null];\n                        context = $canvas.getContext('webgpu');\n                        if (!context)\n                            return [2 /*return*/, null];\n                        _a.label = 6;\n                    case 6:\n                        _a.trys.push([6, 8, , 9]);\n                        return [4 /*yield*/, __wbg_init(this.pluginOptions.shaderCompilerPath)];\n                    case 7:\n                        _a.sent();\n                        return [3 /*break*/, 9];\n                    case 8:\n                        _a.sent();\n                        return [3 /*break*/, 9];\n                    case 9: return [2 /*return*/, new Device_WebGPU(adapter, device, $canvas, context, glsl_compile, WGSLComposer && new WGSLComposer())];\n                }\n            });\n        });\n    };\n    return WebGPUDeviceContribution;\n}());\n\nexport { AddressMode, BlendFactor, BlendMode, BufferFrequencyHint, BufferUsage, ChannelWriteMask, ClipSpaceNearZ, CompareFunction, CullMode, FilterMode, Format, FormatCompFlags, FormatFlags, FormatTypeFlags, FrontFace, GL, IsDepthReversed, MipmapFilterMode, OpaqueBlack, OpaqueWhite, PrimitiveTopology, QueryPoolType, ResourceType, SamplerFormatKind, StencilOp, TextureDimension, TextureEvent, TextureUsage, TransparentBlack, TransparentWhite, UNIFORM_SETTERS, VertexStepMode, ViewportOrigin, WebGLDeviceContribution, WebGPUDeviceContribution, align, alignNonPowerOfTwo, arrayCopy, arrayEqual, assert, assertExists, bindingsDescriptorCopy, bindingsDescriptorEquals, bisectRight, bufferBindingCopy, colorCopy, colorEqual, colorNewCopy, colorNewFromRGBA, compareDepthValues, copyAttachmentState, copyAttachmentStateFromSimple, copyMegaState, copyStencilFaceState, defaultBindingLayoutSamplerDescriptor, defaultMegaState, fallbackUndefined, fillArray, fullscreenMegaState, getAttributeLocations, getDefines, getFormatByteSize, getFormatCompByteSize, getFormatCompFlags, getFormatCompFlagsComponentCount, getFormatComponentCount, getFormatFlags, getFormatSamplerKind, getFormatTypeFlags, getFormatTypeFlagsByteSize, getUniformSetter, getUniforms, inputLayoutBufferDescriptorCopy, inputLayoutBufferDescriptorEquals, inputLayoutDescriptorCopy, inputLayoutDescriptorEquals, isPowerOfTwo, isTypedArray, leftPad, makeFormat, makeMegaState, makeTextureDescriptor2D, nArray, nullify, parseUniformName, prependLineNo, preprocessProgram_GLSL, preprocessShader_GLSL, range, renderPipelineDescriptorCopy, renderPipelineDescriptorEquals, reverseDepthForClearValue, reverseDepthForCompareFunction, reverseDepthForDepthOffset, reverseDepthForOrthographicProjectionMatrix, reverseDepthForPerspectiveProjectionMatrix, samplerBindingCopy, samplerDescriptorEquals, setAttachmentStateSimple, setBitFlagEnabled, setFormatComponentCount, setFormatFlags, setMegaStateFlags, spliceBisectRight, stencilFaceStateEquals, textureBindingCopy, vertexAttributeDescriptorCopy, vertexAttributeDescriptorEquals };\n//# sourceMappingURL=index.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    var filteredBridge = filterPoints(bridge, bridge.next);\n    filterPoints(bridgeReverse, bridgeReverse.next);\n\n    // Check if input node was removed by the filtering\n    return outerNode === bridge ? filteredBridge : outerNode;\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","import { __spreadArray, __read } from 'tslib';\nimport { isNumberEqual } from '@antv/util';\nimport { vec2 } from 'gl-matrix';\n\nfunction distance(x1, y1, x2, y2) {\n    var dx = x1 - x2;\n    var dy = y1 - y2;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction getBBoxByArray(xArr, yArr) {\n    var minX = Math.min.apply(Math, __spreadArray([], __read(xArr), false));\n    var minY = Math.min.apply(Math, __spreadArray([], __read(yArr), false));\n    var maxX = Math.max.apply(Math, __spreadArray([], __read(xArr), false));\n    var maxY = Math.max.apply(Math, __spreadArray([], __read(yArr), false));\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction piMod(angle) {\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n\nfunction copysign(v1, v2) {\n    var absv = Math.abs(v1);\n    return v2 > 0 ? absv : absv * -1;\n}\nfunction nearestPoint$4(x, y, rx, ry, x0, y0) {\n    var a = rx;\n    var b = ry;\n    // 假如椭圆半径为0则返回圆心\n    if (a === 0 || b === 0) {\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    // 转换成 0， 0 为中心的椭圆计算\n    var relativeX = x0 - x;\n    var relativeY = y0 - y;\n    var px = Math.abs(relativeX);\n    var py = Math.abs(relativeY);\n    var squareA = a * a;\n    var squareB = b * b;\n    // const angle0 = Math.atan2(relativeY, relativeX);\n    var t = Math.PI / 4;\n    var nearestX = 0; // 椭圆上的任一点\n    var nearestY = 0;\n    // 迭代 4 次\n    for (var i = 0; i < 4; i++) {\n        nearestX = a * Math.cos(t);\n        nearestY = b * Math.sin(t);\n        var ex = ((squareA - squareB) * Math.pow(Math.cos(t), 3)) / a;\n        var ey = ((squareB - squareA) * Math.pow(Math.sin(t), 3)) / b;\n        var rx1 = nearestX - ex;\n        var ry1 = nearestY - ey;\n        var qx = px - ex;\n        var qy = py - ey;\n        var r = Math.hypot(ry1, rx1);\n        var q = Math.hypot(qy, qx);\n        var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n        var delta_t = delta_c /\n            Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n        t += delta_t;\n        t = Math.min(Math.PI / 2, Math.max(0, t));\n    }\n    return {\n        x: x + copysign(nearestX, relativeX),\n        y: y + copysign(nearestY, relativeY),\n    };\n}\n\n// 偏导数 x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return (-1 * rx * Math.cos(xRotation) * Math.sin(angle) -\n        ry * Math.sin(xRotation) * Math.cos(angle));\n}\n// 偏导数 y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n    return (-1 * rx * Math.sin(xRotation) * Math.sin(angle) +\n        ry * Math.cos(xRotation) * Math.cos(angle));\n}\n// x 的极值\nfunction xExtrema(rx, ry, xRotation) {\n    return Math.atan((-ry / rx) * Math.tan(xRotation));\n}\n// y 的极值\nfunction yExtrema(rx, ry, xRotation) {\n    return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n// 根据角度求 x 坐标\nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n    return (rx * Math.cos(xRotation) * Math.cos(angle) -\n        ry * Math.sin(xRotation) * Math.sin(angle) +\n        cx);\n}\n// 根据角度求 y 坐标\nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n    return (rx * Math.sin(xRotation) * Math.cos(angle) +\n        ry * Math.cos(xRotation) * Math.sin(angle) +\n        cy);\n}\n// 获取点在椭圆上的角度\nfunction getAngle(rx, ry, x0, y0) {\n    var angle = Math.atan2(y0 * rx, x0 * ry);\n    // 转换到 0 - 2PI 内\n    return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// 根据角度获取，x,y\nfunction getPoint(rx, ry, angle) {\n    return {\n        x: rx * Math.cos(angle),\n        y: ry * Math.sin(angle),\n    };\n}\n// 旋转\nfunction rotate(x, y, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return [x * cos - y * sin, x * sin + y * cos];\n}\nfunction box$5(cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n    var xDim = xExtrema(rx, ry, xRotation);\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var xs = [startAngle, endAngle];\n    for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n        var xAngle = xDim + i;\n        if (startAngle < endAngle) {\n            if (startAngle < xAngle && xAngle < endAngle) {\n                xs.push(xAngle);\n            }\n        }\n        else {\n            if (endAngle < xAngle && xAngle < startAngle) {\n                xs.push(xAngle);\n            }\n        }\n    }\n    for (var i = 0; i < xs.length; i++) {\n        var x = xAt(cx, cy, rx, ry, xRotation, xs[i]);\n        if (x < minX) {\n            minX = x;\n        }\n        if (x > maxX) {\n            maxX = x;\n        }\n    }\n    var yDim = yExtrema(rx, ry, xRotation);\n    var minY = Infinity;\n    var maxY = -Infinity;\n    var ys = [startAngle, endAngle];\n    for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n        var yAngle = yDim + i;\n        if (startAngle < endAngle) {\n            if (startAngle < yAngle && yAngle < endAngle) {\n                ys.push(yAngle);\n            }\n        }\n        else {\n            if (endAngle < yAngle && yAngle < startAngle) {\n                ys.push(yAngle);\n            }\n        }\n    }\n    for (var i = 0; i < ys.length; i++) {\n        var y = yAt(cx, cy, rx, ry, xRotation, ys[i]);\n        if (y < minY) {\n            minY = y;\n        }\n        if (y > maxY) {\n            maxY = y;\n        }\n    }\n    return {\n        x: minX,\n        y: minY,\n        width: maxX - minX,\n        height: maxY - minY,\n    };\n}\nfunction nearestPoint$3(cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n    // 将最近距离问题转换成到椭圆中心 0,0 没有旋转的椭圆问题\n    var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n    var _a = __read(relativeVector, 2), x1 = _a[0], y1 = _a[1];\n    // 计算点到椭圆的最近的点\n    var relativePoint = nearestPoint$4(0, 0, rx, ry, x1, y1);\n    // 获取点在椭圆上的角度\n    var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n    // 点没有在圆弧上\n    if (angle < startAngle) {\n        // 小于起始圆弧\n        relativePoint = getPoint(rx, ry, startAngle);\n    }\n    else if (angle > endAngle) {\n        // 大于结束圆弧\n        relativePoint = getPoint(rx, ry, endAngle);\n    }\n    // 旋转到 xRotation 的角度\n    var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n    return {\n        x: vector[0] + cx,\n        y: vector[1] + cy,\n    };\n}\nfunction tangentAngle$4(cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n    var angle = (endAngle - startAngle) * t + startAngle;\n    var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n    var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n    return piMod(Math.atan2(dy, dx));\n}\n\nvar EPSILON = 0.0001;\n/**\n * 使用牛顿切割法求最近的点\n * @param {number[]} xArr      点的 x 数组\n * @param {number[]} yArr      点的 y 数组\n * @param {number}   x         指定的点 x\n * @param {number}   y         指定的点 y\n * @param {Function} tCallback 差值函数\n */\nfunction nearestPoint$2(xArr, yArr, x, y, tCallback, length) {\n    var t = -1;\n    var d = Infinity;\n    var v0 = [x, y];\n    var segNum = 20;\n    if (length && length > 200) {\n        segNum = length / 10;\n    }\n    var increaseRate = 1 / segNum;\n    var interval = increaseRate / 10;\n    for (var i = 0; i <= segNum; i++) {\n        var _t = i * increaseRate;\n        var v1 = [\n            tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([_t])), false)),\n            tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([_t])), false)),\n        ];\n        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n        if (d1 < d) {\n            t = _t;\n            d = d1;\n        }\n    }\n    // 提前终止\n    if (t === 0) {\n        return {\n            x: xArr[0],\n            y: yArr[0],\n        };\n    }\n    if (t === 1) {\n        var count = xArr.length;\n        return {\n            x: xArr[count - 1],\n            y: yArr[count - 1],\n        };\n    }\n    d = Infinity;\n    for (var i = 0; i < 32; i++) {\n        if (interval < EPSILON) {\n            break;\n        }\n        var prev = t - interval;\n        var next = t + interval;\n        var v1 = [\n            tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([prev])), false)),\n            tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([prev])), false)),\n        ];\n        var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n        if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n        }\n        else {\n            var v2 = [\n                tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([next])), false)),\n                tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([next])), false)),\n            ];\n            var d2 = distance(v0[0], v0[1], v2[0], v2[1]);\n            if (next <= 1 && d2 < d) {\n                t = next;\n                d = d2;\n            }\n            else {\n                interval *= 0.5;\n            }\n        }\n    }\n    return {\n        x: tCallback.apply(void 0, __spreadArray([], __read(xArr.concat([t])), false)),\n        y: tCallback.apply(void 0, __spreadArray([], __read(yArr.concat([t])), false)),\n    };\n}\n// 近似求解 https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n    var totalLength = 0;\n    var count = xArr.length;\n    for (var i = 0; i < count; i++) {\n        var x = xArr[i];\n        var y = yArr[i];\n        var nextX = xArr[(i + 1) % count];\n        var nextY = yArr[(i + 1) % count];\n        totalLength += distance(x, y, nextX, nextY);\n    }\n    return totalLength / 2;\n}\n\nfunction box$4(x1, y1, x2, y2) {\n    return getBBoxByArray([x1, x2], [y1, y2]);\n}\nfunction length$4(x1, y1, x2, y2) {\n    return distance(x1, y1, x2, y2);\n}\nfunction pointAt$3(x1, y1, x2, y2, t) {\n    return {\n        x: (1 - t) * x1 + t * x2,\n        y: (1 - t) * y1 + t * y2,\n    };\n}\nfunction pointDistance$4(x1, y1, x2, y2, x, y) {\n    // 投影距离 x1, y1 的向量，假设 p, p1, p2 三个点，投影点为 a\n    // p1a = p1p.p1p2/|p1p2| * (p1p 的单位向量)\n    var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n    if (cross < 0) {\n        return distance(x1, y1, x, y);\n    }\n    var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n    if (cross > lengthSquare) {\n        return distance(x2, y2, x, y);\n    }\n    return pointToLine(x1, y1, x2, y2, x, y);\n}\nfunction pointToLine(x1, y1, x2, y2, x, y) {\n    var d = [x2 - x1, y2 - y1];\n    // 如果端点相等，则判定点到点的距离\n    if (vec2.exactEquals(d, [0, 0])) {\n        return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n    }\n    var u = [-d[1], d[0]];\n    vec2.normalize(u, u);\n    var a = [x - x1, y - y1];\n    return Math.abs(vec2.dot(a, u));\n}\nfunction tangentAngle$3(x1, y1, x2, y2) {\n    return Math.atan2(y2 - y1, x2 - x1);\n}\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t; // t * t * t 的性能大概是 Math.pow(t, 3) 的三倍\n    return (onet * onet * onet * p0 +\n        3 * p1 * t * onet * onet +\n        3 * p2 * t * t * onet +\n        p3 * t * t * t);\n}\nfunction derivativeAt(p0, p1, p2, p3, t) {\n    var onet = 1 - t;\n    return (3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2)));\n}\nfunction extrema$1(p0, p1, p2, p3) {\n    var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n    var b = 6 * p0 - 12 * p1 + 6 * p2;\n    var c = 3 * p1 - 3 * p0;\n    var extremas = [];\n    var t1;\n    var t2;\n    var discSqrt;\n    if (isNumberEqual(a, 0)) {\n        if (!isNumberEqual(b, 0)) {\n            t1 = -c / b;\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n        }\n    }\n    else {\n        var disc = b * b - 4 * a * c;\n        if (isNumberEqual(disc, 0)) {\n            extremas.push(-b / (2 * a));\n        }\n        else if (disc > 0) {\n            discSqrt = Math.sqrt(disc);\n            t1 = (-b + discSqrt) / (2 * a);\n            t2 = (-b - discSqrt) / (2 * a);\n            if (t1 >= 0 && t1 <= 1) {\n                extremas.push(t1);\n            }\n            if (t2 >= 0 && t2 <= 1) {\n                extremas.push(t2);\n            }\n        }\n    }\n    return extremas;\n}\n// 分割贝塞尔曲线\nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    // 划分点\n    var xt = cubicAt(x1, x2, x3, x4, t);\n    var yt = cubicAt(y1, y2, y3, y4, t);\n    // 计算两点之间的差值点\n    var c1 = pointAt$3(x1, y1, x2, y2, t);\n    var c2 = pointAt$3(x2, y2, x3, y3, t);\n    var c3 = pointAt$3(x3, y3, x4, y4, t);\n    var c12 = pointAt$3(c1.x, c1.y, c2.x, c2.y, t);\n    var c23 = pointAt$3(c2.x, c2.y, c3.x, c3.y, t);\n    return [\n        [x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt],\n        [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4],\n    ];\n}\n// 使用迭代法取贝塞尔曲线的长度，二阶和三阶分开写，更清晰和便于调试\nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n    if (iterationCount === 0) {\n        return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n    }\n    var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n    var left = __spreadArray(__spreadArray([], __read(cubics[0]), false), [iterationCount - 1], false);\n    var right = __spreadArray(__spreadArray([], __read(cubics[1]), false), [iterationCount - 1], false);\n    return cubicLength.apply(void 0, __spreadArray([], __read(left), false)) + cubicLength.apply(void 0, __spreadArray([], __read(right), false));\n}\nfunction box$3(x1, y1, x2, y2, x3, y3, x4, y4) {\n    var xArr = [x1, x4];\n    var yArr = [y1, y4];\n    var xExtrema = extrema$1(x1, x2, x3, x4);\n    var yExtrema = extrema$1(y1, y2, y3, y4);\n    for (var i = 0; i < xExtrema.length; i++) {\n        xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n    }\n    for (var i = 0; i < yExtrema.length; i++) {\n        yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[i]));\n    }\n    return getBBoxByArray(xArr, yArr);\n}\nfunction length$3(x1, y1, x2, y2, x3, y3, x4, y4) {\n    // 迭代三次，划分成 8 段求长度\n    return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n}\nfunction nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    return nearestPoint$2([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n}\nfunction pointDistance$3(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    var point = nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n    return distance(point.x, point.y, x0, y0);\n}\nfunction pointAt$2(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return {\n        x: cubicAt(x1, x2, x3, x4, t),\n        y: cubicAt(y1, y2, y3, y4, t),\n    };\n}\nfunction tangentAngle$2(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    var dx = derivativeAt(x1, x2, x3, x4, t);\n    var dy = derivativeAt(y1, y2, y3, y4, t);\n    return piMod(Math.atan2(dy, dx));\n}\n\nfunction analyzePoints(points) {\n    // 计算每段的长度和总的长度\n    var totalLength = 0;\n    var segments = [];\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        var length_1 = distance(from[0], from[1], to[0], to[1]);\n        var seg = {\n            from: from,\n            to: to,\n            length: length_1,\n        };\n        segments.push(seg);\n        totalLength += length_1;\n    }\n    return { segments: segments, totalLength: totalLength };\n}\nfunction lengthOfSegment(points) {\n    if (points.length < 2) {\n        return 0;\n    }\n    var totalLength = 0;\n    for (var i = 0; i < points.length - 1; i++) {\n        var from = points[i];\n        var to = points[i + 1];\n        totalLength += distance(from[0], from[1], to[0], to[1]);\n    }\n    return totalLength;\n}\n/**\n * 按照比例在数据片段中获取点\n * @param {array} points 点的集合\n * @param {number} t 百分比 0-1\n * @return {object} 点的坐标\n */\nfunction pointAtSegments(points, t) {\n    // 边界判断\n    if (t > 1 || t < 0 || points.length < 2) {\n        return null;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // 多个点有可能重合\n    if (totalLength === 0) {\n        return {\n            x: points[0][0],\n            y: points[0][1],\n        };\n    }\n    // 计算比例\n    var startRatio = 0;\n    var point = null;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            var localRatio = (t - startRatio) / currentRatio;\n            point = pointAt$3(from[0], from[1], to[0], to[1], localRatio);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return point;\n}\n/**\n * 按照比例在数据片段中获取切线的角度\n * @param {array} points 点的集合\n * @param {number} t 百分比 0-1\n */\nfunction angleAtSegments(points, t) {\n    // 边界判断\n    if (t > 1 || t < 0 || points.length < 2) {\n        return 0;\n    }\n    var _a = analyzePoints(points), segments = _a.segments, totalLength = _a.totalLength;\n    // 计算比例\n    var startRatio = 0;\n    var angle = 0;\n    for (var i = 0; i < segments.length; i++) {\n        var seg = segments[i];\n        var from = seg.from, to = seg.to;\n        var currentRatio = seg.length / totalLength;\n        if (t >= startRatio && t <= startRatio + currentRatio) {\n            angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n            break;\n        }\n        startRatio += currentRatio;\n    }\n    return angle;\n}\nfunction distanceAtSegment(points, x, y) {\n    var minDistance = Infinity;\n    for (var i = 0; i < points.length - 1; i++) {\n        var point = points[i];\n        var nextPoint = points[i + 1];\n        var distance_1 = pointDistance$4(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n        if (distance_1 < minDistance) {\n            minDistance = distance_1;\n        }\n    }\n    return minDistance;\n}\n\nfunction box$2(points) {\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        xArr.push(point[0]);\n        yArr.push(point[1]);\n    }\n    return getBBoxByArray(xArr, yArr);\n}\nfunction length$2(points) {\n    return lengthOfSegment(points);\n}\nfunction pointAt$1(points, t) {\n    return pointAtSegments(points, t);\n}\nfunction pointDistance$2(points, x, y) {\n    return distanceAtSegment(points, x, y);\n}\nfunction tangentAngle$1(points, t) {\n    return angleAtSegments(points, t);\n}\n\nfunction getAllPoints(points) {\n    var tmp = points.slice(0);\n    if (points.length) {\n        tmp.push(points[0]);\n    }\n    return tmp;\n}\nfunction box$1(points) {\n    return box$2(points);\n}\nfunction length$1(points) {\n    return lengthOfSegment(getAllPoints(points));\n}\nfunction pointAt(points, t) {\n    return pointAtSegments(getAllPoints(points), t);\n}\nfunction pointDistance$1(points, x, y) {\n    return distanceAtSegment(getAllPoints(points), x, y);\n}\nfunction tangentAngle(points, t) {\n    return angleAtSegments(getAllPoints(points), t);\n}\n\n// 差值公式\nfunction quadraticAt(p0, p1, p2, t) {\n    var onet = 1 - t;\n    return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// 求极值\nfunction extrema(p0, p1, p2) {\n    var a = p0 + p2 - 2 * p1;\n    if (isNumberEqual(a, 0)) {\n        return [0.5];\n    }\n    var rst = (p0 - p1) / a;\n    if (rst <= 1 && rst >= 0) {\n        return [rst];\n    }\n    return [];\n}\n// 分割贝塞尔曲线\nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n    // 划分点\n    var xt = quadraticAt(x1, x2, x3, t);\n    var yt = quadraticAt(y1, y2, y3, t);\n    // 分割的第一条曲线的控制点\n    var controlPoint1 = pointAt$3(x1, y1, x2, y2, t);\n    // 分割的第二条曲线的控制点\n    var controlPoint2 = pointAt$3(x2, y2, x3, y3, t);\n    return [\n        [x1, y1, controlPoint1.x, controlPoint1.y, xt, yt],\n        [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3],\n    ];\n}\n// 使用迭代法取贝塞尔曲线的长度\nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n    if (iterationCount === 0) {\n        return ((distance(x1, y1, x2, y2) +\n            distance(x2, y2, x3, y3) +\n            distance(x1, y1, x3, y3)) /\n            2);\n    }\n    var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n    var left = quadratics[0];\n    var right = quadratics[1];\n    left.push(iterationCount - 1);\n    right.push(iterationCount - 1);\n    return quadraticLength.apply(void 0, __spreadArray([], __read(left), false)) + quadraticLength.apply(void 0, __spreadArray([], __read(right), false));\n}\nfunction box(x1, y1, x2, y2, x3, y3) {\n    var xExtrema = extrema(x1, x2, x3)[0];\n    var yExtrema = extrema(y1, y2, y3)[0];\n    // 控制点不加入 box 的计算\n    var xArr = [x1, x3];\n    var yArr = [y1, y3];\n    if (xExtrema !== undefined) {\n        xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n    }\n    if (yExtrema !== undefined) {\n        yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n    }\n    return getBBoxByArray(xArr, yArr);\n}\nfunction length(x1, y1, x2, y2, x3, y3) {\n    return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n}\nfunction nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0) {\n    return nearestPoint$2([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n}\nfunction pointDistance(x1, y1, x2, y2, x3, y3, x0, y0) {\n    var point = nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n    return distance(point.x, point.y, x0, y0);\n}\n\nexport { box$5 as arcBox, nearestPoint$3 as arcNearestPoint, tangentAngle$4 as arcTangentAngle, box$3 as cubicBox, length$3 as cubicLength, nearestPoint$1 as cubicNearestPoint, pointAt$2 as cubicPointAt, pointDistance$3 as cubicPointDistance, tangentAngle$2 as cubicTangentAngle, distance, box$4 as lineBox, length$4 as lineLength, pointAt$3 as linePointAt, pointDistance$4 as linePointDistance, pointToLine as linePointToLine, tangentAngle$3 as lineTangentAngle, box$1 as polygonBox, length$1 as polygonLength, pointAt as polygonPointAt, pointDistance$1 as polygonPointDistance, tangentAngle as polygonTangentAngle, box$2 as polylineBox, length$2 as polylineLength, pointAt$1 as polylinePointAt, pointDistance$2 as polylinePointDistance, tangentAngle$1 as polylineTangentAngle, box as quadBox, length as quadLength, nearestPoint as quadNearestPoint, pointDistance as quadPointDistance };\n//# sourceMappingURL=index.esm.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","slice","concat","Renderable3D","drawcalls","tag","LightPool","lights","addLight","light","sortLights","removeLight","splice","addFog","fog","removeFog","getFog","getAllLights","getDefines","defines","USE_LIGHT","forEach","define","sort","a","order","Mesh","_super","_a","_this","style","rest","type","Shape","MESH","x","z","lineWidth","cullable","enable","geometry","meshes","material","destroy","index","DisplayObject","MeshUpdater","update","parsedStyle","_b","_c","aabb","computeBoundingBox","cx","cy","cz","hwidth","halfExtents","hheight","hdepth","PickingIdGenerator","counter","id2DisplayObjectMap","getId","displayObject","id","getById","deleteById","reset","decodePickingColor","color","encodePickingColor","featureIdx","isNil$1","toString","isType$1","isString","str","isType","clamp$1","min","max","isNumber$1","EPSILON","ARRAY_TYPE","Float32Array","out","glMatrix.ARRAY_TYPE","copy","fromValues","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","identity","invert","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiply","b0","b1","b2","b3","scale","fromTranslation","fromRotationTranslation","q","w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","getScaling","mat","Math","hypot","perspectiveNO","fovy","aspect","near","far","nf","tan","Infinity","orthoNO","left","right","bottom","top","lr","bt","subtract","sqrt","mul","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b12","b13","b14","b15","abs","glMatrix.EPSILON","yx","zx","zy","translation","bx","by","bz","bw","ax","ay","az","aw","magnitude","rad","axis","c","len","sin","cos","sx","sy","sz","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","rl","tb","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","fov","upTan","upDegrees","PI","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","b20","b21","b22","target","rotateVector","arcToCubic","X1","Y1","RX","RY","angle","LAF","SF","X2","Y2","recursive","f1","f2","rx","ry","d120","res","h","rx2","ry2","k","asin","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","ii","has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","name","names","listeners","handlers","ee","listenerCount","emit","args","removeListener","undefined","j","on","removeAllListeners","off","prefixed","module","exports","GL","ResourceType","CompareFunction","FrontFace","CullMode","BlendFactor","BlendMode","AddressMode","FilterMode","MipmapFilterMode","PrimitiveTopology","BufferUsage","BufferFrequencyHint","VertexStepMode","TextureEvent","TextureDimension","TextureUsage","ChannelWriteMask","StencilOp","SamplerFormatKind","ViewportOrigin","ClipSpaceNearZ","QueryPoolType","FormatTypeFlags","FormatCompFlags","FormatFlags","Format","makeTextureDescriptor2D","format","width","height","mipLevelCount","dimension","TEXTURE_2D","depthOrArrayLayers","usage","SAMPLED","makeFormat","comp","flags","getFormatCompFlags","fmt","getFormatTypeFlags","getFormatFlags","getFormatTypeFlagsByteSize","typeFlags","F32","U32","S32","U16","S16","F16","U8","S8","Error","getFormatCompByteSize","getFormatSamplerKind","Depth","Normalized","Float","Uint","Sint","assert","message","assertExists","colorNewCopy","src","colorNewFromRGBA","A","None","Luminance","R","RG","RGB","RGBA","sRGB","U16_PACKED_5551","U16_PACKED_565","BC1","BC2","BC3","BC4_UNORM","BC4_SNORM","BC5_UNORM","BC5_SNORM","D24","D24S8","Stencil","D32F","D32FS8","RenderTarget","TransparentBlack","OpaqueBlack","TransparentWhite","OpaqueWhite","isPowerOfTwo","fallbackUndefined","fallback","fillArray","L","fill","align","multiple","mask","alignNonPowerOfTwo","setBitFlagEnabled","enabled","nArray","copyChannelBlendState","dst","blendDstFactor","blendSrcFactor","blendMode","copyStencilFaceState","compare","depthFailOp","passOp","failOp","copyAttachmentState","rgbBlendState","alphaBlendState","channelWriteMask","copyAttachmentsState","setMegaStateFlags","attachmentsState","blendConstant","colorCopy","depthCompare","depthWrite","stencilWrite","stencilFront","stencilBack","cullMode","frontFace","polygonOffset","copyMegaState","defaultBlendState","ADD","ONE","ZERO","defaultMegaState","ALL","LEQUAL","ALWAYS","KEEP","NONE","CCW","fullscreenMegaState","other","makeMegaState","setAttachmentStateSimple","simple","rgbBlendMode","alphaBlendMode","rgbBlendSrcFactor","alphaBlendSrcFactor","rgbBlendDstFactor","alphaBlendDstFactor","copyAttachmentStateFromSimple","defaultBindingLayoutSamplerDescriptor","texture","sampler","formatKind","arrayEqual","arrayCopy","copyFunc","textureBindingEquals","binding","bufferBindingEquals","buffer","size","offset","samplerBindingEquals","comparison","bindingsDescriptorEquals","samplerBindings","uniformBufferBindings","storageBufferBindings","storageTextureBindings","channelBlendStateEquals","attachmentStateEquals","stencilFaceStateEquals","programEquals","formatEquals","renderPipelineDescriptorEquals","topology","inputLayout","sampleCount","megaStateDescriptor","c0","megaStateDescriptorEquals","program","colorAttachmentFormats","depthStencilAttachmentFormat","vertexAttributeDescriptorEquals","shaderLocation","divisor","inputLayoutBufferDescriptorEquals","isNil","arrayStride","stepMode","attributes","inputLayoutDescriptorEquals","indexBufferFormat","vertexBufferDescriptors","samplerDescriptorEquals","addressModeU","addressModeV","minFilter","magFilter","mipmapFilter","lodMinClamp","lodMaxClamp","maxAnisotropy","compareFunction","samplerBindingCopy","bufferBindingCopy","textureBindingCopy","vertexAttributeDescriptorCopy","inputLayoutBufferDescriptorCopy","UNIFORM_NAME_REGEXP","parseUniformName","isArray","matches","match","Number","getSamplerSetter","cache","gl","location","uniform1i","getArraySetter","functionName","toArray","uniformSetter","cacheLength","arrayValue","set","setVectorUniform","setMatrixUniform","FLOAT_ARRAY","INT_ARRAY","UINT_ARRAY","array1","toTypedArray","uniformLength","Type","isFinite","toFloatArray","toIntArray","Int32Array","toUIntArray","Uint32Array","UNIFORM_SETTERS","FLOAT","bind","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","UNSIGNED_INT","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","FLOAT_MAT2x3","FLOAT_MAT2x4","FLOAT_MAT3x2","FLOAT_MAT3x4","FLOAT_MAT4x2","FLOAT_MAT4x3","SAMPLER_2D","SAMPLER_CUBE","SAMPLER_3D","SAMPLER_2D_SHADOW","SAMPLER_2D_ARRAY","SAMPLER_2D_ARRAY_SHADOW","SAMPLER_CUBE_SHADOW","INT_SAMPLER_2D","INT_SAMPLER_3D","INT_SAMPLER_CUBE","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_3D","UNSIGNED_INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_2D_ARRAY","getUniformSetter","info","setter","dtypes","defineStr","parseBinding","layout","exec","bindingNum","parseInt","isNaN","getSeparateSamplerTypes","combinedSamplerType","preprocessShader_GLSL","vendorInfo","source","usePrecision","isGLSL100","glslVersion","useMRT","lines","replace","split","map","filter","test","definesString","keys","key","join","precision","find","line","startsWith","extraDefines","viewportOrigin","UPPER_LEFT","clipSpaceNearZ","explicitBindingLocations","set_1","implicitBinding_1","location_1","substr","cap","separateSamplerTextures","samplerName","textureType","samplerType","trim","tok","implicitBinding_2","samplerNames_1","RegExp","dataType","uniforms","uniform","trimmed","gBuffers_1","lastIndexOfMain","lastIndexOf","substring","gBuffer","glFragColor_1","ResourceBase_GL","device","trackResourceCreated","trackResourceDestroyed","isWebGL2","WebGL2RenderingContext","_version","isFormatSizedInteger","translateBufferUsageToTarget","INDEX","ELEMENT_ARRAY_BUFFER","VERTEX","ARRAY_BUFFER","UNIFORM","UNIFORM_BUFFER","translateVertexFormat$1","compFlags","UNSIGNED_BYTE","UNSIGNED_SHORT","BYTE","SHORT","HALF_FLOAT","translateType","translateSize","normalized","translateAddressMode$1","wrapMode","CLAMP_TO_EDGE","REPEAT","MIRRORED_REPEAT","translateFilterMode","LINEAR","BILINEAR","LINEAR_MIPMAP_LINEAR","POINT","NEAREST_MIPMAP_LINEAR","NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_NEAREST","NO_MIP","getPlatformBuffer$1","buffer_","byteOffset","gl_buffer_pages","pageByteSize","Bindings_GL","descriptor","Bindings","bindingLayouts","createBindingLayouts","firstUniformBuffer","firstSampler","bindingLayoutTables","numUniformBuffers","numSamplers","Buffer_GL","Buffer","viewOrSize","hint","STATIC","uniformBufferMaxPageByteSize","isUBO","bindVertexArray","OES_vertex_array_object","bindVertexArrayOES","byteSize","isNumber","byteLength","byteSizeLeft","createBufferPage","gl_target","setSubData","Uint8Array","dstByteOffset","data","srcByteOffset","dstPageByteSize","virtBufferByteOffsetEnd","virtBufferByteOffset","physBufferByteOffset","COPY_WRITE_BUFFER","ubo","bindBuffer","bufferSubData","deleteBuffer","gl_buffer","ensureResourceExists","createBuffer","gl_hint","STATIC_DRAW","DYNAMIC","DYNAMIC_DRAW","translateBufferHint","bufferData","InputLayout_GL","e_1","e_2","_d","InputLayout","U16_R","U32_R","indexBufferType","U8_R","translateIndexFormat$1","indexBufferCompByteSize","vao","createVertexArray","createVertexArrayOES","_e","_f","vertexBufferDescriptor","attributes_1","attributes_1_1","attribute","_g","vertexFormat","vertexAttribPointer","INSTANCE","vertexAttribDivisor","ANGLE_instanced_arrays","vertexAttribDivisorANGLE","enableVertexAttribArray","e_2_1","e_1_1","deleteVertexArray","deleteVertexArrayOES","ProgramCompileState_GL","Texture_GL","fake","Texture","gl_texture","clampmipLevelCount","immutable","RENDER_TARGET","pixelStore","mipmaps","createTexture","gl_type","translateTextureType","internalformat","translateTextureInternalFormat","setActiveTexture","TEXTURE0","preprocessImage","bindTexture","texStorage2D","level","DEPTH_COMPONENT","isNPOT","D24_S8","WEBGL_depth_texture","texImage2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_2D_ARRAY","texStorage3D","TEXTURE_3D","TEXTURE_CUBE_MAP","setImageData","levelDatas","lod","isTextureFormatCompressed","is3D","isCube","isTA","gl_format","translateTextureFormat","gl_internal_format","translateInternalTextureFormat","levelData","TEXTURE_CUBE_MAP_POSITIVE_X","texSubImage2D","texImage3D","generateMipmap","deleteTexture","unpackFlipY","pixelStorei","UNPACK_FLIP_Y_WEBGL","packAlignment","PACK_ALIGNMENT","unpackAlignment","UNPACK_ALIGNMENT","TEXTURE_BASE_LEVEL","TEXTURE_MAX_LEVEL","log2","TEXTURE_MAG_FILTER","RenderTarget_GL","gl_renderbuffer","useRenderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisample","renderbufferStorage","deleteRenderbuffer","Program_GL","rawVertexGLSL","Program","uniformSetters","gl_program","createProgram","gl_shader_vert","gl_shader_frag","compileState","NeedsCompile","tryCompileProgram","deleteProgram","deleteShader","vertex","fragment","glsl","compileShader","postprocess","VERTEX_SHADER","FRAGMENT_SHADER","attachShader","linkProgram","Compiling","readUniformLocationsFromLinkedProgram","readAttributesFromLinkedProgram","count","getProgramParameter","ACTIVE_ATTRIBUTES","shader","locations","vert","getAttributeLocations","_loop_1","getActiveAttrib","this_1","name_1","getAttribLocation","definedLocation","numUniforms","ACTIVE_UNIFORMS","getActiveUniform","name_2","location_2","getUniformLocation","contents","createShader","shaderSource","setUniformsLegacy","programUsed","uniformName","useProgram","textureIndex","QueryPool_GL","QueryPool","gl_query","elemCount","createQuery","gl_query_type","OcclusionConservative","ANY_SAMPLES_PASSED_CONSERVATIVE","translateQueryPoolType$1","queryResultOcclusion","dstOffs","getQueryParameter","QUERY_RESULT_AVAILABLE","QUERY_RESULT","deleteQuery","Readback_GL","Readback","gl_pbo","gl_sync","clientWaitAsync","sync","interval_ms","clientWaitSync","WAIT_FAILED","TIMEOUT_EXPIRED","setTimeout","clamp","MAX_CLIENT_WAIT_TIMEOUT_WEBGL","getBufferSubDataAsync","dstBuffer","dstOffset","fenceSync","SYNC_GPU_COMMANDS_COMPLETE","flush","getBufferSubData","readTexture","formatByteSize","PIXEL_PACK_BUFFER","STREAM_READ","bindFramebuffer","READ_FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","readPixels","readTextureSync","FRAMEBUFFER","readBuffer","deleteSync","RenderPipeline_GL","RenderPipeline","drawMode","TRIANGLES","POINTS","TRIANGLE_STRIP","LINES","LINE_STRIP","translatePrimitiveTopology","megaState","ComputePipeline_GL","ComputePipeline","Sampler_GL","Sampler","gl_sampler","createSampler","samplerParameteri","TEXTURE_WRAP_R","addressModeW","samplerParameterf","TEXTURE_MIN_LOD","TEXTURE_MAX_LOD","TEXTURE_COMPARE_MODE","COMPARE_REF_TO_TEXTURE","TEXTURE_COMPARE_FUNC","EXT_texture_filter_anisotropic","TEXTURE_MAX_ANISOTROPY_EXT","setTextureParameters","deleteSampler","RenderBundle_GL","RenderBundle","commands","replay","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","heap","TextEncoder","GPUTextureUsage$1","GPUMapMode","translateTextureViewDimension","translateAddressMode","translateMinMagFilter","texFilter","translateMipFilter","getPlatformBuffer","gpuBuffer","translateQueryPoolType","translateCompareFunction","NEVER","LESS","EQUAL","GREATER","NOTEQUAL","GEQUAL","translateVertexStepMode","translateVertexFormat","U8_RG","U8_RGB","U8_RGBA","U8_RG_NORM","U8_RGBA_NORM","S8_RGB_NORM","S8_RGBA_NORM","U16_RG_NORM","U16_RGBA_NORM","S16_RG_NORM","S16_RGBA_NORM","S16_RG","F16_RG","F16_RGBA","F32_R","F32_RG","F32_RGB","F32_RGBA","allocateAndCopyTypedBuffer","sizeOrDstBuffer","sizeInBytes","copyBuffer","S8_R","S8_R_NORM","S8_RG_NORM","buffer_1","ArrayBuffer","Int8Array","U8_R_NORM","U8_RGB_NORM","U8_RGB_SRGB","U8_RGBA_SRGB","buffer_2","S16_R","S16_RGB_NORM","S16_RGBA","buffer_3","Int16Array","U16_RGB","U16_RGBA_5551","U16_R_NORM","buffer_4","Uint16Array","S32_R","buffer_5","U32_RG","buffer_6","buffer_7","getBlockInformationFromFormat","GPUTextureUsage","ResourceBase_WebGPU","Bindings_WebGPU","pipeline","gpuBindGroupEntries","numBindings","gpuBufferBinding","resource","samplerEntry","textureBinding","gpuTextureView","samplerBinding","gpuSampler","lastGroupIndex","findLastIndex","group","gpuBindGroup","createBindGroup","getBindGroupLayout","entries","Buffer_WebGPU","useMapRead","MAP_READ","usage_","GPUBufferUsage","STORAGE","COPY_SRC","INDIRECT","COPY_DST","translateBufferUsage","mapBuffer","view","mappedAtCreation","getMappedRange","unmap","chunkStart","chunkEnd","alignedLength","tempView","maxChunk","queue","writeBuffer","ComputePipeline_WebGPU","gpuComputePipeline","computeStage","compute","createComputePipeline","InputLayout_WebGPU","buffers","indexFormat","translateIndexFormat","Program_WebGPU","vertexStage","fragmentStage","createShaderStage","shaderStage","entryPoint","code","wgsl","console","depthTextureName","includes","sub","createShaderModule","QueryPool_WebGPU","querySet","createQuerySet","resolveBuffer","QUERY_RESOLVE","cpuBuffer","results","BigInt","Readback_WebGPU","blockInformation","bytesPerRow","bytesPerRowAligned","commandEncoder","gpuTextureformat","ceil","createCommandEncoder","copyTextureToBuffer","gpuTexture","mipLevel","origin","submit","finish","dstArrayBufferView","_size","noDataConversion","floatFormat","BYTES_PER_ELEMENT","gpuReadBuffer","copyBufferToBuffer","mapAsync","READ","copyArrayBuffer","getHalfFloatAsFloatRGBAArrayBuffer","ctor","data2","offset2","reason","dataLength","arrayBuffer","destArray","srcData","pow","NaN","RenderPipeline_WebGPU","isCreatingAsync","gpuRenderPipeline","Sampler_WebGPU","Texture_WebGPU","skipCreate","flipY","createTextureShared","textureFromImageBitmapOrCanvas","sources","textureDescriptor","TEXTURE_BINDING","RENDER_ATTACHMENT","copyExternalImageToTexture","isImageBitmapOrCanvases","datas","ImageBitmap","HTMLCanvasElement","OffscreenCanvas","isVideo","HTMLVideoElement","importExternalTexture","bytesPerRow_1","writeTexture","createView","RenderBundle_WebGPU","renderBundleEncoder","createRenderBundleEncoder","colorFormats","renderBundle","DeviceProgram","preprocessedVert","preprocessedFrag","both","frag","definesChanged","setDefineString","setDefineBool","getDefineString","getDefineBool","DynamicUniformBuffer","currentBufferWordSize","currentWordOffset","shadowBufferF32","shadowBufferU8","limits","queryLimits","uniformBufferWordAlignment","uniformBufferMaxPageWordSize","isSupportedUBO","queryVendorInfo","platformString","findPageIndex","wordOffset","allocateChunk","wordCount","ensureShadowBuffer","newWordCount","newBuffer","mapBufferF32","prepareToRender","hashCodeNumberUpdate","hash","hashCodeNumberFinish","nullHashFunc","HashBucket","values","HashMap","keyEqualFunc","keyHashFunc","buckets","Map","findBucketIndex","bucket","findBucket","get","bi","add","delete","clear","acc","preprocessProgramObj_GLSL","obj","preprocessProgram_GLSL","programDescriptorSimpleEquals","blendStateHash","attachmentStateHash","megaStateDescriptorHash","colorHash","_h","renderPipelineDescriptorHash","bindingsDescriptorHash","ToneMapping","RGAttachmentSlot","RenderCache","bindingsCache","renderPipelinesCache","inputLayoutsCache","programCache","samplerCache","createBindings","bindings","descriptorCopy","createRenderPipeline","renderPipeline","createInputLayout","createProgramSimple","deviceProgram","preprocessedVert_1","preprocessedFrag_1","_j","_k","_l","_m","_o","_p","_q","RendererLayer","RenderGraphPass","renderTargetIDs","renderTargetLevels","resolveTextureOutputIDs","resolveTextureOutputExternalTextures","resolveTextureOutputExternalTextureLevel","resolveTextureInputIDs","renderTargetExtraRefs","resolveTextureInputTextures","renderTargets","colorAttachment","colorAttachmentLevel","colorResolveTo","colorResolveToLevel","colorStore","depthStencilAttachment","depthStencilResolveTo","depthStencilStore","colorClearColor","depthClearValue","stencilClearValue","occlusionQueryPool","viewportX","viewportY","viewportW","viewportH","execFunc","postFunc","debugThumbnails","setDebugName","debugName","pushDebugThumbnail","attachmentSlot","setViewport","attachRenderTargetID","renderTargetID","attachResolveTexture","resolveTextureID","attachOcclusionQueryPool","queryPool","func","post","addExtraRef","slot","RGRenderTarget","desc","needsClear","age","attachment","createRenderTarget","createRenderTargetFromTexture","setResourceName","matchesDescription","SingleSampledTexture","GraphImpl","renderTargetDescriptions","resolveTextureRenderTargetIDs","passes","renderTargetDebugNames","RenderGraph","currentPass","renderTargetDeadPool","singleSampledTextureDeadPool","currentGraph","renderTargetOutputCount","renderTargetResolveCount","resolveTextureUseCount","renderTargetAliveForID","singleSampledTextureForResolveTextureID","acquireRenderTargetForDescription","freeRenderTarget","acquireSingleSampledTextureForDescription","freeSingleSampledTexture","beginGraphBuilder","pushPass","setupFunc","pass","createRenderTargetID","createResolveTextureID","findMostRecentPassThatAttachedRenderTarget","resolveRenderTargetPassAttachmentSlot","renderPass","findPassForResolveRenderTarget","resolveRenderTarget","resolveRenderTargetToExternalTexture","getRenderTargetDescription","scheduleAddUseCount","graph","acquireRenderTargetForID","newRenderTarget","releaseRenderTargetForID","forOutput","renderTarget","acquireResolveTextureInputTextureForID","singleSampledTexture","determineResolveParam","resolveTextureOutputID","externalTexture","hasResolveTextureOutputID","hasExternalTexture","resolveTo","store","schedulePass","depthStencilRenderTargetID","DepthStencil","Color0","ColorMax","colorRenderTargetID","colorRenderTarget","store_1","depthStencilRenderTarget","rtWidth","rtHeight","rtSampleCount","scheduleGraph","execPass","createRenderPass","pushDebugGroup","popDebugGroup","submitPass","execGraph","beginFrame","endFrame","execute","getDebug","getPasses","getPassDebugThumbnails","getPassRenderTargetID","getRenderTargetIDDebugName","getResolveTextureForID","currentGraphPass","getRenderTargetAttachment","getRenderTargetTexture","newGraphBuilder","MAX_DEPTH","DEPTH_BITS","makeDepthKey","depth","flipDepth","maxDepth","normalizedDepth","setSortKeyLayer","sortKey","layer","setSortKeyProgramKey","programKey","makeSortKeyOpaque","setSortKeyOpaqueDepth","depthKey","makeSortKeyTranslucent","setSortKeyTranslucentDepth","mtxOpenGLFromD3D","mat4.fromValues","RenderInstFlags","mtxD3DFromOpenGL","fillVec4","offs","v0","v1","v2","v3","RenderInstExecutionOrder","RenderInst","debug","bindingDescriptors","bindingLayout","dynamicUniformBufferByteOffsets","vertexBuffers","indexBuffer","drawStart","drawCount","drawInstanceCount","renderPipelineDescriptor","AllowSkippingIfPipelineNotReady","setFromTemplate","uniformBuffer","InheritedFlags","tbd","obd","setBindingLayout","setSamplerBindingsFromTextureMappings","validate","bd","setProgram","getMegaStateFlags","setVertexInput","drawIndexes","indexCount","indexStart","Indexed","drawIndexesInstanced","instanceCount","drawPrimitives","primitiveCount","primitiveStart","setUniforms","bufferIndex","uboBuffer","array","emptySpace_1","emptySpace","allocateUniformBuffer","mapUniformBufferF32","setUniformBuffer","getUniformBufferOffset","getUniformBuffer","mappings","setAllowSkippingIfPipelineNotReady","setAttachmentFormatsFromRenderPass","passRenderer","passDescriptor","queryRenderPass","colorAttachmentDescriptor","queryRenderTarget","depthStencilAttachmentDescriptor","drawOnPass","gfxPipeline","pipelineQueryReady","pipelineForceReady","setPipeline","uniformsMap","gfxBindings","setBindings","drawIndexed","draw","renderInstCompareSortKey","RenderInstList","executionOrder","Forwards","renderInsts","usePostSort","checkUsePostSort","insertSorted","renderInst","idx","lo","hi","mid","bisectRight","submitRenderInst","Draw","ensureSorted","drawOnPassRendererNoReset","drawOnPassRenderer","RenderInstPool","pool","allocCount","allocRenderInstIndex","popRenderInst","RenderInstManager","renderCache","instPool","templatePool","simpleRenderInstList","currentRenderInstList","newRenderInst","templateIndex","renderInstIndex","list","setCurrentRenderInstList","pushTemplateRenderInst","newTemplateIndex","newTemplate","Template","popTemplateRenderInst","getTemplateRenderInst","resetRenderInsts","disableSimpleMode","RenderHelper","parameters","getDevice","setDevice","renderGraph","renderInstManager","template","getCache","USE_TONEMAPPING","toneMapping","RGRenderTargetDescription","setDimensions","copyDimensions","makeAttachmentClearDescriptor","clearColor","AntialiasingMode","standardFullClearRenderPassDescriptor","opaqueBlackFullClearRenderPassDescriptor","opaqueWhiteFullClearRenderPassDescriptor","setBackbufferDescSimple","renderInput","antialiasingMode","MSAAx4","selectSampleCount","backbufferWidth","backbufferHeight","makeBackbufferDescSimple","clearDescriptor","pixelFormat","U8_RGBA_RT","selectFormatSimple","FogType","TextureMapping","lodBias","TemporalTexture","inputTexture","outputTexture","setDescription","getTextureForSampling","getTextureForResolving","Light","intensity","Fog","start","end","density","makeDataBuffer","GeometryEvent","BufferGeometry","props","vertices","inputLayoutDescriptor","vertexCount","instancedCount","dirty","mesh","build","AABB","setIndexBuffer","indices","isView","setVertexBuffer","byteStride","bufferByteOffset","existed","getVertexBuffer","updateVertexBuffer","bufferDescriptor","CHANGED","updateIndices","FXAAProgram","features","textureMapping","pushFXAAPass","builder","renderHelper","mainColorTargetID","mainColorResolveTextureID","fxaaProgram","scope","SceneUniform","RenderGraphPlugin","lightPool","texturePool","batchManager","options","renderLists","leftEye","rightEye","picking","cameras","getSwapChain","swapChain","getRenderLists","renderingService","config","canvas","renderingContext","root","ownerDocument","defaultView","disableRenderHooks","handleMounted","object","nodeName","renderable3D","handleUnmounted","remove","handleAttributeChanged","attrName","newValue","parentNode","child","changeRenderOrder","sortable","renderOrder","updateAttribute","handleBoundsChanged","hooks","initAsync","tapPromise","addEventListener","ElementEvent","MOUNTED","UNMOUNTED","ATTR_MODIFIED","BOUNDS_CHANGED","renderer","getConfig","enableDirtyRectangleRendering","$canvas","contextService","getDomElement","resize","deviceContribution","createSwapChain","configureSwapChain","CanvasEvent","RESIZE","attach","tap","removeEventListener","checkForLeaks","frame","session","layer_1","renderState","baseLayer","layers","framebufferWidth","framebufferHeight","framebuffer","pose","getViewerPose","referenceSpace","views","viewport","getViewport","cameraMatrix","mat4","transform","matrix","projectionMatrix","viewMatrix","mat4.invert","mat4.create","mat4.scale","vec3.fromValues","position","cameraPosition","isOrtho","camera","getPerspective","getViewTransform","getPosition","getCanvas","background","backgroundColor","parseColor","alpha","mainRenderDesc","mainDepthDesc","mainDepthTargetID","enableFXAA","getOnscreenTexture","normalizedW","normalizedH","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","PROJECTION_MATRIX","VIEW_MATRIX","CAMERA_POSITION","DEVICE_PIXEL_RATIO","getDPR","VIEWPORT","IS_ORTHO","IS_PICKING","render","enableCapture","resolveCapturePromise","captureOptions","encoderOptions","dataURL","toDataURL","loadTexture","successCallback","getOrCreateTexture","capturePromise","PickingPlugin","renderGraphPlugin","pickingIdGenerator","pickingId","encodedPickingColor","init","pickSync","pick","topmost","dpr","xInDevicePixel","yInDevicePixel","picked","pickedDisplayObjects","pickByRectangleInDepth","Rectangle","round","rect","targets","pickByRectangle","restorePickingColor","displayObjects","mainPickingDesc","pickingColorTargetID","currentView","getView","rt","pickedColors","readback","createReadback","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","setEnableUpdate","pickedFeatureIdx","pickedDisplayObject","isVisible","isInteractive","canvasWidth","canvasHeight","RENDER_ORDER_SCALE","Batch","clipPathMeshCreated","beforeUploadUBO","beforeInitMesh","afterInitMesh","MaterialEvent","Material","textures","samplers","programDirty","textureDirty","geometryDirty","depthTest","dithering","wireframe","wireframeColor","wireframeLineWidth","vertexShader","fragmentShader","compile","defineProperty","blendEquation","blendEquationAlpha","blendSrc","blendDst","blendSrcAlpha","blendDstAlpha","stencilRef","dispatchMutationEvent","USE_WIREFRAME","uniformNames","structs","uniformStr","struct","getUniforms","shoudDispatchMutationEvent","existedTexture","LOADED","ShaderMaterial","USE_UV","USE_MAP","USE_FOG","enumToObject","enumObject","compareDefines","d1","d2","d1Keys","every","definedProps","fromEntries","packUint8ToFloat","floor","VertexAttributeBufferIndex","VertexAttributeLocation","FILL_TEXTURE_MAPPING","SDFVertexAttributeBufferIndex","SDFVertexAttributeLocation","Instanced","drawcallCtors","gradientAttributeName","objects","materialDirty","textureMappings","mergeXYZIntoModelMatrix","checkNodeName","maxInstances","inited","observeGeometryChanged","observeMaterialChanged","renderable","dirtify","shouldMergeColor","o1","o2","isCSSRGB","isPattern","image","shouldMerge","instance","clipPath","createGeometry","modelMatrix","modelViewMatrix","packedModelMatrix","packedFillStroke","packedStyle","packedPicking","anchorOffset","CIRCLE","ELLIPSE","stroke","opacity","fillOpacity","strokeOpacity","visibility","increasedLineWidthForHitTesting","fillColor","strokeColor","mat4.mul","getWorldTransform","mat4.fromTranslation","mat4.copy","MODEL_MATRIX","MODEL_MATRIX0","MODEL_MATRIX1","MODEL_MATRIX2","MODEL_MATRIX3","PACKED_COLOR","PACKED_STYLE","PACKED_STYLE1","PACKED_STYLE2","PICKING_COLOR","applyRenderInst","useFog","clipPathTarget","REPLACE","createMaterial","oldDefines","fillTextureMapping","createFillGradientTextureMapping","mapping","generateWireframe","useIndexes","uploadUBO","OPAQUE","updateBatchedAttribute","startIndex","packedFillStroke_1","findIndex","packed_1","anchorOffset_1","packed_2","modelMatrix_1","packed_3","indiceNum","originalVertexBuffers","cursor","uniqueIndices","barycentricBuffer","BARYCENTRIC","useLight","uploadFog","uploadMaterial","counter_1","materialMegaState","currentAttachmentsState","materialUniforms","texImageSource","getOrCreateGradient","gradients","getOrCreatePattern","getOrCreateCanvas","fillMapping","SDF_Shape","RECT","SDFDrawcall","instanced","positions","circle","radius","omitStroke","shouldOmitStroke","getSize","isBillboard","isSizeAttenuation","UV","EXTRUDE","POSITION","SIZE","PACKED_STYLE3","parsed","tagName","lineDash","hasStroke","isNone","hasLineDash","item","earcut","holeIndices","dim","minX","minY","maxX","maxY","invSize","hasHoles","outerLen","outerNode","linkedList","triangles","prev","steiner","getLeftmost","compareX","filterPoints","eliminateHole","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","equals","removeNode","again","area","ear","zOrder","prevZ","nextZ","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","maxTX","maxTY","minZ","maxZ","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","bridge","qx","mx","my","tanMin","sectorContainsSector","findHoleBridge","bridgeReverse","filteredBridge","leftmost","px","py","intersectsPolygon","inside","middleInside","p1","p2","q1","q2","sign","o3","o4","onSegment","num","Node","an","bp","sum","earcutModule","earcut$2","default","deviation","polygonArea","trianglesArea","flatten","holes","dimensions","holeIndex","distance","dx","dy","pointAt$3","cubicAt","p0","p3","onet","cubicLength","x3","y3","x4","y4","iterationCount","xArr","yArr","totalLength","snapLength","cubics","xt","yt","c3","c12","c23","divideCubic","quadraticAt","quadraticLength","quadratics","controlPoint1","controlPoint2","divideQuadratic","SEGMENT_LENGTH","MIN_SEGMENT_NUM","MAX_SEGMENT_NUM","quadCurveTo","cpX","cpY","toX","toY","points","segmentNum","fromX","fromY","xa","ya","bezierCurveTo","cpX2","cpY2","dt","dt2","dt3","t2","t3","LineVertexAttributeBufferIndex","LineVertexAttributeLocation","INF","TinySDF","runtime","fontSize","cutoff","fontFamily","fontWeight","fontStyle","$offscreenCanvas","offscreenCanvasCreator","ctx","getOrCreateContext","willReadFrequently","font","textBaseline","textAlign","fillStyle","gridOuter","Float64Array","gridInner","char","measureText","glyphAdvance","actualBoundingBoxDescent","actualBoundingBoxLeft","actualBoundingBoxRight","glyphTop","actualBoundingBoxAscent","glyphWidth","glyphHeight","Uint8ClampedArray","glyph","glyphLeft","clearRect","fillText","imgData","getImageData","edt","gridSize","edt1d","grid","stride","qr","packBoolean","is3DPolyline","POLYLINE","polylineControlPoints","JOINT_TYPE","InstancedPathDrawcall","calcSegmentNum","calcSubpathNum","PATH","updateBuffer","calcSubpathIndex","fillDrawcallCount","InstancedFillDrawcall","pointsBuffer","travelBuffer","packedDash","pBuffer","tBuffer","lineDashOffset","PACKED","PREV","POINT1","VERTEX_JOINT","POINT2","NEXT","VERTEX_NUM","TRAVEL","DASH","pointsBuffer_1","travelBuffer_1","instancedCount_1","packedDash_1","stridePoints","strideFloats","needEarcut","subPathIndex","lineCap","lineJoin","zIndex","defX","defY","markerStart","markerEnd","markerStartOffset","markerEndOffset","POLYGON","length_1","startOffsetX_1","startOffsetY_1","endOffsetX_1","endOffsetY_1","isDisplayObject","atan2","isPolyline_1","reduce","cur","addTailSegment","path","parsePath","convertToPath","mat4.identity","absolutePath_1","absolutePath","segments_1","segments","startOffsetX_2","startOffsetY_2","endOffsetX_2","endOffsetY_2","getStartTangent","getEndTangent","startPointIndex_1","mCommandsNum_1","command","params","nextSegment","useStartOffset","useEndOffset","prePoint","i_1","epsilon","jointType","joint","JOINT_BEVEL","JOINT_ROUND","JOINT_MITER","getJointType","capType","CAP_SQUARE","CAP_ROUND","CAP_BUTT","getCapType","endJoint","JOINT_CAP_ROUND","JOINT_CAP_BUTT","JOINT_CAP_SQUARE","points_1","dist","vec","FillVertexAttributeBufferIndex","FillVertexAttributeLocation","InstancedLineVertexAttributeBufferIndex","InstancedLineVertexAttributeLocation","trianglesHash","compareTrianglesHash","some","uvsBuffer","halfExtents_1","getGeometryBounds","uvBuffer_1","packedStyle_1","billboardRotation","INSTANCED","segmentInstanceGeometry","ImageVertexAttributeBufferIndex","ImageVertexAttributeLocation","LineCap_MAP","butt","square","InstancedLineDrawcall","isLine","subpathIndex","mSegmentCount","mCommandIndex","tangent","interleaved","packedCap","parsedLineStyleProps","LINE","getTotalLength","lineCap_2","isBillboard_2","isSizeAttenuation_2","calcOffset","startOffsetX","startOffsetY","endOffsetX","endOffsetY","calcDash","dashOffset","dashSegmentPercent","dashRatioInEachSegment","POINTA","POINTB","CAP","parsedLineStyle","segmentsLength","ImageDrawcall","u_Map","sizes","createImage","channels","RangeError","copyImage","srcImg","dstImg","srcPt","dstPt","dstData","srcOffset","AlphaImage","newImage","resizeImage","clone","GlyphAtlas","stacks","bins","stack","glyphs","stackPositions","bitmap","bin","metrics","boxes","maxWidth","boxes_1","boxes_1_1","box","spaces","boxes_2","boxes_2_1","space","potpack","TextVertexAttributeBufferIndex","TextVertexAttributeLocation","TextUniform","GlyphManager","sdfGeneratorCache","textMetricsCache","glyphMap","glyphAtlasTexture","getMap","getAtlas","glyphAtlas","getAtlasTexture","fontStack","lineHeight","letterSpacing","positionedGlyphs","justify","lineStartIndex","charCode","charCodeAt","advance","generateAtlas","text","newChars","charSet","String","fromCharCode","getDefaultCharacterSet","existedChars","Set","generateSDF","atlasWidth","atlasHeight","ALPHA","sdfGenerator","TextDrawcall","packedBufferObjectMap","WeakMap","tmpMat4","fontHash","calcFontHash","glyphManager","getBounds","fontScale","uvOffsets","packed","indicesOff","enableCSSParsing","linePositionY","buildTextBuffers","indicesOffset","charUVOffsetBuffer","charPositionsBuffer","TEX","OFFSET","BACK","allText","offscreenCanvas","SDF_MAP","SDF_MAP_SIZE","FONT_SIZE","GAMMA_SCALE","STROKE_BLUR","HAS_STROKE","vertice","bytes","sliced","vertice_1","bytes_1","charPackedBuffer","glyphQuads","quads","positionedGlyph","glyphPositions","halfAdvance","builtInOffset","BASE_FONT_BUFFER","tl","tr","bl","br","tex","glyphOffset","getGlyphQuads","quad","temp","MeshDrawcall","CircleRenderer","getDrawcallCtors","needDrawStrokeSeparately","hasFill","hasDash","PathRenderer","subpathNum","GroupRenderer","ImageRenderer","TextRenderer","LineRenderer","MeshRenderer","RectRenderer","hasDifferentRadius","stencilRefCounter","BatchManager","rendererFactory","pendingUpdatePatches","stencilRefCache","drawcall","isPicking","updatePendingPatches","renderer_1","drawcallCtor","existedDrawcall","batchKey","deletedDrawcall","attributeName","immediately","objectIdx","patchKey","objectIndices","getStencilRef","entity","updatePatches","lastUpdateBatch","TexturePool","textureCache","image_1","isBrowser","window","Image","onload","onSuccess","globalThis","createImageBitmap","catch","onerror","crossOrigin","imagePool","gradient","fillRect","pattern","callback","repetition","canvasPattern","getImageSync","createPattern","parsedTransformToMat4","parseTransform","setTransform","Plugin","toneMappingExposure","geometryUpdaterFactory","circleRenderer","pathRenderer","IMAGE","TEXT","GROUP","HTML","addRenderingPlugin","getRenderGraphPlugin","plugins","setParameters","AbstractRendererPlugin","TRANSLUCENT","NEGATIVE_ONE","projectionMatrixOpenGLFromD3D","projectionMatrixD3DFromOpenGL","bias","isTranslucent"],"mappings":"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","x_google_ignoreList":[0,6,7,8,9,10,11,12,13,14,15,16,17,53]}